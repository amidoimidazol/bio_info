<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../displayToc.js"></script>
<script language="JavaScript" src="../../../tocParas.js"></script>
<script language="JavaScript" src="../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#METHODS">METHODS</a>
    <ul>
      <li><a href="#GD::Text::Align-new-gd_object-attrib-value-...-">GD::Text::Align-&gt;new($gd_object, attrib =&gt; value, ...)</a></li>
      <li><a href="#align-set-attrib-value-...-">$align-&gt;set(attrib =&gt; value, ...)</a></li>
      <li><a href="#align-get-attribute-">$align-&gt;get(attribute)</a></li>
      <li><a href="#align-set_valign-value-">$align-&gt;set_valign(value)</a></li>
      <li><a href="#align-set_halign-value-">$align-&gt;set_halign(value)</a></li>
      <li><a href="#align-set_align-valign-halign-">$align-&gt;set_align(valign, halign)</a></li>
      <li><a href="#align-draw-x-y-angle-">$align-&gt;draw(x, y, angle)</a></li>
      <li><a href="#align-bounding_box-x-y-angle-">$align-&gt;bounding_box(x, y, angle)</a></li>
    </ul>
  </li>
  <li><a href="#NOTES">NOTES</a></li>
  <li><a href="#BUGS">BUGS</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>GD::Text::Align - Draw aligned strings</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code>  <span class="keyword">use</span> <span class="variable">GD</span><span class="operator">;</span>
  <span class="keyword">use</span> <span class="variable">GD::Text::Align</span><span class="operator">;</span>
  
  <span class="keyword">my</span> <span class="variable">$gd</span> <span class="operator">=</span> <span class="variable">GD::Image</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="number">800</span><span class="operator">,</span><span class="number">600</span><span class="operator">);</span>
  <span class="comment"># allocate colours, do other things.</span>
  
  <span class="keyword">my</span> <span class="variable">$align</span> <span class="operator">=</span> <span class="variable">GD::Text::Align</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="variable">$gd</span>
    <span class="string">valign</span> <span class="operator">=&gt;</span> <span class="string">'top'</span><span class="operator">,</span>
    <span class="string">halign</span> <span class="operator">=&gt;</span> <span class="string">'right'</span><span class="operator">,</span>
  <span class="operator">);</span>
  <span class="variable">$align</span><span class="operator">-&gt;</span><span class="variable">set_font</span><span class="operator">(</span><span class="string">'arial'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">);</span>
  <span class="variable">$align</span><span class="operator">-&gt;</span><span class="variable">set_text</span><span class="operator">(</span><span class="string">'some string'</span><span class="operator">);</span>
  <span class="variable">@bb</span> <span class="operator">=</span> <span class="variable">$align</span><span class="operator">-&gt;</span><span class="variable">bounding_box</span><span class="operator">(</span><span class="number">200</span><span class="operator">,</span> <span class="number">400</span><span class="operator">,</span> <span class="variable">PI</span><span class="operator">/</span><span class="number">3</span><span class="operator">);</span>
  <span class="comment"># you can do things based on the bounding box here</span>
  <span class="variable">$align</span><span class="operator">-&gt;</span><span class="variable">draw</span><span class="operator">(</span><span class="number">200</span><span class="operator">,</span> <span class="number">400</span><span class="operator">,</span> <span class="variable">PI</span><span class="operator">/</span><span class="number">3</span><span class="operator">);</span>
</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>GD::Text::Align provides an object that draws a string aligned to a coordinate at an angle.</p>

<p>For builtin fonts only two angles are valid: 0 and PI/2. All other angles will be converted to one of these two.</p>

<h1 id="METHODS">METHODS</h1>

<p>This class inherits everything from GD::Text. I will only discuss the methods and attributes here that are not discussed there, or that have a different interface or behaviour. Methods directly inherited include <code><code>set_text</code></code> and <code><code>set_font</code></code>.</p>

<h2 id="GD::Text::Align-new-gd_object-attrib-value-...-">GD::Text::Align-&gt;new($gd_object, attrib =&gt; value, ...)</h2>

<p>Create a new object. The first argument to new has to be a valid GD::Image object. The other arguments will be passed on to the set method.</p>

<h2 id="align-set-attrib-value-...-">$align-&gt;set(attrib =&gt; value, ...)</h2>

<p>Set an attribute. Valid attributes are the ones discussed in <a href="../../../lib/GD/Text.html">GD::Text</a> and:</p>

<dl>

<dt id="valign-halign">valign, halign</dt>
<dd>

<p>Vertical and horizontal alignment of the string. See also set_valign and set_halign.</p>

</dd>
<dt id="colour-color">colour, color</dt>
<dd>

<p>Synonyms. The colour to use to draw the string. This should be the index of the colour in the GD::Image object&#39;s palette. The default value is the last colour in the GD object&#39;s palette at the time of the creation of <code><code>$align</code></code>.</p>

</dd>
</dl>

<h2 id="align-get-attribute-">$align-&gt;get(attribute)</h2>

<p>Get the value of an attribute. Valid attributes are all the attributes mentioned in <a href="../../../lib/GD/Text.html">GD::Text</a>, the attributes mentioned under the <code><code>set</code></code> method and</p>

<dl>

<dt id="x-y-and-angle">x, y and angle</dt>
<dd>

<p>The x and y coordinate and the angle to be used. You can only do this after a call to the draw or bounding_box methods. Note that these coordinates are not necessarily the same ones that were passed in. Instead, they are the coordinates from where the GD methods will start drawing. I doubt that this is very useful to anyone.</p>

</dd>
</dl>

<p>Note that while you can set the colour with both &#39;color&#39; and &#39;colour&#39;, you can only get it as &#39;colour&#39;. Sorry, but such is life in Australia.</p>

<h2 id="align-set_valign-value-">$align-&gt;set_valign(value)</h2>

<p>Set the vertical alignment of the string to one of &#39;top&#39;, &#39;center&#39;, &#39;base&#39; or &#39;bottom&#39;. For builtin fonts the last two are the same. The value &#39;base&#39; denotes the baseline of a TrueType font. Returns true on success, false on failure.</p>

<h2 id="align-set_halign-value-">$align-&gt;set_halign(value)</h2>

<p>Set the horizontal alignment of the string to one of &#39;left&#39;, &#39;center&#39;, or &#39;right&#39;. Returns true on success, false on failure.</p>

<h2 id="align-set_align-valign-halign-">$align-&gt;set_align(valign, halign)</h2>

<p>Set the vertical and horizontal alignment. Just here for convenience. See also <code><code>set_valign</code></code> and <code><code>set_halign</code></code>. Returns true on success, false on failure.</p>

<h2 id="align-draw-x-y-angle-">$align-&gt;draw(x, y, angle)</h2>

<p>Draw the string at coordinates <i>x</i>, <i>y</i> at an angle <i>angle</i> in radians. The x and y coordinate become the pivot around which the string rotates.</p>

<p>Note that for the builtin GD fonts the only two valid angles are 0 and PI/2.</p>

<p>Returns the bounding box of the drawn string (see <code><code>bounding_box()</code></code>).</p>

<h2 id="align-bounding_box-x-y-angle-">$align-&gt;bounding_box(x, y, angle)</h2>

<p>Return the bounding box of the string to draw. This returns an eight-element list (exactly like the GD::Image-&gt;stringTTF method):</p>

<pre><code><code>  (x1,y1) lower left corner
  (x2,y2) lower right corner
  (x3,y3) upper right corner
  (x4,y4) upper left corner</code></code></pre>

<p>Note that upper, lower, left and right are relative to the string, not to the canvas.</p>

<p>The bounding box can be used to make decisions about whether to move the string or change the font size prior to actually drawing the string.</p>

<h1 id="NOTES">NOTES</h1>

<p>As with all Modules for Perl: Please stick to using the interface. If you try to fiddle too much with knowledge of the internals of this module, you may get burned. I may change them at any time.</p>

<p>You can only use TrueType fonts with version of GD &gt; 1.20, and then only if compiled with support for this. If you attempt to do it anyway, you will get errors.</p>

<p>In the following, terms like &#39;top&#39;, &#39;upper&#39;, &#39;left&#39; and the like are all relative to the string to be drawn, not to the canvas.</p>

<h1 id="BUGS">BUGS</h1>

<p>Any bugs inherited from GD::Text.</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>copyright 1999 Martien Verbruggen (mgjv@comdyn.com.au)</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a href="../../../lib/GD.html">GD</a>, <a href="../../../lib/GD/Text.html">GD::Text</a>, <a href="../../../lib/GD/Text/Wrap.html">GD::Text::Wrap</a></p>


</body>

</html>


