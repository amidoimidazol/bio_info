<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>ActiveState::Duration - Format and parse time duration values</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code><code> <span class="keyword">use</span> <span class="variable">ActiveState::Duration</span> <span class="string">qw(ago_eng)</span><span class="operator">;</span>
 <span class="keyword">print</span> <span class="string">"It is now "</span><span class="operator">,</span> <span class="variable">ago_eng</span><span class="operator">(</span><span class="keyword">time</span><span class="operator">),</span> <span class="string">" since time begun.\n"</span><span class="operator">;</span>
</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The <code><code>ActiveState::Duration</code></code> module provides functions to format and parse time duration values. Time is expressed as a number of weeks, days, hours, minutes and seconds.</p>

<dl>

<dt id="str-dur_format_XXX-duration-">$str = dur_format_XXX( $duration )</dt>
<dd>

</dd>
<dt id="str-dur_format_XXX-duration-precision-">$str = dur_format_XXX( $duration, $precision )</dt>
<dd>

</dd>
<dt id="str-dur_format_XXX-duration-precision-frac_part-">$str = dur_format_XXX( $duration, $precision, $frac_part )</dt>
<dd>

<p>The dur_format_XXX() functions take a time $duration value (in seconds) and format it as a readable string. This section describes the common arguments supported by most of dur_format_XXX() functions. The <code><code>XXX</code></code> in the function name selects which format it returns and is described below.</p>

<p>The $precision argument specify how close the string much match the duration value. The default is 0.05 which means that up to 5% off is acceptable. Pass 0 as the $precision to request an exact result.</p>

<p>The $frac_part specify at which time unit formatting will start using fractions to achieve the desired precision. It should be one of &quot;week&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;minute&quot;, &quot;second&quot; or &quot;first&quot;. The default is &quot;second&quot;.</p>

<p>A $frac_part value of &quot;first&quot; is special and needs some more explanation. The time units will be considered in order from &quot;week&quot; to &quot;second&quot;, and the first one longer than the $duration is used.</p>

</dd>
<dt id="str-dur_format_sm-ARGS-">$str = dur_format_sm( @ARGS )</dt>
<dd>

<p>Use the Sendmail format which looks like &quot;1h30m&quot;. If the $duration value is negative it is formatted like &quot;-1h30m&quot;.</p>

</dd>
<dt id="str-dur_format_iso-ARGS-">$str = dur_format_iso( @ARGS )</dt>
<dd>

<p>Use the ISO 8601 format which looks like &quot;PT1H30M&quot;. If the $duration value is negative it is formatter with a leading &quot;-&quot;, even though that is not standards conforming.</p>

</dd>
<dt id="str-dur_format_eng-ARGS-">$str = dur_format_eng( @ARGS )</dt>
<dd>

<p>Use plain English; &quot;1 hour and 30 minutes&quot;. If the $duration value is negative then the word &quot;negative&quot; is prepended to the string.</p>

</dd>
<dt id="str-ago_eng-ARGS-">$str = ago_eng( @ARGS )</dt>
<dd>

<p>Same as dur_format_eng() but adds the word &quot;ago&quot; as long as $duration is positive and the words &quot;from now&quot; if $duration is negative. A $duration of 0 is special cased as &quot;just now&quot;.</p>

</dd>
<dt id="str-dur_format_clock-duration-">$str = dur_format_clock( $duration )</dt>
<dd>

<p>Use stopwatch format; &quot;1:30:00&quot;, i.e. &quot;hhh:mm:ss&quot;. This function does not take the $precision or $frac_part arguments yet and the $duration is truncated to whole seconds. A negative $duration value will be formated with a leading &quot;-&quot;. A value of <code><code>0</code></code> is formatted as &quot;0:00:00&quot;.</p>

</dd>
<dt id="duration-dur_parse-str-">$duration = dur_parse( $str )</dt>
<dd>

<p>This function takes a string representing a duration value and return it as number of seconds. All strings produced by any of the dur_format_XXX() or the ago_eng() functions can be parsed back to an $duration value by dur_parse(). It returns <code><code>undef</code></code> if it cannot parse the $str for some reason.</p>

</dd>
</dl>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright (C) 2003 ActiveState Corp. All rights reserved.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><a>Time::Duration</a>, <a href="../../lib/ActiveState/StopWatch.html">ActiveState::StopWatch</a>, <a href="../../lib/ActiveState/Bytes.html">ActiveState::Bytes</a></p>


</body>

</html>


