<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../displayToc.js"></script>
<script language="JavaScript" src="../../tocParas.js"></script>
<script language="JavaScript" src="../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../scineplex.css">
<title></title>
<link rel="stylesheet" href="../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME </a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#Perl-Functions-by-Category">Perl Functions by Category </a></li>
      <li><a href="#Portability">Portability   </a></li>
      <li><a href="#Alphabetical-Listing-of-Perl-Functions">Alphabetical Listing of Perl Functions</a></li>
      <li><a href="#Non-function-Keywords-by-Cross-reference">Non-function Keywords by Cross-reference</a>
        <ul>
          <li><a href="#perldata">perldata</a></li>
          <li><a href="#perlmod">perlmod</a></li>
          <li><a href="#perlobj">perlobj</a></li>
          <li><a href="#perlop">perlop</a></li>
          <li><a href="#perlsub">perlsub</a></li>
          <li><a href="#perlsyn">perlsyn</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME </h1>

<p>perlfunc - Perl builtin functions</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The functions in this section can serve as terms in an expression. They fall into two major categories: list operators and named unary operators. These differ in their precedence relationship with a following comma. (See the precedence table in <a href="../../lib/pods/perlop.html">perlop</a>.) List operators take more than one argument, while unary operators can never take more than one argument. Thus, a comma terminates the argument of a unary operator, but merely separates the arguments of a list operator. A unary operator generally provides scalar context to its argument, while a list operator may provide either scalar or list contexts for its arguments. If it does both, scalar arguments come first and list argument follow, and there can only ever be one such list argument. For instance, splice() has three scalar arguments followed by a list, whereas gethostbyname() has four scalar arguments.</p>

<p>In the syntax descriptions that follow, list operators that expect a list (and provide list context for elements of the list) are shown with LIST as an argument. Such a list may consist of any combination of scalar arguments or list values; the list values will be included in the list as if each individual element were interpolated at that point in the list, forming a longer single-dimensional list value. Commas should separate literal elements of the LIST.</p>

<p>Any function in the list below may be used either with or without parentheses around its arguments. (The syntax descriptions omit the parentheses.) If you use parentheses, the simple but occasionally surprising rule is this: It <i>looks</i> like a function, therefore it <i>is</i> a function, and precedence doesn&#39;t matter. Otherwise it&#39;s a list operator or unary operator, and precedence does matter. Whitespace between the function and left parenthesis doesn&#39;t count, so sometimes you need to be careful:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">+</span><span class="number">4</span><span class="operator">;</span>      <span class="comment"># Prints 7.</span>
    <span class="keyword">print</span><span class="operator">(</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)</span> <span class="operator">+</span> <span class="number">4</span><span class="operator">;</span>   <span class="comment"># Prints 3.</span>
    <span class="keyword">print</span> <span class="operator">(</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)+</span><span class="number">4</span><span class="operator">;</span>    <span class="comment"># Also prints 3!</span>
    <span class="keyword">print</span> <span class="operator">+(</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)+</span><span class="number">4</span><span class="operator">;</span>   <span class="comment"># Prints 7.</span>
    <span class="keyword">print</span> <span class="operator">((</span><span class="number">1</span><span class="operator">+</span><span class="number">2</span><span class="operator">)+</span><span class="number">4</span><span class="operator">);</span>  <span class="comment"># Prints 7.</span>
</code></code></pre>

<p>If you run Perl with the <b>-w</b> switch it can warn you about this. For example, the third line above produces:</p>

<pre><code><code>    print (...) interpreted as function at - line 1.
    Useless use of integer addition in void context at - line 1.</code></code></pre>

<p>A few functions take no arguments at all, and therefore work as neither unary nor list operators. These include such functions as <code><code>time</code></code> and <code><code>endpwent</code></code>. For example, <code><code>time+86_400</code></code> always means <code><code>time() + 86_400</code></code>.</p>

<p>For functions that can be used in either a scalar or list context, nonabortive failure is generally indicated in scalar context by returning the undefined value, and in list context by returning the empty list.</p>

<p>Remember the following important rule: There is <b>no rule</b> that relates the behavior of an expression in list context to its behavior in scalar context, or vice versa. It might do two totally different things. Each operator and function decides which sort of value would be most appropriate to return in scalar context. Some operators return the length of the list that would have been returned in list context. Some operators return the first value in the list. Some operators return the last value in the list. Some operators return a count of successful operations. In general, they do what you want, unless you want consistency. </p>

<p>A named array in scalar context is quite different from what would at first glance appear to be a list in scalar context. You can&#39;t get a list like <code><code>(1,2,3)</code></code> into being in scalar context, because the compiler knows the context at compile time. It would generate the scalar comma operator there, not the list construction version of the comma. That means it was never a list to start with.</p>

<p>In general, functions in Perl that serve as wrappers for system calls (&quot;syscalls&quot;) of the same name (like chown(2), fork(2), closedir(2), etc.) return true when they succeed and <code><code>undef</code></code> otherwise, as is usually mentioned in the descriptions below. This is different from the C interfaces, which return <code><code>-1</code></code> on failure. Exceptions to this rule include <code><code>wait</code></code>, <code><code>waitpid</code></code>, and <code><code>syscall</code></code>. System calls also set the special <code><code>$!</code></code> variable on failure. Other functions do not, except accidentally.</p>

<p>Extension modules can also hook into the Perl parser to define new kinds of keyword-headed expression. These may look like functions, but may also look completely different. The syntax following the keyword is defined entirely by the extension. If you are an implementor, see <a href="../../lib/pods/perlapi.html#PL_keyword_plugin">&quot;PL_keyword_plugin&quot; in perlapi</a> for the mechanism. If you are using such a module, see the module&#39;s documentation for details of the syntax that it defines.</p>

<h2 id="Perl-Functions-by-Category">Perl Functions by Category </h2>

<p>Here are Perl&#39;s functions (including things that look like functions, like some keywords and named operators) arranged by category. Some functions appear in more than one place.</p>

<dl>

<dt id="Functions-for-SCALARs-or-strings">Functions for SCALARs or strings   </dt>
<dd>

<p><code><code>chomp</code></code>, <code><code>chop</code></code>, <code><code>chr</code></code>, <code><code>crypt</code></code>, <code><code>fc</code></code>, <code><code>hex</code></code>, <code><code>index</code></code>, <code><code>lc</code></code>, <code><code>lcfirst</code></code>, <code><code>length</code></code>, <code><code>oct</code></code>, <code><code>ord</code></code>, <code><code>pack</code></code>, <code><code>q//</code></code>, <code><code>qq//</code></code>, <code><code>reverse</code></code>, <code><code>rindex</code></code>, <code><code>sprintf</code></code>, <code><code>substr</code></code>, <code><code>tr///</code></code>, <code><code>uc</code></code>, <code><code>ucfirst</code></code>, <code><code>y///</code></code></p>

<p><code><code>fc</code></code> is available only if the <code><code>&quot;fc&quot;</code></code> feature is enabled or if it is prefixed with <code><code>CORE::</code></code>. The <code><code>&quot;fc&quot;</code></code> feature is enabled automatically with a <code><code>use v5.16</code></code> (or higher) declaration in the current scope.</p>

</dd>
<dt id="Regular-expressions-and-pattern-matching">Regular expressions and pattern matching   </dt>
<dd>

<p><code><code>m//</code></code>, <code><code>pos</code></code>, <code><code>qr//</code></code>, <code><code>quotemeta</code></code>, <code><code>s///</code></code>, <code><code>split</code></code>, <code><code>study</code></code></p>

</dd>
<dt id="Numeric-functions">Numeric functions    </dt>
<dd>

<p><code><code>abs</code></code>, <code><code>atan2</code></code>, <code><code>cos</code></code>, <code><code>exp</code></code>, <code><code>hex</code></code>, <code><code>int</code></code>, <code><code>log</code></code>, <code><code>oct</code></code>, <code><code>rand</code></code>, <code><code>sin</code></code>, <code><code>sqrt</code></code>, <code><code>srand</code></code></p>

</dd>
<dt id="Functions-for-real-ARRAYs">Functions for real @ARRAYs </dt>
<dd>

<p><code><code>each</code></code>, <code><code>keys</code></code>, <code><code>pop</code></code>, <code><code>push</code></code>, <code><code>shift</code></code>, <code><code>splice</code></code>, <code><code>unshift</code></code>, <code><code>values</code></code></p>

</dd>
<dt id="Functions-for-list-data">Functions for list data </dt>
<dd>

<p><code><code>grep</code></code>, <code><code>join</code></code>, <code><code>map</code></code>, <code><code>qw//</code></code>, <code><code>reverse</code></code>, <code><code>sort</code></code>, <code><code>unpack</code></code></p>

</dd>
<dt id="Functions-for-real-HASHes">Functions for real %HASHes </dt>
<dd>

<p><code><code>delete</code></code>, <code><code>each</code></code>, <code><code>exists</code></code>, <code><code>keys</code></code>, <code><code>values</code></code></p>

</dd>
<dt id="Input-and-output-functions">Input and output functions    </dt>
<dd>

<p><code><code>binmode</code></code>, <code><code>close</code></code>, <code><code>closedir</code></code>, <code><code>dbmclose</code></code>, <code><code>dbmopen</code></code>, <code><code>die</code></code>, <code><code>eof</code></code>, <code><code>fileno</code></code>, <code><code>flock</code></code>, <code><code>format</code></code>, <code><code>getc</code></code>, <code><code>print</code></code>, <code><code>printf</code></code>, <code><code>read</code></code>, <code><code>readdir</code></code>, <code><code>readline</code></code> <code><code>rewinddir</code></code>, <code><code>say</code></code>, <code><code>seek</code></code>, <code><code>seekdir</code></code>, <code><code>select</code></code>, <code><code>syscall</code></code>, <code><code>sysread</code></code>, <code><code>sysseek</code></code>, <code><code>syswrite</code></code>, <code><code>tell</code></code>, <code><code>telldir</code></code>, <code><code>truncate</code></code>, <code><code>warn</code></code>, <code><code>write</code></code></p>

<p><code><code>say</code></code> is available only if the <code><code>&quot;say&quot;</code></code> feature is enabled or if it is prefixed with <code><code>CORE::</code></code>. The <code><code>&quot;say&quot;</code></code> feature is enabled automatically with a <code><code>use v5.10</code></code> (or higher) declaration in the current scope.</p>

</dd>
<dt id="Functions-for-fixed-length-data-or-records">Functions for fixed-length data or records</dt>
<dd>

<p><code><code>pack</code></code>, <code><code>read</code></code>, <code><code>syscall</code></code>, <code><code>sysread</code></code>, <code><code>sysseek</code></code>, <code><code>syswrite</code></code>, <code><code>unpack</code></code>, <code><code>vec</code></code></p>

</dd>
<dt id="Functions-for-filehandles-files-or-directories">Functions for filehandles, files, or directories      </dt>
<dd>

<p><code><code>-</code><i><code>X</code></i></code>, <code><code>chdir</code></code>, <code><code>chmod</code></code>, <code><code>chown</code></code>, <code><code>chroot</code></code>, <code><code>fcntl</code></code>, <code><code>glob</code></code>, <code><code>ioctl</code></code>, <code><code>link</code></code>, <code><code>lstat</code></code>, <code><code>mkdir</code></code>, <code><code>open</code></code>, <code><code>opendir</code></code>, <code><code>readlink</code></code>, <code><code>rename</code></code>, <code><code>rmdir</code></code>, <code><code>stat</code></code>, <code><code>symlink</code></code>, <code><code>sysopen</code></code>, <code><code>umask</code></code>, <code><code>unlink</code></code>, <code><code>utime</code></code></p>

</dd>
<dt id="Keywords-related-to-the-control-flow-of-your-Perl-program">Keywords related to the control flow of your Perl program </dt>
<dd>

<p><code><code>break</code></code>, <code><code>caller</code></code>, <code><code>continue</code></code>, <code><code>die</code></code>, <code><code>do</code></code>, <code><code>dump</code></code>, <code><code>eval</code></code>, <code><code>evalbytes</code></code> <code><code>exit</code></code>, <code><code>__FILE__</code></code>, <code><code>goto</code></code>, <code><code>last</code></code>, <code><code>__LINE__</code></code>, <code><code>next</code></code>, <code><code>__PACKAGE__</code></code>, <code><code>redo</code></code>, <code><code>return</code></code>, <code><code>sub</code></code>, <code><code>__SUB__</code></code>, <code><code>wantarray</code></code></p>

<p><code><code>break</code></code> is available only if you enable the experimental <code><code>&quot;switch&quot;</code></code> feature or use the <code><code>CORE::</code></code> prefix. The <code><code>&quot;switch&quot;</code></code> feature also enables the <code><code>default</code></code>, <code><code>given</code></code> and <code><code>when</code></code> statements, which are documented in <a href="../../lib/pods/perlsyn.html#Switch-Statements">&quot;Switch Statements&quot; in perlsyn</a>. The <code><code>&quot;switch&quot;</code></code> feature is enabled automatically with a <code><code>use v5.10</code></code> (or higher) declaration in the current scope. In Perl v5.14 and earlier, <code><code>continue</code></code> required the <code><code>&quot;switch&quot;</code></code> feature, like the other keywords.</p>

<p><code><code>evalbytes</code></code> is only available with with the <code><code>&quot;evalbytes&quot;</code></code> feature (see <a href="../../lib/feature.html">feature</a>) or if prefixed with <code><code>CORE::</code></code>. <code><code>__SUB__</code></code> is only available with with the <code><code>&quot;current_sub&quot;</code></code> feature or if prefixed with <code><code>CORE::</code></code>. Both the <code><code>&quot;evalbytes&quot;</code></code> and <code><code>&quot;current_sub&quot;</code></code> features are enabled automatically with a <code><code>use v5.16</code></code> (or higher) declaration in the current scope.</p>

</dd>
<dt id="Keywords-related-to-scoping">Keywords related to scoping</dt>
<dd>

<p><code><code>caller</code></code>, <code><code>import</code></code>, <code><code>local</code></code>, <code><code>my</code></code>, <code><code>our</code></code>, <code><code>package</code></code>, <code><code>state</code></code>, <code><code>use</code></code></p>

<p><code><code>state</code></code> is available only if the <code><code>&quot;state&quot;</code></code> feature is enabled or if it is prefixed with <code><code>CORE::</code></code>. The <code><code>&quot;state&quot;</code></code> feature is enabled automatically with a <code><code>use v5.10</code></code> (or higher) declaration in the current scope.</p>

</dd>
<dt id="Miscellaneous-functions">Miscellaneous functions</dt>
<dd>

<p><code><code>defined</code></code>, <code><code>formline</code></code>, <code><code>lock</code></code>, <code><code>prototype</code></code>, <code><code>reset</code></code>, <code><code>scalar</code></code>, <code><code>undef</code></code></p>

</dd>
<dt id="Functions-for-processes-and-process-groups">Functions for processes and process groups   </dt>
<dd>

<p><code><code>alarm</code></code>, <code><code>exec</code></code>, <code><code>fork</code></code>, <code><code>getpgrp</code></code>, <code><code>getppid</code></code>, <code><code>getpriority</code></code>, <code><code>kill</code></code>, <code><code>pipe</code></code>, <code><code>qx//</code></code>, <code><code>readpipe</code></code>, <code><code>setpgrp</code></code>, <code><code>setpriority</code></code>, <code><code>sleep</code></code>, <code><code>system</code></code>, <code><code>times</code></code>, <code><code>wait</code></code>, <code><code>waitpid</code></code></p>

</dd>
<dt id="Keywords-related-to-Perl-modules">Keywords related to Perl modules </dt>
<dd>

<p><code><code>do</code></code>, <code><code>import</code></code>, <code><code>no</code></code>, <code><code>package</code></code>, <code><code>require</code></code>, <code><code>use</code></code></p>

</dd>
<dt id="Keywords-related-to-classes-and-object-orientation">Keywords related to classes and object-orientation   </dt>
<dd>

<p><code><code>bless</code></code>, <code><code>dbmclose</code></code>, <code><code>dbmopen</code></code>, <code><code>package</code></code>, <code><code>ref</code></code>, <code><code>tie</code></code>, <code><code>tied</code></code>, <code><code>untie</code></code>, <code><code>use</code></code></p>

</dd>
<dt id="Low-level-socket-functions">Low-level socket functions  </dt>
<dd>

<p><code><code>accept</code></code>, <code><code>bind</code></code>, <code><code>connect</code></code>, <code><code>getpeername</code></code>, <code><code>getsockname</code></code>, <code><code>getsockopt</code></code>, <code><code>listen</code></code>, <code><code>recv</code></code>, <code><code>send</code></code>, <code><code>setsockopt</code></code>, <code><code>shutdown</code></code>, <code><code>socket</code></code>, <code><code>socketpair</code></code></p>

</dd>
<dt id="System-V-interprocess-communication-functions">System V interprocess communication functions      </dt>
<dd>

<p><code><code>msgctl</code></code>, <code><code>msgget</code></code>, <code><code>msgrcv</code></code>, <code><code>msgsnd</code></code>, <code><code>semctl</code></code>, <code><code>semget</code></code>, <code><code>semop</code></code>, <code><code>shmctl</code></code>, <code><code>shmget</code></code>, <code><code>shmread</code></code>, <code><code>shmwrite</code></code></p>

</dd>
<dt id="Fetching-user-and-group-info">Fetching user and group info       </dt>
<dd>

<p><code><code>endgrent</code></code>, <code><code>endhostent</code></code>, <code><code>endnetent</code></code>, <code><code>endpwent</code></code>, <code><code>getgrent</code></code>, <code><code>getgrgid</code></code>, <code><code>getgrnam</code></code>, <code><code>getlogin</code></code>, <code><code>getpwent</code></code>, <code><code>getpwnam</code></code>, <code><code>getpwuid</code></code>, <code><code>setgrent</code></code>, <code><code>setpwent</code></code></p>

</dd>
<dt id="Fetching-network-info">Fetching network info       </dt>
<dd>

<p><code><code>endprotoent</code></code>, <code><code>endservent</code></code>, <code><code>gethostbyaddr</code></code>, <code><code>gethostbyname</code></code>, <code><code>gethostent</code></code>, <code><code>getnetbyaddr</code></code>, <code><code>getnetbyname</code></code>, <code><code>getnetent</code></code>, <code><code>getprotobyname</code></code>, <code><code>getprotobynumber</code></code>, <code><code>getprotoent</code></code>, <code><code>getservbyname</code></code>, <code><code>getservbyport</code></code>, <code><code>getservent</code></code>, <code><code>sethostent</code></code>, <code><code>setnetent</code></code>, <code><code>setprotoent</code></code>, <code><code>setservent</code></code></p>

</dd>
<dt id="Time-related-functions">Time-related functions  </dt>
<dd>

<p><code><code>gmtime</code></code>, <code><code>localtime</code></code>, <code><code>time</code></code>, <code><code>times</code></code></p>

</dd>
<dt id="Non-function-keywords">Non-function keywords</dt>
<dd>

<p><code><code>and</code></code>, <code><code>AUTOLOAD</code></code>, <code><code>BEGIN</code></code>, <code><code>CHECK</code></code>, <code><code>cmp</code></code>, <code><code>CORE</code></code>, <code><code>__DATA__</code></code>, <code><code>default</code></code>, <code><code>DESTROY</code></code>, <code><code>else</code></code>, <code><code>elseif</code></code>, <code><code>elsif</code></code>, <code><code>END</code></code>, <code><code>__END__</code></code>, <code><code>eq</code></code>, <code><code>for</code></code>, <code><code>foreach</code></code>, <code><code>ge</code></code>, <code><code>given</code></code>, <code><code>gt</code></code>, <code><code>if</code></code>, <code><code>INIT</code></code>, <code><code>le</code></code>, <code><code>lt</code></code>, <code><code>ne</code></code>, <code><code>not</code></code>, <code><code>or</code></code>, <code><code>UNITCHECK</code></code>, <code><code>unless</code></code>, <code><code>until</code></code>, <code><code>when</code></code>, <code><code>while</code></code>, <code><code>x</code></code>, <code><code>xor</code></code></p>

</dd>
</dl>

<h2 id="Portability">Portability   </h2>

<p>Perl was born in Unix and can therefore access all common Unix system calls. In non-Unix environments, the functionality of some Unix system calls may not be available or details of the available functionality may differ slightly. The Perl functions affected by this are:</p>

<p><code><code>-X</code></code>, <code><code>binmode</code></code>, <code><code>chmod</code></code>, <code><code>chown</code></code>, <code><code>chroot</code></code>, <code><code>crypt</code></code>, <code><code>dbmclose</code></code>, <code><code>dbmopen</code></code>, <code><code>dump</code></code>, <code><code>endgrent</code></code>, <code><code>endhostent</code></code>, <code><code>endnetent</code></code>, <code><code>endprotoent</code></code>, <code><code>endpwent</code></code>, <code><code>endservent</code></code>, <code><code>exec</code></code>, <code><code>fcntl</code></code>, <code><code>flock</code></code>, <code><code>fork</code></code>, <code><code>getgrent</code></code>, <code><code>getgrgid</code></code>, <code><code>gethostbyname</code></code>, <code><code>gethostent</code></code>, <code><code>getlogin</code></code>, <code><code>getnetbyaddr</code></code>, <code><code>getnetbyname</code></code>, <code><code>getnetent</code></code>, <code><code>getppid</code></code>, <code><code>getpgrp</code></code>, <code><code>getpriority</code></code>, <code><code>getprotobynumber</code></code>, <code><code>getprotoent</code></code>, <code><code>getpwent</code></code>, <code><code>getpwnam</code></code>, <code><code>getpwuid</code></code>, <code><code>getservbyport</code></code>, <code><code>getservent</code></code>, <code><code>getsockopt</code></code>, <code><code>glob</code></code>, <code><code>ioctl</code></code>, <code><code>kill</code></code>, <code><code>link</code></code>, <code><code>lstat</code></code>, <code><code>msgctl</code></code>, <code><code>msgget</code></code>, <code><code>msgrcv</code></code>, <code><code>msgsnd</code></code>, <code><code>open</code></code>, <code><code>pipe</code></code>, <code><code>readlink</code></code>, <code><code>rename</code></code>, <code><code>select</code></code>, <code><code>semctl</code></code>, <code><code>semget</code></code>, <code><code>semop</code></code>, <code><code>setgrent</code></code>, <code><code>sethostent</code></code>, <code><code>setnetent</code></code>, <code><code>setpgrp</code></code>, <code><code>setpriority</code></code>, <code><code>setprotoent</code></code>, <code><code>setpwent</code></code>, <code><code>setservent</code></code>, <code><code>setsockopt</code></code>, <code><code>shmctl</code></code>, <code><code>shmget</code></code>, <code><code>shmread</code></code>, <code><code>shmwrite</code></code>, <code><code>socket</code></code>, <code><code>socketpair</code></code>, <code><code>stat</code></code>, <code><code>symlink</code></code>, <code><code>syscall</code></code>, <code><code>sysopen</code></code>, <code><code>system</code></code>, <code><code>times</code></code>, <code><code>truncate</code></code>, <code><code>umask</code></code>, <code><code>unlink</code></code>, <code><code>utime</code></code>, <code><code>wait</code></code>, <code><code>waitpid</code></code></p>

<p>For more information about the portability of these functions, see <a href="../../lib/pods/perlport.html">perlport</a> and other available platform-specific documentation.</p>

<h2 id="Alphabetical-Listing-of-Perl-Functions">Alphabetical Listing of Perl Functions</h2>

<dl>

<dt id="X-FILEHANDLE">-X FILEHANDLE  </dt>
<dd>

</dd>
<dt id="X-EXPR">-X EXPR</dt>
<dd>

</dd>
<dt id="X-DIRHANDLE">-X DIRHANDLE</dt>
<dd>

</dd>
<dt id="X">-X</dt>
<dd>

<p>A file test, where X is one of the letters listed below. This unary operator takes one argument, either a filename, a filehandle, or a dirhandle, and tests the associated file to see if something is true about it. If the argument is omitted, tests <code><code>$_</code></code>, except for <code><code>-t</code></code>, which tests STDIN. Unless otherwise documented, it returns <code><code>1</code></code> for true and <code><code>&#39;&#39;</code></code> for false, or the undefined value if the file doesn&#39;t exist. Despite the funny names, precedence is the same as any other named unary operator. The operator may be any of:</p>

<pre><code><code>    -r  File is readable by effective uid/gid.
    -w  File is writable by effective uid/gid.
    -x  File is executable by effective uid/gid.
    -o  File is owned by effective uid.

    -R  File is readable by real uid/gid.
    -W  File is writable by real uid/gid.
    -X  File is executable by real uid/gid.
    -O  File is owned by real uid.

    -e  File exists.
    -z  File has zero size (is empty).
    -s  File has nonzero size (returns size in bytes).

    -f  File is a plain file.
    -d  File is a directory.
    -l  File is a symbolic link.
    -p  File is a named pipe (FIFO), or Filehandle is a pipe.
    -S  File is a socket.
    -b  File is a block special file.
    -c  File is a character special file.
    -t  Filehandle is opened to a tty.

    -u  File has setuid bit set.
    -g  File has setgid bit set.
    -k  File has sticky bit set.

    -T  File is an ASCII text file (heuristic guess).
    -B  File is a &quot;binary&quot; file (opposite of -T).

    -M  Script start time minus file modification time, in days.
    -A  Same for access time.
    -C  Same for inode change time (Unix, may differ for other platforms)</code></code></pre>

<p>Example:</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">chomp</span><span class="operator">;</span>
        <span class="keyword">next</span> <span class="keyword">unless</span> <span class="keyword">-f</span> <span class="variable">$_</span><span class="operator">;</span>  <span class="comment"># ignore specials</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Note that <code><code>-s/a/b/</code></code> does not do a negated substitution. Saying <code><code>-exp($foo)</code></code> still works as expected, however: only single letters following a minus are interpreted as file tests.</p>

<p>These operators are exempt from the &quot;looks like a function rule&quot; described above. That is, an opening parenthesis after the operator does not affect how much of the following code constitutes the argument. Put the opening parentheses before the operator to separate it from code that follows (this applies only to operators with higher precedence than unary operators, of course):</p>

<pre><code><code>    <span class="keyword">-s</span><span class="operator">(</span><span class="variable">$file</span><span class="operator">)</span> <span class="operator">+</span> <span class="number">1024</span>   <span class="comment"># probably wrong; same as -s($file + 1024)</span>
    <span class="operator">(</span><span class="keyword">-s</span> <span class="variable">$file</span><span class="operator">)</span> <span class="operator">+</span> <span class="number">1024</span>  <span class="comment"># correct</span>
</code></code></pre>

<p>The interpretation of the file permission operators <code><code>-r</code></code>, <code><code>-R</code></code>, <code><code>-w</code></code>, <code><code>-W</code></code>, <code><code>-x</code></code>, and <code><code>-X</code></code> is by default based solely on the mode of the file and the uids and gids of the user. There may be other reasons you can&#39;t actually read, write, or execute the file: for example network filesystem access controls, ACLs (access control lists), read-only filesystems, and unrecognized executable formats. Note that the use of these six specific operators to verify if some operation is possible is usually a mistake, because it may be open to race conditions.</p>

<p>Also note that, for the superuser on the local filesystems, the <code><code>-r</code></code>, <code><code>-R</code></code>, <code><code>-w</code></code>, and <code><code>-W</code></code> tests always return 1, and <code><code>-x</code></code> and <code><code>-X</code></code> return 1 if any execute bit is set in the mode. Scripts run by the superuser may thus need to do a stat() to determine the actual mode of the file, or temporarily set their effective uid to something else.</p>

<p>If you are using ACLs, there is a pragma called <code><code>filetest</code></code> that may produce more accurate results than the bare stat() mode bits. When under <code><code>use filetest &#39;access&#39;</code></code> the above-mentioned filetests test whether the permission can(not) be granted using the access(2) family of system calls. Also note that the <code><code>-x</code></code> and <code><code>-X</code></code> may under this pragma return true even if there are no execute permission bits set (nor any extra execute permission ACLs). This strangeness is due to the underlying system calls&#39; definitions. Note also that, due to the implementation of <code><code>use filetest &#39;access&#39;</code></code>, the <code><code>_</code></code> special filehandle won&#39;t cache the results of the file tests when this pragma is in effect. Read the documentation for the <code><code>filetest</code></code> pragma for more information.</p>

<p>The <code><code>-T</code></code> and <code><code>-B</code></code> switches work as follows. The first block or so of the file is examined for odd characters such as strange control codes or characters with the high bit set. If too many strange characters (&gt;30%) are found, it&#39;s a <code><code>-B</code></code> file; otherwise it&#39;s a <code><code>-T</code></code> file. Also, any file containing a zero byte in the first block is considered a binary file. If <code><code>-T</code></code> or <code><code>-B</code></code> is used on a filehandle, the current IO buffer is examined rather than the first block. Both <code><code>-T</code></code> and <code><code>-B</code></code> return true on an empty file, or a file at EOF when testing a filehandle. Because you have to read a file to do the <code><code>-T</code></code> test, on most occasions you want to use a <code><code>-f</code></code> against the file first, as in <code><code>next unless -f $file &amp;&amp; -T $file</code></code>.</p>

<p>If any of the file tests (or either the <code><code>stat</code></code> or <code><code>lstat</code></code> operator) is given the special filehandle consisting of a solitary underline, then the stat structure of the previous file test (or stat operator) is used, saving a system call. (This doesn&#39;t work with <code><code>-t</code></code>, and you need to remember that lstat() and <code><code>-l</code></code> leave values in the stat structure for the symbolic link, not the real file.) (Also, if the stat buffer was filled by an <code><code>lstat</code></code> call, <code><code>-T</code></code> and <code><code>-B</code></code> will reset it with the results of <code><code>stat _</code></code>). Example:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="string">"Can do.\n"</span> <span class="keyword">if</span> <span class="keyword">-r</span> <span class="variable">$a</span> <span class="operator">||</span> <span class="keyword">-w</span> <span class="variable">_</span> <span class="operator">||</span> <span class="keyword">-x</span> <span class="variable">_</span><span class="operator">;</span>
    
    <span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="string">"Readable\n"</span> <span class="keyword">if</span> <span class="keyword">-r</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Writable\n"</span> <span class="keyword">if</span> <span class="keyword">-w</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Executable\n"</span> <span class="keyword">if</span> <span class="keyword">-x</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Setuid\n"</span> <span class="keyword">if</span> <span class="keyword">-u</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Setgid\n"</span> <span class="keyword">if</span> <span class="keyword">-g</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Sticky\n"</span> <span class="keyword">if</span> <span class="keyword">-k</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Text\n"</span> <span class="keyword">if</span> <span class="keyword">-T</span> <span class="variable">_</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Binary\n"</span> <span class="keyword">if</span> <span class="keyword">-B</span> <span class="variable">_</span><span class="operator">;</span>
</code></code></pre>

<p>As of Perl 5.9.1, as a form of purely syntactic sugar, you can stack file test operators, in a way that <code><code>-f -w -x $file</code></code> is equivalent to <code><code>-x $file &amp;&amp; -w _ &amp;&amp; -f _</code></code>. (This is only fancy fancy: if you use the return value of <code><code>-f $file</code></code> as an argument to another filetest operator, no special magic will happen.)</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#X">&quot;-X&quot; in perlport</a>.</p>

<p>To avoid confusing would-be users of your code with mysterious syntax errors, put something like this at the top of your script:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.010</span><span class="operator">;</span>  <span class="comment"># so filetest ops can stack</span>
</code></code></pre>

</dd>
<dt id="abs-VALUE">abs VALUE  </dt>
<dd>

</dd>
<dt id="abs">abs</dt>
<dd>

<p>Returns the absolute value of its argument. If VALUE is omitted, uses <code><code>$_</code></code>.</p>

</dd>
<dt id="accept-NEWSOCKET-GENERICSOCKET">accept NEWSOCKET,GENERICSOCKET </dt>
<dd>

<p>Accepts an incoming socket connect, just as accept(2) does. Returns the packed address if it succeeded, false otherwise. See the example in <a href="../../lib/pods/perlipc.html#Sockets:-Client-Server-Communication">&quot;Sockets: Client/Server Communication&quot; in perlipc</a>.</p>

<p>On systems that support a close-on-exec flag on files, the flag will be set for the newly opened file descriptor, as determined by the value of $^F. See <a href="../../lib/pods/perlvar.html#F">&quot;$^F&quot; in perlvar</a>.</p>

</dd>
<dt id="alarm-SECONDS">alarm SECONDS   </dt>
<dd>

</dd>
<dt id="alarm">alarm</dt>
<dd>

<p>Arranges to have a SIGALRM delivered to this process after the specified number of wallclock seconds has elapsed. If SECONDS is not specified, the value stored in <code><code>$_</code></code> is used. (On some machines, unfortunately, the elapsed time may be up to one second less or more than you specified because of how seconds are counted, and process scheduling may delay the delivery of the signal even further.)</p>

<p>Only one timer may be counting at once. Each call disables the previous timer, and an argument of <code><code>0</code></code> may be supplied to cancel the previous timer without starting a new one. The returned value is the amount of time remaining on the previous timer.</p>

<p>For delays of finer granularity than one second, the Time::HiRes module (from CPAN, and starting from Perl 5.8 part of the standard distribution) provides ualarm(). You may also use Perl&#39;s four-argument version of select() leaving the first three arguments undefined, or you might be able to use the <code><code>syscall</code></code> interface to access setitimer(2) if your system supports it. See <a href="../../lib/pods/perlfaq8.html">perlfaq8</a> for details.</p>

<p>It is usually a mistake to intermix <code><code>alarm</code></code> and <code><code>sleep</code></code> calls, because <code><code>sleep</code></code> may be internally implemented on your system with <code><code>alarm</code></code>.</p>

<p>If you want to use <code><code>alarm</code></code> to time out a system call you need to use an <code><code>eval</code></code>/<code><code>die</code></code> pair. You can&#39;t rely on the alarm causing the system call to fail with <code><code>$!</code></code> set to <code><code>EINTR</code></code> because Perl sets up signal handlers to restart system calls on some systems. Using <code><code>eval</code></code>/<code><code>die</code></code> always works, modulo the caveats given in <a href="../../lib/pods/perlipc.html#Signals">&quot;Signals&quot; in perlipc</a>.</p>

<pre><code><code>    <span class="keyword">eval</span> <span class="operator">{</span>
        <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">ALRM</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="keyword">die</span> <span class="string">"alarm\n"</span> <span class="operator">};</span> <span class="comment"># NB: \n required</span>
        <span class="keyword">alarm</span> <span class="variable">$timeout</span><span class="operator">;</span>
        <span class="variable">$nread</span> <span class="operator">=</span> <span class="keyword">sysread</span> <span class="variable">SOCKET</span><span class="operator">,</span> <span class="variable">$buffer</span><span class="operator">,</span> <span class="variable">$size</span><span class="operator">;</span>
        <span class="keyword">alarm</span> <span class="number">0</span><span class="operator">;</span>
    <span class="operator">};</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$@</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">die</span> <span class="keyword">unless</span> <span class="variable">$@</span> <span class="keyword">eq</span> <span class="string">"alarm\n"</span><span class="operator">;</span>   <span class="comment"># propagate unexpected errors</span>
        <span class="comment"># timed out</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="comment"># didn't</span>
    <span class="operator">}</span>
</code></code></pre>

<p>For more information see <a href="../../lib/pods/perlipc.html">perlipc</a>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#alarm">&quot;alarm&quot; in perlport</a>.</p>

</dd>
<dt id="atan2-Y-X">atan2 Y,X    </dt>
<dd>

<p>Returns the arctangent of Y/X in the range -PI to PI.</p>

<p>For the tangent operation, you may use the <code><code>Math::Trig::tan</code></code> function, or use the familiar relation:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> tan </span><span class="operator">{</span> <span class="keyword">sin</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span> <span class="operator">/</span> <span class="keyword">cos</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span>  <span class="operator">}</span>
</code></code></pre>

<p>The return value for <code><code>atan2(0,0)</code></code> is implementation-defined; consult your atan2(3) manpage for more information.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#atan2">&quot;atan2&quot; in perlport</a>.</p>

</dd>
<dt id="bind-SOCKET-NAME">bind SOCKET,NAME </dt>
<dd>

<p>Binds a network address to a socket, just as bind(2) does. Returns true if it succeeded, false otherwise. NAME should be a packed address of the appropriate type for the socket. See the examples in <a href="../../lib/pods/perlipc.html#Sockets:-Client-Server-Communication">&quot;Sockets: Client/Server Communication&quot; in perlipc</a>.</p>

</dd>
<dt id="binmode-FILEHANDLE-LAYER">binmode FILEHANDLE, LAYER     </dt>
<dd>

</dd>
<dt id="binmode-FILEHANDLE">binmode FILEHANDLE</dt>
<dd>

<p>Arranges for FILEHANDLE to be read or written in &quot;binary&quot; or &quot;text&quot; mode on systems where the run-time libraries distinguish between binary and text files. If FILEHANDLE is an expression, the value is taken as the name of the filehandle. Returns true on success, otherwise it returns <code><code>undef</code></code> and sets <code><code>$!</code></code> (errno).</p>

<p>On some systems (in general, DOS- and Windows-based systems) binmode() is necessary when you&#39;re not working with a text file. For the sake of portability it is a good idea always to use it when appropriate, and never to use it when it isn&#39;t appropriate. Also, people can set their I/O to be by default UTF8-encoded Unicode, not bytes.</p>

<p>In other words: regardless of platform, use binmode() on binary data, like images, for example.</p>

<p>If LAYER is present it is a single string, but may contain multiple directives. The directives alter the behaviour of the filehandle. When LAYER is present, using binmode on a text file makes sense.</p>

<p>If LAYER is omitted or specified as <code><code>:raw</code></code> the filehandle is made suitable for passing binary data. This includes turning off possible CRLF translation and marking it as bytes (as opposed to Unicode characters). Note that, despite what may be implied in <i>&quot;Programming Perl&quot;</i> (the Camel, 3rd edition) or elsewhere, <code><code>:raw</code></code> is <i>not</i> simply the inverse of <code><code>:crlf</code></code>. Other layers that would affect the binary nature of the stream are <i>also</i> disabled. See <a href="../../lib/PerlIO.html">PerlIO</a>, <a href="../../lib/pods/perlrun.html">perlrun</a>, and the discussion about the PERLIO environment variable.</p>

<p>The <code><code>:bytes</code></code>, <code><code>:crlf</code></code>, <code><code>:utf8</code></code>, and any other directives of the form <code><code>:...</code></code>, are called I/O <i>layers</i>. The <code><code>open</code></code> pragma can be used to establish default I/O layers. See <a href="../../lib/open.html">open</a>.</p>

<p><i>The LAYER parameter of the binmode() function is described as &quot;DISCIPLINE&quot; in &quot;Programming Perl, 3rd Edition&quot;. However, since the publishing of this book, by many known as &quot;Camel III&quot;, the consensus of the naming of this functionality has moved from &quot;discipline&quot; to &quot;layer&quot;. All documentation of this version of Perl therefore refers to &quot;layers&quot; rather than to &quot;disciplines&quot;. Now back to the regularly scheduled documentation...</i></p>

<p>To mark FILEHANDLE as UTF-8, use <code><code>:utf8</code></code> or <code><code>:encoding(UTF-8)</code></code>. <code><code>:utf8</code></code> just marks the data as UTF-8 without further checking, while <code><code>:encoding(UTF-8)</code></code> checks the data for actually being valid UTF-8. More details can be found in <a href="../../lib/PerlIO/encoding.html">PerlIO::encoding</a>.</p>

<p>In general, binmode() should be called after open() but before any I/O is done on the filehandle. Calling binmode() normally flushes any pending buffered output data (and perhaps pending input data) on the handle. An exception to this is the <code><code>:encoding</code></code> layer that changes the default character encoding of the handle; see <a href="#open">&quot;open&quot;</a>. The <code><code>:encoding</code></code> layer sometimes needs to be called in mid-stream, and it doesn&#39;t flush the stream. The <code><code>:encoding</code></code> also implicitly pushes on top of itself the <code><code>:utf8</code></code> layer because internally Perl operates on UTF8-encoded Unicode characters.</p>

<p>The operating system, device drivers, C libraries, and Perl run-time system all conspire to let the programmer treat a single character (<code><code>\n</code></code>) as the line terminator, irrespective of external representation. On many operating systems, the native text file representation matches the internal representation, but on some platforms the external representation of <code><code>\n</code></code> is made up of more than one character.</p>

<p>All variants of Unix, Mac OS (old and new), and Stream_LF files on VMS use a single character to end each line in the external representation of text (even though that single character is CARRIAGE RETURN on old, pre-Darwin flavors of Mac OS, and is LINE FEED on Unix and most VMS files). In other systems like OS/2, DOS, and the various flavors of MS-Windows, your program sees a <code><code>\n</code></code> as a simple <code><code>\cJ</code></code>, but what&#39;s stored in text files are the two characters <code><code>\cM\cJ</code></code>. That means that if you don&#39;t use binmode() on these systems, <code><code>\cM\cJ</code></code> sequences on disk will be converted to <code><code>\n</code></code> on input, and any <code><code>\n</code></code> in your program will be converted back to <code><code>\cM\cJ</code></code> on output. This is what you want for text files, but it can be disastrous for binary files.</p>

<p>Another consequence of using binmode() (on some systems) is that special end-of-file markers will be seen as part of the data stream. For systems from the Microsoft family this means that, if your binary data contain <code><code>\cZ</code></code>, the I/O subsystem will regard it as the end of the file, unless you use binmode().</p>

<p>binmode() is important not only for readline() and print() operations, but also when using read(), seek(), sysread(), syswrite() and tell() (see <a href="../../lib/pods/perlport.html">perlport</a> for more details). See the <code><code>$/</code></code> and <code><code>$\</code></code> variables in <a href="../../lib/pods/perlvar.html">perlvar</a> for how to manually set your input and output line-termination sequences.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#binmode">&quot;binmode&quot; in perlport</a>.</p>

</dd>
<dt id="bless-REF-CLASSNAME">bless REF,CLASSNAME </dt>
<dd>

</dd>
<dt id="bless-REF">bless REF</dt>
<dd>

<p>This function tells the thingy referenced by REF that it is now an object in the CLASSNAME package. If CLASSNAME is omitted, the current package is used. Because a <code><code>bless</code></code> is often the last thing in a constructor, it returns the reference for convenience. Always use the two-argument version if a derived class might inherit the function doing the blessing. See<a href="../../lib/pods/perlobj.html">perlobj</a> for more about the blessing (and blessings) of objects.</p>

<p>Consider always blessing objects in CLASSNAMEs that are mixed case. Namespaces with all lowercase names are considered reserved for Perl pragmata. Builtin types have all uppercase names. To prevent confusion, you may wish to avoid such package names as well. Make sure that CLASSNAME is a true value.</p>

<p>See <a href="../../lib/pods/perlmod.html#Perl-Modules">&quot;Perl Modules&quot; in perlmod</a>.</p>

</dd>
<dt id="break">break</dt>
<dd>

<p>Break out of a <code><code>given()</code></code> block.</p>

<p>This keyword is enabled by the <code><code>&quot;switch&quot;</code></code> feature: see <a href="../../lib/feature.html">feature</a> for more information. You can also access it by prefixing it with <code><code>CORE::</code></code>. Alternately, include a <code><code>use v5.10</code></code> or later to the current scope.</p>

</dd>
<dt id="caller-EXPR">caller EXPR    </dt>
<dd>

</dd>
<dt id="caller">caller</dt>
<dd>

<p>Returns the context of the current subroutine call. In scalar context, returns the caller&#39;s package name if there <i>is</i> a caller (that is, if we&#39;re in a subroutine or <code><code>eval</code></code> or <code><code>require</code></code>) and the undefined value otherwise. In list context, returns</p>

<pre><code><code>    <span class="comment"># 0         1          2</span>
    <span class="operator">(</span><span class="variable">$package</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$line</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">caller</span><span class="operator">;</span>
</code></code></pre>

<p>With EXPR, it returns some extra information that the debugger uses to print a stack trace. The value of EXPR indicates how many call frames to go back before the current one.</p>

<pre><code><code>    <span class="comment">#  0         1          2      3            4</span>
    <span class="operator">(</span><span class="variable">$package</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$line</span><span class="operator">,</span> <span class="variable">$subroutine</span><span class="operator">,</span> <span class="variable">$hasargs</span><span class="operator">,</span>
    
    <span class="comment">#  5          6          7            8       9         10</span>
    <span class="variable">$wantarray</span><span class="operator">,</span> <span class="variable">$evaltext</span><span class="operator">,</span> <span class="variable">$is_require</span><span class="operator">,</span> <span class="variable">$hints</span><span class="operator">,</span> <span class="variable">$bitmask</span><span class="operator">,</span> <span class="variable">$hinthash</span><span class="operator">)</span>
     <span class="operator">=</span> <span class="keyword">caller</span><span class="operator">(</span><span class="variable">$i</span><span class="operator">);</span>
</code></code></pre>

<p>Here $subroutine may be <code><code>(eval)</code></code> if the frame is not a subroutine call, but an <code><code>eval</code></code>. In such a case additional elements $evaltext and <code><code>$is_require</code></code> are set: <code><code>$is_require</code></code> is true if the frame is created by a <code><code>require</code></code> or <code><code>use</code></code> statement, $evaltext contains the text of the <code><code>eval EXPR</code></code> statement. In particular, for an <code><code>eval BLOCK</code></code> statement, $subroutine is <code><code>(eval)</code></code>, but $evaltext is undefined. (Note also that each <code><code>use</code></code> statement creates a <code><code>require</code></code> frame inside an <code><code>eval EXPR</code></code> frame.) $subroutine may also be <code><code>(unknown)</code></code> if this particular subroutine happens to have been deleted from the symbol table. <code><code>$hasargs</code></code> is true if a new instance of <code><code>@_</code></code> was set up for the frame. <code><code>$hints</code></code> and <code><code>$bitmask</code></code> contain pragmatic hints that the caller was compiled with. The <code><code>$hints</code></code> and <code><code>$bitmask</code></code> values are subject to change between versions of Perl, and are not meant for external use.</p>

<p><code><code>$hinthash</code></code> is a reference to a hash containing the value of <code><code>%^H</code></code> when the caller was compiled, or <code><code>undef</code></code> if <code><code>%^H</code></code> was empty. Do not modify the values of this hash, as they are the actual values stored in the optree.</p>

<p>Furthermore, when called from within the DB package in list context, and with an argument, caller returns more detailed information: it sets the list variable <code><code>@DB::args</code></code> to be the arguments with which the subroutine was invoked.</p>

<p>Be aware that the optimizer might have optimized call frames away before <code><code>caller</code></code> had a chance to get the information. That means that <code><code>caller(N)</code></code> might not return information about the call frame you expect it to, for <code><code>N &gt; 1</code></code>. In particular, <code><code>@DB::args</code></code> might have information from the previous time <code><code>caller</code></code> was called.</p>

<p>Be aware that setting <code><code>@DB::args</code></code> is <i>best effort</i>, intended for debugging or generating backtraces, and should not be relied upon. In particular, as <code><code>@_</code></code> contains aliases to the caller&#39;s arguments, Perl does not take a copy of <code><code>@_</code></code>, so <code><code>@DB::args</code></code> will contain modifications the subroutine makes to <code><code>@_</code></code> or its contents, not the original values at call time. <code><code>@DB::args</code></code>, like <code><code>@_</code></code>, does not hold explicit references to its elements, so under certain cases its elements may have become freed and reallocated for other variables or temporary values. Finally, a side effect of the current implementation is that the effects of <code><code>shift @_</code></code> can <i>normally</i> be undone (but not <code><code>pop @_</code></code> or other splicing, <i>and</i> not if a reference to <code><code>@_</code></code> has been taken, <i>and</i> subject to the caveat about reallocated elements), so <code><code>@DB::args</code></code> is actually a hybrid of the current state and initial state of <code><code>@_</code></code>. Buyer beware.</p>

</dd>
<dt id="chdir-EXPR">chdir EXPR   </dt>
<dd>

</dd>
<dt id="chdir-FILEHANDLE">chdir FILEHANDLE</dt>
<dd>

</dd>
<dt id="chdir-DIRHANDLE">chdir DIRHANDLE</dt>
<dd>

</dd>
<dt id="chdir">chdir</dt>
<dd>

<p>Changes the working directory to EXPR, if possible. If EXPR is omitted, changes to the directory specified by <code><code><span class="variable">$ENV</span><span class="operator">{</span><span class="string">HOME</span><span class="operator">}</span>
</code></code>, if set; if not, changes to the directory specified by <code><code><span class="variable">$ENV</span><span class="operator">{</span><span class="string">LOGDIR</span><span class="operator">}</span>
</code></code>. (Under VMS, the variable <code><code><span class="variable">$ENV</span><span class="operator">{</span><span class="variable">SYS</span><span class="variable">$LOGIN</span><span class="operator">}</span>
</code></code> is also checked, and used if it is set.) If neither is set, <code><code>chdir</code></code> does nothing. It returns true on success, false otherwise. See the example under <code><code>die</code></code>.</p>

<p>On systems that support fchdir(2), you may pass a filehandle or directory handle as the argument. On systems that don&#39;t support fchdir(2), passing handles raises an exception.</p>

</dd>
<dt id="chmod-LIST">chmod LIST   </dt>
<dd>

<p>Changes the permissions of a list of files. The first element of the list must be the numeric mode, which should probably be an octal number, and which definitely should <i>not</i> be a string of octal digits: <code><code>0644</code></code> is okay, but <code><code>&quot;0644&quot;</code></code> is not. Returns the number of files successfully changed. See also <a href="#oct">&quot;oct&quot;</a> if all you have is a string.</p>

<pre><code><code>    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">chmod</span> <span class="number">0755</span><span class="operator">,</span> <span class="string">"foo"</span><span class="operator">,</span> <span class="string">"bar"</span><span class="operator">;</span>
    <span class="keyword">chmod</span> <span class="number">0755</span><span class="operator">,</span> <span class="variable">@executables</span><span class="operator">;</span>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="string">"0644"</span><span class="operator">;</span> <span class="keyword">chmod</span> <span class="variable">$mode</span><span class="operator">,</span> <span class="string">"foo"</span><span class="operator">;</span>      <span class="comment"># !!! sets mode to</span>
                                             <span class="comment"># --w----r-T</span>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="string">"0644"</span><span class="operator">;</span> <span class="keyword">chmod</span> <span class="keyword">oct</span><span class="operator">(</span><span class="variable">$mode</span><span class="operator">),</span> <span class="string">"foo"</span><span class="operator">;</span> <span class="comment"># this is better</span>
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="number">0644</span><span class="operator">;</span>   <span class="keyword">chmod</span> <span class="variable">$mode</span><span class="operator">,</span> <span class="string">"foo"</span><span class="operator">;</span>      <span class="comment"># this is best</span>
</code></code></pre>

<p>On systems that support fchmod(2), you may pass filehandles among the files. On systems that don&#39;t support fchmod(2), passing filehandles raises an exception. Filehandles must be passed as globs or glob references to be recognized; barewords are considered filenames.</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$fh</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="string">"foo"</span><span class="operator">);</span>
    <span class="keyword">my</span> <span class="variable">$perm</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span> <span class="variable">$fh</span><span class="operator">)</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">;</span>
    <span class="keyword">chmod</span><span class="operator">(</span><span class="variable">$perm</span> <span class="operator">|</span> <span class="number">0600</span><span class="operator">,</span> <span class="variable">$fh</span><span class="operator">);</span>
</code></code></pre>

<p>You can also import the symbolic <code><code>S_I*</code></code> constants from the <code><code>Fcntl</code></code> module:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">qw( :mode )</span><span class="operator">;</span>
    <span class="keyword">chmod</span> <span class="variable">S_IRWXU</span><span class="operator">|</span><span class="variable">S_IRGRP</span><span class="operator">|</span><span class="variable">S_IXGRP</span><span class="operator">|</span><span class="variable">S_IROTH</span><span class="operator">|</span><span class="variable">S_IXOTH</span><span class="operator">,</span> <span class="variable">@executables</span><span class="operator">;</span>
    <span class="comment"># Identical to the chmod 0755 of the example above.</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#chmod">&quot;chmod&quot; in perlport</a>.</p>

</dd>
<dt id="chomp-VARIABLE">chomp VARIABLE     </dt>
<dd>

</dd>
<dt id="chomp-LIST-">chomp( LIST )</dt>
<dd>

</dd>
<dt id="chomp">chomp</dt>
<dd>

<p>This safer version of <a href="#chop">&quot;chop&quot;</a> removes any trailing string that corresponds to the current value of <code><code>$/</code></code> (also known as $INPUT_RECORD_SEPARATOR in the <code><code>English</code></code> module). It returns the total number of characters removed from all its arguments. It&#39;s often used to remove the newline from the end of an input record when you&#39;re worried that the final record may be missing its newline. When in paragraph mode (<code><code>$/ = &quot;&quot;</code></code>), it removes all trailing newlines from the string. When in slurp mode (<code><code>$/ = undef</code></code>) or fixed-length record mode (<code><code>$/</code></code> is a reference to an integer or the like; see <a href="../../lib/pods/perlvar.html">perlvar</a>) chomp() won&#39;t remove anything. If VARIABLE is omitted, it chomps <code><code>$_</code></code>. Example:</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">chomp</span><span class="operator">;</span>  <span class="comment"># avoid \n on last field</span>
        <span class="variable">@array</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/:/</span><span class="operator">);</span>
        <span class="comment"># ...</span>
    <span class="operator">}</span>
</code></code></pre>

<p>If VARIABLE is a hash, it chomps the hash&#39;s values, but not its keys.</p>

<p>You can actually chomp anything that&#39;s an lvalue, including an assignment:</p>

<pre><code><code>    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$cwd</span> <span class="operator">=</span> <span class="string">`pwd`</span><span class="operator">);</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$answer</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
</code></code></pre>

<p>If you chomp a list, each element is chomped, and the total number of characters removed is returned.</p>

<p>Note that parentheses are necessary when you&#39;re chomping anything that is not a simple variable. This is because <code><code><span class="keyword">chomp</span> <span class="variable">$cwd</span> <span class="operator">=</span> <span class="string">`pwd`</span><span class="operator">;</span>
</code></code> is interpreted as <code><code><span class="operator">(</span><span class="keyword">chomp</span> <span class="variable">$cwd</span><span class="operator">)</span> <span class="operator">=</span> <span class="string">`pwd`</span><span class="operator">;</span>
</code></code>, rather than as <code><code>chomp( $cwd = `pwd` )</code></code> which you might expect. Similarly, <code><code>chomp $a, $b</code></code> is interpreted as <code><code>chomp($a), $b</code></code> rather than as <code><code>chomp($a, $b)</code></code>.</p>

</dd>
<dt id="chop-VARIABLE">chop VARIABLE </dt>
<dd>

</dd>
<dt id="chop-LIST-">chop( LIST )</dt>
<dd>

</dd>
<dt id="chop">chop</dt>
<dd>

<p>Chops off the last character of a string and returns the character chopped. It is much more efficient than <code><code>s/.$//s</code></code> because it neither scans nor copies the string. If VARIABLE is omitted, chops <code><code>$_</code></code>. If VARIABLE is a hash, it chops the hash&#39;s values, but not its keys.</p>

<p>You can actually chop anything that&#39;s an lvalue, including an assignment.</p>

<p>If you chop a list, each element is chopped. Only the value of the last <code><code>chop</code></code> is returned.</p>

<p>Note that <code><code>chop</code></code> returns the last character. To return all but the last character, use <code><code>substr($string, 0, -1)</code></code>.</p>

<p>See also <a href="#chomp">&quot;chomp&quot;</a>.</p>

</dd>
<dt id="chown-LIST">chown LIST    </dt>
<dd>

<p>Changes the owner (and group) of a list of files. The first two elements of the list must be the <i>numeric</i> uid and gid, in that order. A value of -1 in either position is interpreted by most systems to leave that value unchanged. Returns the number of files successfully changed.</p>

<pre><code><code>    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">chown</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">,</span> <span class="string">'bar'</span><span class="operator">;</span>
    <span class="keyword">chown</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span> <span class="variable">@filenames</span><span class="operator">;</span>
</code></code></pre>

<p>On systems that support fchown(2), you may pass filehandles among the files. On systems that don&#39;t support fchown(2), passing filehandles raises an exception. Filehandles must be passed as globs or glob references to be recognized; barewords are considered filenames.</p>

<p>Here&#39;s an example that looks up nonnumeric uids in the passwd file:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="string">"User: "</span><span class="operator">;</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$user</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
    <span class="keyword">print</span> <span class="string">"Files: "</span><span class="operator">;</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$pattern</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
    
    <span class="operator">(</span><span class="variable">$login</span><span class="operator">,</span><span class="variable">$pass</span><span class="operator">,</span><span class="variable">$uid</span><span class="operator">,</span><span class="variable">$gid</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">getpwnam</span><span class="operator">(</span><span class="variable">$user</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"</span><span class="variable">$user</span><span class="string"> not in passwd file"</span><span class="operator">;</span>
    
    <span class="variable">@ary</span> <span class="operator">=</span> <span class="keyword">glob</span><span class="operator">(</span><span class="variable">$pattern</span><span class="operator">);</span>  <span class="comment"># expand filenames</span>
    <span class="keyword">chown</span> <span class="variable">$uid</span><span class="operator">,</span> <span class="variable">$gid</span><span class="operator">,</span> <span class="variable">@ary</span><span class="operator">;</span>
</code></code></pre>

<p>On most systems, you are not allowed to change the ownership of the file unless you&#39;re the superuser, although you should be able to change the group to any of your secondary groups. On insecure systems, these restrictions may be relaxed, but this is not a portable assumption. On POSIX systems, you can detect this condition this way:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">POSIX</span> <span class="string">qw(sysconf _PC_CHOWN_RESTRICTED)</span><span class="operator">;</span>
    <span class="variable">$can_chown_giveaway</span> <span class="operator">=</span> <span class="keyword">not</span> <span class="variable">sysconf</span><span class="operator">(</span><span class="variable">_PC_CHOWN_RESTRICTED</span><span class="operator">);</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#chmod">&quot;chmod&quot; in perlport</a>.</p>

</dd>
<dt id="chr-NUMBER">chr NUMBER    </dt>
<dd>

</dd>
<dt id="chr">chr</dt>
<dd>

<p>Returns the character represented by that NUMBER in the character set. For example, <code><code>chr(65)</code></code> is <code><code>&quot;A&quot;</code></code> in either ASCII or Unicode, and chr(0x263a) is a Unicode smiley face.</p>

<p>Negative values give the Unicode replacement character (chr(0xfffd)), except under the <a href="../../lib/bytes.html">bytes</a> pragma, where the low eight bits of the value (truncated to an integer) are used.</p>

<p>If NUMBER is omitted, uses <code><code>$_</code></code>.</p>

<p>For the reverse, use <a href="#ord">&quot;ord&quot;</a>.</p>

<p>Note that characters from 128 to 255 (inclusive) are by default internally not encoded as UTF-8 for backward compatibility reasons.</p>

<p>See <a href="../../lib/pods/perlunicode.html">perlunicode</a> for more about Unicode.</p>

</dd>
<dt id="chroot-FILENAME">chroot FILENAME  </dt>
<dd>

</dd>
<dt id="chroot">chroot</dt>
<dd>

<p>This function works like the system call by the same name: it makes the named directory the new root directory for all further pathnames that begin with a <code><code>/</code></code> by your process and all its children. (It doesn&#39;t change your current working directory, which is unaffected.) For security reasons, this call is restricted to the superuser. If FILENAME is omitted, does a <code><code>chroot</code></code> to <code><code>$_</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#chroot">&quot;chroot&quot; in perlport</a>.</p>

</dd>
<dt id="close-FILEHANDLE">close FILEHANDLE </dt>
<dd>

</dd>
<dt id="close">close</dt>
<dd>

<p>Closes the file or pipe associated with the filehandle, flushes the IO buffers, and closes the system file descriptor. Returns true if those operations succeed and if no error was reported by any PerlIO layer. Closes the currently selected filehandle if the argument is omitted.</p>

<p>You don&#39;t have to close FILEHANDLE if you are immediately going to do another <code><code>open</code></code> on it, because <code><code>open</code></code> closes it for you. (See <a href="#open-FILEHANDLE">open</a>.) However, an explicit <code><code>close</code></code> on an input file resets the line counter (<code><code>$.</code></code>), while the implicit close done by <code><code>open</code></code> does not.</p>

<p>If the filehandle came from a piped open, <code><code>close</code></code> returns false if one of the other syscalls involved fails or if its program exits with non-zero status. If the only problem was that the program exited non-zero, <code><code>$!</code></code> will be set to <code><code>0</code></code>. Closing a pipe also waits for the process executing on the pipe to exit--in case you wish to look at the output of the pipe afterwards--and implicitly puts the exit status value of that command into <code><code>$?</code></code> and <code><code><span class="operator">${^</span><span class="variable">CHILD_ERROR_NATIVE</span><span class="operator">}</span>
</code></code>.</p>

<p>If there are multiple threads running, <code><code>close</code></code> on a filehandle from a piped open returns true without waiting for the child process to terminate, if the filehandle is still open in another thread.</p>

<p>Closing the read end of a pipe before the process writing to it at the other end is done writing results in the writer receiving a SIGPIPE. If the other end can&#39;t handle that, be sure to read all the data before closing the pipe.</p>

<p>Example:</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="variable">OUTPUT</span><span class="operator">,</span> <span class="string">'|sort &gt;foo'</span><span class="operator">)</span>  <span class="comment"># pipe to sort</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start sort: $!"</span><span class="operator">;</span>
    <span class="comment">#...                        # print stuff to output</span>
    <span class="keyword">close</span> <span class="variable">OUTPUT</span>                <span class="comment"># wait for sort to finish</span>
        <span class="keyword">or</span> <span class="keyword">warn</span> <span class="variable">$!</span> <span class="operator">?</span> <span class="string">"Error closing sort pipe: $!"</span>
                   <span class="operator">:</span> <span class="string">"Exit status $? from sort"</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">INPUT</span><span class="operator">,</span> <span class="string">'foo'</span><span class="operator">)</span>          <span class="comment"># get sort's results</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open 'foo' for input: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>FILEHANDLE may be an expression whose value can be used as an indirect filehandle, usually the real filehandle name or an autovivified handle.</p>

</dd>
<dt id="closedir-DIRHANDLE">closedir DIRHANDLE </dt>
<dd>

<p>Closes a directory opened by <code><code>opendir</code></code> and returns the success of that system call.</p>

</dd>
<dt id="connect-SOCKET-NAME">connect SOCKET,NAME </dt>
<dd>

<p>Attempts to connect to a remote socket, just like connect(2). Returns true if it succeeded, false otherwise. NAME should be a packed address of the appropriate type for the socket. See the examples in <a href="../../lib/pods/perlipc.html#Sockets:-Client-Server-Communication">&quot;Sockets: Client/Server Communication&quot; in perlipc</a>.</p>

</dd>
<dt id="continue-BLOCK">continue BLOCK </dt>
<dd>

</dd>
<dt id="continue">continue</dt>
<dd>

<p>When followed by a BLOCK, <code><code>continue</code></code> is actually a flow control statement rather than a function. If there is a <code><code>continue</code></code> BLOCK attached to a BLOCK (typically in a <code><code>while</code></code> or <code><code>foreach</code></code>), it is always executed just before the conditional is about to be evaluated again, just like the third part of a <code><code>for</code></code> loop in C. Thus it can be used to increment a loop variable, even when the loop has been continued via the <code><code>next</code></code> statement (which is similar to the C <code><code>continue</code></code> statement).</p>

<p><code><code>last</code></code>, <code><code>next</code></code>, or <code><code>redo</code></code> may appear within a <code><code>continue</code></code> block; <code><code>last</code></code> and <code><code>redo</code></code> behave as if they had been executed within the main block. So will <code><code>next</code></code>, but since it will execute a <code><code>continue</code></code> block, it may be more entertaining.</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">(</span><span class="variable">EXPR</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="comment">### redo always comes here</span>
        <span class="variable">do_something</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">continue</span> <span class="operator">{</span>
        <span class="comment">### next always comes here</span>
        <span class="variable">do_something_else</span><span class="operator">;</span>
        <span class="comment"># then back the top to re-check EXPR</span>
    <span class="operator">}</span>
    <span class="comment">### last always comes here</span>
</code></code></pre>

<p>Omitting the <code><code>continue</code></code> section is equivalent to using an empty one, logically enough, so <code><code>next</code></code> goes directly back to check the condition at the top of the loop.</p>

<p>When there is no BLOCK, <code><code>continue</code></code> is a function that falls through the current <code><code>when</code></code> or <code><code>default</code></code> block instead of iterating a dynamically enclosing <code><code>foreach</code></code> or exiting a lexically enclosing <code><code>given</code></code>. In Perl 5.14 and earlier, this form of <code><code>continue</code></code> was only available when the <code><code>&quot;switch&quot;</code></code> feature was enabled. See <a href="../../lib/feature.html">feature</a> and <a href="../../lib/pods/perlsyn.html#Switch-Statements">&quot;Switch Statements&quot; in perlsyn</a> for more information.</p>

</dd>
<dt id="cos-EXPR">cos EXPR    </dt>
<dd>

</dd>
<dt id="cos">cos</dt>
<dd>

<p>Returns the cosine of EXPR (expressed in radians). If EXPR is omitted, takes the cosine of <code><code>$_</code></code>.</p>

<p>For the inverse cosine operation, you may use the <code><code>Math::Trig::acos()</code></code> function, or use this relation:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> acos </span><span class="operator">{</span> <span class="keyword">atan2</span><span class="operator">(</span> <span class="keyword">sqrt</span><span class="operator">(</span><span class="number">1</span> <span class="operator">-</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">*</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">),</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">)</span> <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="crypt-PLAINTEXT-SALT">crypt PLAINTEXT,SALT          </dt>
<dd>

<p>Creates a digest string exactly like the crypt(3) function in the C library (assuming that you actually have a version there that has not been extirpated as a potential munition).</p>

<p>crypt() is a one-way hash function. The PLAINTEXT and SALT are turned into a short string, called a digest, which is returned. The same PLAINTEXT and SALT will always return the same string, but there is no (known) way to get the original PLAINTEXT from the hash. Small changes in the PLAINTEXT or SALT will result in large changes in the digest.</p>

<p>There is no decrypt function. This function isn&#39;t all that useful for cryptography (for that, look for <i>Crypt</i> modules on your nearby CPAN mirror) and the name &quot;crypt&quot; is a bit of a misnomer. Instead it is primarily used to check if two pieces of text are the same without having to transmit or store the text itself. An example is checking if a correct password is given. The digest of the password is stored, not the password itself. The user types in a password that is crypt()&#39;d with the same salt as the stored digest. If the two digests match, the password is correct.</p>

<p>When verifying an existing digest string you should use the digest as the salt (like <code><code>crypt($plain, $digest) eq $digest</code></code>). The SALT used to create the digest is visible as part of the digest. This ensures crypt() will hash the new string with the same salt as the digest. This allows your code to work with the standard <a href="#crypt">crypt</a> and with more exotic implementations. In other words, assume nothing about the returned string itself nor about how many bytes of SALT may matter.</p>

<p>Traditionally the result is a string of 13 bytes: two first bytes of the salt, followed by 11 bytes from the set <code><code>[./0-9A-Za-z]</code></code>, and only the first eight bytes of PLAINTEXT mattered. But alternative hashing schemes (like MD5), higher level security schemes (like C2), and implementations on non-Unix platforms may produce different strings.</p>

<p>When choosing a new salt create a random two character string whose characters come from the set <code><code>[./0-9A-Za-z]</code></code> (like <code><code>join &#39;&#39;, (&#39;.&#39;, &#39;/&#39;, 0..9, &#39;A&#39;..&#39;Z&#39;, &#39;a&#39;..&#39;z&#39;)[rand 64, rand 64]</code></code>). This set of characters is just a recommendation; the characters allowed in the salt depend solely on your system&#39;s crypt library, and Perl can&#39;t restrict what salts <code><code>crypt()</code></code> accepts.</p>

<p>Here&#39;s an example that makes sure that whoever runs this program knows their password:</p>

<pre><code><code>    <span class="variable">$pwd</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">getpwuid</span><span class="operator">(</span><span class="variable">$&lt;</span><span class="operator">))</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span><span class="operator">;</span>
    
    <span class="keyword">system</span> <span class="string">"stty -echo"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Password: "</span><span class="operator">;</span>
    <span class="keyword">chomp</span><span class="operator">(</span><span class="variable">$word</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;);</span>
    <span class="keyword">print</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="keyword">system</span> <span class="string">"stty echo"</span><span class="operator">;</span>
    
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">crypt</span><span class="operator">(</span><span class="variable">$word</span><span class="operator">,</span> <span class="variable">$pwd</span><span class="operator">)</span> <span class="keyword">ne</span> <span class="variable">$pwd</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">die</span> <span class="string">"Sorry...\n"</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"ok\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Of course, typing in your own password to whoever asks you for it is unwise.</p>

<p>The <a href="#crypt">crypt</a> function is unsuitable for hashing large quantities of data, not least of all because you can&#39;t get the information back. Look at the <a href="../../lib/Digest.html">Digest</a> module for more robust algorithms.</p>

<p>If using crypt() on a Unicode string (which <i>potentially</i> has characters with codepoints above 255), Perl tries to make sense of the situation by trying to downgrade (a copy of) the string back to an eight-bit byte string before calling crypt() (on that copy). If that works, good. If not, crypt() dies with <code><code>Wide character in crypt</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#crypt">&quot;crypt&quot; in perlport</a>.</p>

</dd>
<dt id="dbmclose-HASH">dbmclose HASH </dt>
<dd>

<p>[This function has been largely superseded by the <code><code>untie</code></code> function.]</p>

<p>Breaks the binding between a DBM file and a hash.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#dbmclose">&quot;dbmclose&quot; in perlport</a>.</p>

</dd>
<dt id="dbmopen-HASH-DBNAME-MASK">dbmopen HASH,DBNAME,MASK     </dt>
<dd>

<p>[This function has been largely superseded by the <a href="#tie-VARIABLE-CLASSNAME-LIST">tie</a> function.]</p>

<p>This binds a dbm(3), ndbm(3), sdbm(3), gdbm(3), or Berkeley DB file to a hash. HASH is the name of the hash. (Unlike normal <code><code>open</code></code>, the first argument is <i>not</i> a filehandle, even though it looks like one). DBNAME is the name of the database (without the <i>.dir</i> or <i>.pag</i> extension if any). If the database does not exist, it is created with protection specified by MASK (as modified by the <code><code>umask</code></code>). To prevent creation of the database if it doesn&#39;t exist, you may specify a MODE of 0, and the function will return a false value if it can&#39;t find an existing database. If your system supports only the older DBM functions, you may make only one <code><code>dbmopen</code></code> call in your program. In older versions of Perl, if your system had neither DBM nor ndbm, calling <code><code>dbmopen</code></code> produced a fatal error; it now falls back to sdbm(3).</p>

<p>If you don&#39;t have write access to the DBM file, you can only read hash variables, not set them. If you want to test whether you can write, either use file tests or try setting a dummy hash entry inside an <code><code>eval</code></code> to trap the error.</p>

<p>Note that functions such as <code><code>keys</code></code> and <code><code>values</code></code> may return huge lists when used on large DBM files. You may prefer to use the <code><code>each</code></code> function to iterate over large DBM files. Example:</p>

<pre><code><code>    <span class="comment"># print out history file offsets</span>
    <span class="keyword">dbmopen</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">,</span><span class="string">'/usr/lib/news/history'</span><span class="operator">,</span><span class="number">0666</span><span class="operator">);</span>
    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%HIST</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">' = '</span><span class="operator">,</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">'L'</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">dbmclose</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">);</span>
</code></code></pre>

<p>See also <a href="../../lib/AnyDBM_File.html">AnyDBM_File</a> for a more general description of the pros and cons of the various dbm approaches, as well as <a>DB_File</a> for a particularly rich implementation.</p>

<p>You can control which DBM library you use by loading that library before you call dbmopen():</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">DB_File</span><span class="operator">;</span>
    <span class="keyword">dbmopen</span><span class="operator">(</span><span class="variable">%NS_Hist</span><span class="operator">,</span> <span class="string">"</span><span class="variable">$ENV</span><span class="string">{HOME}/.netscape/history.db"</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open netscape history file: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#dbmopen">&quot;dbmopen&quot; in perlport</a>.</p>

</dd>
<dt id="defined-EXPR">defined EXPR   </dt>
<dd>

</dd>
<dt id="defined">defined</dt>
<dd>

<p>Returns a Boolean value telling whether EXPR has a value other than the undefined value <code><code>undef</code></code>. If EXPR is not present, <code><code>$_</code></code> is checked.</p>

<p>Many operations return <code><code>undef</code></code> to indicate failure, end of file, system error, uninitialized variable, and other exceptional conditions. This function allows you to distinguish <code><code>undef</code></code> from other values. (A simple Boolean test will not distinguish among <code><code>undef</code></code>, zero, the empty string, and <code><code>&quot;0&quot;</code></code>, which are all equally false.) Note that since <code><code>undef</code></code> is a valid scalar, its presence doesn&#39;t <i>necessarily</i> indicate an exceptional condition: <code><code>pop</code></code> returns <code><code>undef</code></code> when its argument is an empty array, <i>or</i> when the element to return happens to be <code><code>undef</code></code>.</p>

<p>You may also use <code><code>defined(&amp;func)</code></code> to check whether subroutine <code><code>&amp;func</code></code> has ever been defined. The return value is unaffected by any forward declarations of <code><code>&amp;func</code></code>. A subroutine that is not defined may still be callable: its package may have an <code><code>AUTOLOAD</code></code> method that makes it spring into existence the first time that it is called; see <a href="../../lib/pods/perlsub.html">perlsub</a>.</p>

<p>Use of <code><code>defined</code></code> on aggregates (hashes and arrays) is deprecated. It used to report whether memory for that aggregate had ever been allocated. This behavior may disappear in future versions of Perl. You should instead use a simple test for size:</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">@an_array</span><span class="operator">)</span> <span class="operator">{</span> <span class="keyword">print</span> <span class="string">"has array elements\n"</span> <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">%a_hash</span><span class="operator">)</span>   <span class="operator">{</span> <span class="keyword">print</span> <span class="string">"has hash members\n"</span>   <span class="operator">}</span>
</code></code></pre>

<p>When used on a hash element, it tells you whether the value is defined, not whether the key exists in the hash. Use <a href="#exists">&quot;exists&quot;</a> for the latter purpose.</p>

<p>Examples:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$switch</span><span class="operator">{</span><span class="string">D</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"</span><span class="variable">$val</span><span class="string">\n"</span> <span class="keyword">while</span> <span class="keyword">defined</span><span class="operator">(</span><span class="variable">$val</span> <span class="operator">=</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@ary</span><span class="operator">));</span>
    <span class="keyword">die</span> <span class="string">"Can't readlink </span><span class="variable">$sym</span><span class="string">: $!"</span>
        <span class="keyword">unless</span> <span class="keyword">defined</span><span class="operator">(</span><span class="variable">$value</span> <span class="operator">=</span> <span class="keyword">readlink</span> <span class="variable">$sym</span><span class="operator">);</span>
    <span class="keyword">sub</span><span class="variable"> foo </span><span class="operator">{</span> <span class="keyword">defined</span> <span class="operator">&amp;</span><span class="variable">$bar</span> <span class="operator">?</span> <span class="operator">&amp;</span><span class="variable">$bar</span><span class="operator">(</span><span class="variable">@_</span><span class="operator">)</span> <span class="operator">:</span> <span class="keyword">die</span> <span class="string">"No bar"</span><span class="operator">;</span> <span class="operator">}</span>
    <span class="variable">$debugging</span> <span class="operator">=</span> <span class="number">0</span> <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="variable">$debugging</span><span class="operator">;</span>
</code></code></pre>

<p>Note: Many folks tend to overuse <code><code>defined</code></code> and are then surprised to discover that the number <code><code>0</code></code> and <code><code>&quot;&quot;</code></code> (the zero-length string) are, in fact, defined values. For example, if you say</p>

<pre><code><code>    <span class="string">"ab"</span> <span class="operator">=~</span> <span class="regex">/a(.*)b/</span><span class="operator">;</span>
</code></code></pre>

<p>The pattern match succeeds and <code><code>$1</code></code> is defined, although it matched &quot;nothing&quot;. It didn&#39;t really fail to match anything. Rather, it matched something that happened to be zero characters long. This is all very above-board and honest. When a function returns an undefined value, it&#39;s an admission that it couldn&#39;t give you an honest answer. So you should use <code><code>defined</code></code> only when questioning the integrity of what you&#39;re trying to do. At other times, a simple comparison to <code><code>0</code></code> or <code><code>&quot;&quot;</code></code> is what you want.</p>

<p>See also <a href="#undef">&quot;undef&quot;</a>, <a href="#exists">&quot;exists&quot;</a>, <a href="#ref">&quot;ref&quot;</a>.</p>

</dd>
<dt id="delete-EXPR">delete EXPR </dt>
<dd>

<p>Given an expression that specifies an element or slice of a hash, <code><code>delete</code></code> deletes the specified elements from that hash so that exists() on that element no longer returns true. Setting a hash element to the undefined value does not remove its key, but deleting it does; see <a href="#exists">&quot;exists&quot;</a>.</p>

<p>In list context, returns the value or values deleted, or the last such element in scalar context. The return list&#39;s length always matches that of the argument list: deleting non-existent elements returns the undefined value in their corresponding positions.</p>

<p>delete() may also be used on arrays and array slices, but its behavior is less straightforward. Although exists() will return false for deleted entries, deleting array elements never changes indices of existing values; use shift() or splice() for that. However, if all deleted elements fall at the end of an array, the array&#39;s size shrinks to the position of the highest element that still tests true for exists(), or to 0 if none do.</p>

<p><b>WARNING:</b> Calling delete on array values is deprecated and likely to be removed in a future version of Perl.</p>

<p>Deleting from <code><code>%ENV</code></code> modifies the environment. Deleting from a hash tied to a DBM file deletes the entry from the DBM file. Deleting from a <code><code>tied</code></code> hash or array may not necessarily return anything; it depends on the implementation of the <code><code>tied</code></code> package&#39;s DELETE method, which may do whatever it pleases.</p>

<p>The <code><code>delete local EXPR</code></code> construct localizes the deletion to the current block at run time. Until the block exits, elements locally deleted temporarily no longer exist. See <a href="../../lib/pods/perlsub.html#Localized-deletion-of-elements-of-composite-types">&quot;Localized deletion of elements of composite types&quot; in perlsub</a>.</p>

<pre><code><code>    <span class="variable">%hash</span> <span class="operator">=</span> <span class="operator">(</span><span class="string">foo</span> <span class="operator">=&gt;</span> <span class="number">11</span><span class="operator">,</span> <span class="string">bar</span> <span class="operator">=&gt;</span> <span class="number">22</span><span class="operator">,</span> <span class="string">baz</span> <span class="operator">=&gt;</span> <span class="number">33</span><span class="operator">);</span>
    <span class="variable">$scalar</span> <span class="operator">=</span> <span class="keyword">delete</span> <span class="variable">$hash</span><span class="operator">{</span><span class="string">foo</span><span class="operator">}</span><span class="operator">;</span>             <span class="comment"># $scalar is 11</span>
    <span class="variable">$scalar</span> <span class="operator">=</span> <span class="keyword">delete</span> <span class="variable">@hash</span><span class="operator">{</span><span class="string">qw(foo bar)</span><span class="operator">}</span><span class="operator">;</span>     <span class="comment"># $scalar is 22</span>
    <span class="variable">@array</span>  <span class="operator">=</span> <span class="keyword">delete</span> <span class="variable">@hash</span><span class="operator">{</span><span class="string">qw(foo bar baz)</span><span class="operator">}</span><span class="operator">;</span> <span class="comment"># @array  is (undef,undef,33)</span>
</code></code></pre>

<p>The following (inefficiently) deletes all the values of %HASH and @ARRAY:</p>

<pre><code><code>    <span class="keyword">foreach</span> <span class="variable">$key</span> <span class="operator">(</span><span class="keyword">keys</span> <span class="variable">%HASH</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">delete</span> <span class="variable">$HASH</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="operator">}</span>
    
    <span class="keyword">foreach</span> <span class="variable">$index</span> <span class="operator">(</span><span class="number">0</span> <span class="operator">..</span> <span class="variable">$#ARRAY</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">delete</span> <span class="variable">$ARRAY</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>And so do these:</p>

<pre><code><code>    <span class="keyword">delete</span> <span class="variable">@HASH</span><span class="operator">{</span><span class="keyword">keys</span> <span class="variable">%HASH</span><span class="operator">}</span><span class="operator">;</span>
    
    <span class="keyword">delete</span> <span class="variable">@ARRAY</span><span class="operator">[</span><span class="number">0</span> <span class="operator">..</span> <span class="variable">$#ARRAY</span><span class="operator">]</span><span class="operator">;</span>
</code></code></pre>

<p>But both are slower than assigning the empty list or undefining %HASH or @ARRAY, which is the customary way to empty out an aggregate:</p>

<pre><code><code>    <span class="variable">%HASH</span> <span class="operator">=</span> <span class="operator">();</span>     <span class="comment"># completely empty %HASH</span>
    <span class="keyword">undef</span> <span class="variable">%HASH</span><span class="operator">;</span>    <span class="comment"># forget %HASH ever existed</span>
    
    <span class="variable">@ARRAY</span> <span class="operator">=</span> <span class="operator">();</span>    <span class="comment"># completely empty @ARRAY</span>
    <span class="keyword">undef</span> <span class="variable">@ARRAY</span><span class="operator">;</span>   <span class="comment"># forget @ARRAY ever existed</span>
</code></code></pre>

<p>The EXPR can be arbitrarily complicated provided its final operation is an element or slice of an aggregate:</p>

<pre><code><code>    <span class="keyword">delete</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">]{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">delete</span> <span class="variable">@</span><span class="operator">{</span><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">]}{</span><span class="variable">$key1</span><span class="operator">,</span> <span class="variable">$key2</span><span class="operator">,</span> <span class="variable">@morekeys</span><span class="operator">}</span><span class="operator">;</span>
    
    <span class="keyword">delete</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">][</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">delete</span> <span class="variable">@</span><span class="operator">{</span><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$x</span><span class="operator">][</span><span class="variable">$y</span><span class="operator">]}[</span><span class="variable">$index1</span><span class="operator">,</span> <span class="variable">$index2</span><span class="operator">,</span> <span class="variable">@moreindices</span><span class="operator">]</span><span class="operator">;</span>
</code></code></pre>

</dd>
<dt id="die-LIST">die LIST      </dt>
<dd>

<p><code><code>die</code></code> raises an exception. Inside an <code><code>eval</code></code> the error message is stuffed into <code><code>$@</code></code> and the <code><code>eval</code></code> is terminated with the undefined value. If the exception is outside of all enclosing <code><code>eval</code></code>s, then the uncaught exception prints LIST to <code><code>STDERR</code></code> and exits with a non-zero value. If you need to exit the process with a specific exit code, see <a href="#exit">&quot;exit&quot;</a>.</p>

<p>Equivalent examples:</p>

<pre><code><code>    <span class="keyword">die</span> <span class="string">"Can't cd to spool: $!\n"</span> <span class="keyword">unless</span> <span class="keyword">chdir</span> <span class="string">'/usr/spool/news'</span><span class="operator">;</span>
    <span class="keyword">chdir</span> <span class="string">'/usr/spool/news'</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't cd to spool: $!\n"</span>
</code></code></pre>

<p>If the last element of LIST does not end in a newline, the current script line number and input line number (if any) are also printed, and a newline is supplied. Note that the &quot;input line number&quot; (also known as &quot;chunk&quot;) is subject to whatever notion of &quot;line&quot; happens to be currently in effect, and is also available as the special variable <code><code>$.</code></code>. See <a href="../../lib/pods/perlvar.html#pod-">&quot;$/&quot; in perlvar</a> and <a href="../../lib/pods/perlvar.html#pod-.">&quot;$.&quot; in perlvar</a>.</p>

<p>Hint: sometimes appending <code><code>&quot;, stopped&quot;</code></code> to your message will cause it to make better sense when the string <code><code>&quot;at foo line 123&quot;</code></code> is appended. Suppose you are running script &quot;canasta&quot;.</p>

<pre><code><code>    <span class="keyword">die</span> <span class="string">"/etc/games is no good"</span><span class="operator">;</span>
    <span class="keyword">die</span> <span class="string">"/etc/games is no good, stopped"</span><span class="operator">;</span>
</code></code></pre>

<p>produce, respectively</p>

<pre><code><code>    /etc/games is no good at canasta line 123.
    /etc/games is no good, stopped at canasta line 123.</code></code></pre>

<p>If the output is empty and <code><code>$@</code></code> already contains a value (typically from a previous eval) that value is reused after appending <code><code>&quot;\t...propagated&quot;</code></code>. This is useful for propagating exceptions:</p>

<pre><code><code>    <span class="keyword">eval</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">};</span>
    <span class="keyword">die</span> <span class="keyword">unless</span> <span class="variable">$@</span> <span class="operator">=~</span> <span class="regex">/Expected exception/</span><span class="operator">;</span>
</code></code></pre>

<p>If the output is empty and <code><code>$@</code></code> contains an object reference that has a <code><code>PROPAGATE</code></code> method, that method will be called with additional file and line number parameters. The return value replaces the value in <code><code>$@</code></code>; i.e., as if <code><code><span class="variable">$@</span> <span class="operator">=</span> <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$@</span><span class="operator">-&gt;</span><span class="variable">PROPAGATE</span><span class="operator">(</span><span class="keyword">__FILE__</span><span class="operator">,</span> <span class="keyword">__LINE__</span><span class="operator">)</span> <span class="operator">};</span>
</code></code> were called.</p>

<p>If <code><code>$@</code></code> is empty then the string <code><code>&quot;Died&quot;</code></code> is used.</p>

<p>If an uncaught exception results in interpreter exit, the exit code is determined from the values of <code><code>$!</code></code> and <code><code>$?</code></code> with this pseudocode:</p>

<pre><code><code>    <span class="keyword">exit</span> <span class="variable">$!</span> <span class="keyword">if</span> <span class="variable">$!</span><span class="operator">;</span>              <span class="comment"># errno</span>
    <span class="keyword">exit</span> <span class="variable">$?</span> <span class="operator">&gt;&gt;</span> <span class="number">8</span> <span class="keyword">if</span> <span class="variable">$?</span> <span class="operator">&gt;&gt;</span> <span class="number">8</span><span class="operator">;</span>    <span class="comment"># child exit status</span>
    <span class="keyword">exit</span> <span class="number">255</span><span class="operator">;</span>                   <span class="comment"># last resort</span>
</code></code></pre>

<p>The intent is to squeeze as much possible information about the likely cause into the limited space of the system exit code. However, as <code><code>$!</code></code> is the value of C&#39;s <code><code>errno</code></code>, which can be set by any system call, this means that the value of the exit code used by <code><code>die</code></code> can be non-predictable, so should not be relied upon, other than to be non-zero.</p>

<p>You can also call <code><code>die</code></code> with a reference argument, and if this is trapped within an <code><code>eval</code></code>, <code><code>$@</code></code> contains that reference. This permits more elaborate exception handling using objects that maintain arbitrary state about the exception. Such a scheme is sometimes preferable to matching particular string values of <code><code>$@</code></code> with regular expressions. Because <code><code>$@</code></code> is a global variable and <code><code>eval</code></code> may be used within object implementations, be careful that analyzing the error object doesn&#39;t replace the reference in the global variable. It&#39;s easiest to make a local copy of the reference before any manipulations. Here&#39;s an example:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Scalar::Util</span> <span class="string">"blessed"</span><span class="operator">;</span>
    
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">;</span> <span class="keyword">die</span> <span class="variable">Some::Module::Exception</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="string">FOO</span> <span class="operator">=&gt;</span> <span class="string">"bar"</span> <span class="operator">)</span> <span class="operator">};</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">my</span> <span class="variable">$ev_err</span> <span class="operator">=</span> <span class="variable">$@</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="variable">blessed</span><span class="operator">(</span><span class="variable">$ev_err</span><span class="operator">)</span> <span class="operator">&amp;&amp;</span> <span class="variable">$ev_err</span><span class="operator">-&gt;</span><span class="variable">isa</span><span class="operator">(</span><span class="string">"Some::Module::Exception"</span><span class="operator">))</span> <span class="operator">{</span>
            <span class="comment"># handle Some::Module::Exception</span>
        <span class="operator">}</span>
        <span class="keyword">else</span> <span class="operator">{</span>
            <span class="comment"># handle all other possible exceptions</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Because Perl stringifies uncaught exception messages before display, you&#39;ll probably want to overload stringification operations on exception objects. See <a href="../../lib/overload.html">overload</a> for details about that.</p>

<p>You can arrange for a callback to be run just before the <code><code>die</code></code> does its deed, by setting the <code><code><span class="variable">$SIG</span><span class="operator">{</span><span class="string">__DIE__</span><span class="operator">}</span>
</code></code> hook. The associated handler is called with the error text and can change the error message, if it sees fit, by calling <code><code>die</code></code> again. See <a href="../../lib/pods/perlvar.html#SIG">&quot;%SIG&quot; in perlvar</a> for details on setting <code><code>%SIG</code></code> entries, and <a href="#eval-BLOCK">&quot;eval BLOCK&quot;</a> for some examples. Although this feature was to be run only right before your program was to exit, this is not currently so: the <code><code><span class="variable">$SIG</span><span class="operator">{</span><span class="string">__DIE__</span><span class="operator">}</span>
</code></code> hook is currently called even inside eval()ed blocks/strings! If one wants the hook to do nothing in such situations, put</p>

<pre><code><code>    <span class="keyword">die</span> <span class="variable">@_</span> <span class="keyword">if</span> <span class="variable">$^S</span><span class="operator">;</span>
</code></code></pre>

<p>as the first line of the handler (see <a href="../../lib/pods/perlvar.html#S">&quot;$^S&quot; in perlvar</a>). Because this promotes strange action at a distance, this counterintuitive behavior may be fixed in a future release.</p>

<p>See also exit(), warn(), and the Carp module.</p>

</dd>
<dt id="do-BLOCK">do BLOCK  </dt>
<dd>

<p>Not really a function. Returns the value of the last command in the sequence of commands indicated by BLOCK. When modified by the <code><code>while</code></code> or <code><code>until</code></code> loop modifier, executes the BLOCK once before testing the loop condition. (On other statements the loop modifiers test the conditional first.)</p>

<p><code><code>do BLOCK</code></code> does <i>not</i> count as a loop, so the loop control statements <code><code>next</code></code>, <code><code>last</code></code>, or <code><code>redo</code></code> cannot be used to leave or restart the block. See <a href="../../lib/pods/perlsyn.html">perlsyn</a> for alternative strategies.</p>

</dd>
<dt id="do-SUBROUTINE-LIST-">do SUBROUTINE(LIST) </dt>
<dd>

<p>This form of subroutine call is deprecated. SUBROUTINE can be a bareword, a scalar variable or a subroutine beginning with <code><code>&amp;</code></code>.</p>

</dd>
<dt id="do-EXPR">do EXPR </dt>
<dd>

<p>Uses the value of EXPR as a filename and executes the contents of the file as a Perl script.</p>

<pre><code><code>    <span class="keyword">do</span> <span class="string">'stat.pl'</span><span class="operator">;</span>
</code></code></pre>

<p>is just like</p>

<pre><code><code>    <span class="keyword">eval</span> <span class="string">`cat stat.pl`</span><span class="operator">;</span>
</code></code></pre>

<p>except that it&#39;s more efficient and concise, keeps track of the current filename for error messages, searches the <code><code>@INC</code></code> directories, and updates <code><code>%INC</code></code> if the file is found. See <a href="../../lib/pods/perlvar.html#INC">&quot;@INC&quot; in perlvar</a> and <a href="../../lib/pods/perlvar.html#INC">&quot;%INC&quot; in perlvar</a> for these variables. It also differs in that code evaluated with <code><code>do FILENAME</code></code> cannot see lexicals in the enclosing scope; <code><code>eval STRING</code></code> does. It&#39;s the same, however, in that it does reparse the file every time you call it, so you probably don&#39;t want to do this inside a loop.</p>

<p>If <code><code>do</code></code> can read the file but cannot compile it, it returns <code><code>undef</code></code> and sets an error message in <code><code>$@</code></code>. If <code><code>do</code></code> cannot read the file, it returns undef and sets <code><code>$!</code></code> to the error. Always check <code><code>$@</code></code> first, as compilation could fail in a way that also sets <code><code>$!</code></code>. If the file is successfully compiled, <code><code>do</code></code> returns the value of the last expression evaluated.</p>

<p>Inclusion of library modules is better done with the <code><code>use</code></code> and <code><code>require</code></code> operators, which also do automatic error checking and raise an exception if there&#39;s a problem.</p>

<p>You might like to use <code><code>do</code></code> to read in a program configuration file. Manual error checking can be done this way:</p>

<pre><code><code>    <span class="comment"># read in config files: system first, then user</span>
    <span class="keyword">for</span> <span class="variable">$file</span> <span class="operator">(</span><span class="string">"/share/prog/defaults.rc"</span><span class="operator">,</span>
               <span class="string">"</span><span class="variable">$ENV</span><span class="string">{HOME}/.someprogrc"</span><span class="operator">)</span>
    <span class="operator">{</span>
        <span class="keyword">unless</span> <span class="operator">(</span><span class="variable">$return</span> <span class="operator">=</span> <span class="keyword">do</span> <span class="variable">$file</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">warn</span> <span class="string">"couldn't parse </span><span class="variable">$file</span><span class="string">: $@"</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
            <span class="keyword">warn</span> <span class="string">"couldn't do </span><span class="variable">$file</span><span class="string">: $!"</span>    <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="variable">$return</span><span class="operator">;</span>
            <span class="keyword">warn</span> <span class="string">"couldn't run </span><span class="variable">$file</span><span class="string">"</span>       <span class="keyword">unless</span> <span class="variable">$return</span><span class="operator">;</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="dump-LABEL">dump LABEL   </dt>
<dd>

</dd>
<dt id="dump">dump</dt>
<dd>

<p>This function causes an immediate core dump. See also the <b>-u</b> command-line switch in <a href="../../lib/pods/perlrun.html">perlrun</a>, which does the same thing. Primarily this is so that you can use the <b>undump</b> program (not supplied) to turn your core dump into an executable binary after having initialized all your variables at the beginning of the program. When the new binary is executed it will begin by executing a <code><code>goto LABEL</code></code> (with all the restrictions that <code><code>goto</code></code> suffers). Think of it as a goto with an intervening core dump and reincarnation. If <code><code>LABEL</code></code> is omitted, restarts the program from the top.</p>

<p><b>WARNING</b>: Any files opened at the time of the dump will <i>not</i> be open any more when the program is reincarnated, with possible resulting confusion by Perl.</p>

<p>This function is now largely obsolete, mostly because it&#39;s very hard to convert a core file into an executable. That&#39;s why you should now invoke it as <code><code>CORE::dump()</code></code>, if you don&#39;t want to be warned against a possible typo.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#dump">&quot;dump&quot; in perlport</a>.</p>

</dd>
<dt id="each-HASH">each HASH  </dt>
<dd>

</dd>
<dt id="each-ARRAY">each ARRAY </dt>
<dd>

</dd>
<dt id="each-EXPR">each EXPR</dt>
<dd>

<p>When called on a hash in list context, returns a 2-element list consisting of the key and value for the next element of a hash. In Perl 5.12 and later only, it will also return the index and value for the next element of an array so that you can iterate over it; older Perls consider this a syntax error. When called in scalar context, returns only the key (not the value) in a hash, or the index in an array.</p>

<p>Hash entries are returned in an apparently random order. The actual random order is subject to change in future versions of Perl, but it is guaranteed to be in the same order as either the <code><code>keys</code></code> or <code><code>values</code></code> function would produce on the same (unmodified) hash. Since Perl 5.8.2 the ordering can be different even between different runs of Perl for security reasons (see <a href="../../lib/pods/perlsec.html#Algorithmic-Complexity-Attacks">&quot;Algorithmic Complexity Attacks&quot; in perlsec</a>).</p>

<p>After <code><code>each</code></code> has returned all entries from the hash or array, the next call to <code><code>each</code></code> returns the empty list in list context and <code><code>undef</code></code> in scalar context; the next call following <i>that</i> one restarts iteration. Each hash or array has its own internal iterator, accessed by <code><code>each</code></code>, <code><code>keys</code></code>, and <code><code>values</code></code>. The iterator is implicitly reset when <code><code>each</code></code> has reached the end as just described; it can be explicitly reset by calling <code><code>keys</code></code> or <code><code>values</code></code> on the hash or array. If you add or delete a hash&#39;s elements while iterating over it, entries may be skipped or duplicated--so don&#39;t do that. Exception: In the current implementation, it is always safe to delete the item most recently returned by <code><code>each()</code></code>, so the following code works properly:</p>

<pre><code><code>        <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span> <span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%hash</span><span class="operator">)</span> <span class="operator">{</span>
          <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
          <span class="keyword">delete</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>   <span class="comment"># This is safe</span>
        <span class="operator">}</span>
</code></code></pre>

<p>This prints out your environment like the printenv(1) program, but in a different order:</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%ENV</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"</span><span class="variable">$key</span><span class="string">=</span><span class="variable">$value</span><span class="string">\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Starting with Perl 5.14, <code><code>each</code></code> can take a scalar EXPR, which must hold reference to an unblessed hash or array. The argument will be dereferenced automatically. This aspect of <code><code>each</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$value</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">$hashref</span><span class="operator">)</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
</code></code></pre>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.012</span><span class="operator">;</span>  <span class="comment"># so keys/values/each work on arrays</span>
    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so keys/values/each work on scalars (experimental)</span>
</code></code></pre>

<p>See also <code><code>keys</code></code>, <code><code>values</code></code>, and <code><code>sort</code></code>.</p>

</dd>
<dt id="eof-FILEHANDLE">eof FILEHANDLE   </dt>
<dd>

</dd>
<dt id="eof-">eof ()</dt>
<dd>

</dd>
<dt id="eof">eof</dt>
<dd>

<p>Returns 1 if the next read on FILEHANDLE will return end of file <i>or</i> if FILEHANDLE is not open. FILEHANDLE may be an expression whose value gives the real filehandle. (Note that this function actually reads a character and then <code><code>ungetc</code></code>s it, so isn&#39;t useful in an interactive context.) Do not read from a terminal file (or call <code><code>eof(FILEHANDLE)</code></code> on it) after end-of-file is reached. File types such as terminals may lose the end-of-file condition if you do.</p>

<p>An <code><code>eof</code></code> without an argument uses the last file read. Using <code><code>eof()</code></code> with empty parentheses is different. It refers to the pseudo file formed from the files listed on the command line and accessed via the <code><code>&lt;&gt;</code></code> operator. Since <code><code>&lt;&gt;</code></code> isn&#39;t explicitly opened, as a normal filehandle is, an <code><code>eof()</code></code> before <code><code>&lt;&gt;</code></code> has been used will cause <code><code>@ARGV</code></code> to be examined to determine if input is available. Similarly, an <code><code>eof()</code></code> after <code><code>&lt;&gt;</code></code> has returned end-of-file will assume you are processing another <code><code>@ARGV</code></code> list, and if you haven&#39;t set <code><code>@ARGV</code></code>, will read input from <code><code>STDIN</code></code>; see <a href="../../lib/pods/perlop.html#I-O-Operators">&quot;I/O Operators&quot; in perlop</a>.</p>

<p>In a <code><code>while (&lt;&gt;)</code></code> loop, <code><code>eof</code></code> or <code><code>eof(ARGV)</code></code> can be used to detect the end of each file, whereas <code><code>eof()</code></code> will detect the end of the very last file only. Examples:</p>

<pre><code><code>    <span class="comment"># reset line numbering on each input file</span>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">next</span> <span class="keyword">if</span> <span class="regex">/^\s*#/</span><span class="operator">;</span>  <span class="comment"># skip comments</span>
        <span class="keyword">print</span> <span class="string">"$.\t</span><span class="variable">$_</span><span class="string">"</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">continue</span> <span class="operator">{</span>
        <span class="keyword">close</span> <span class="variable">ARGV</span> <span class="keyword">if</span> <span class="keyword">eof</span><span class="operator">;</span>  <span class="comment"># Not eof()!</span>
    <span class="operator">}</span>
    
    <span class="comment"># insert dashes just before last line of last file</span>
    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">eof</span><span class="operator">())</span> <span class="operator">{</span>  <span class="comment"># check for end of last file</span>
            <span class="keyword">print</span> <span class="string">"--------------\n"</span><span class="operator">;</span>
        <span class="operator">}</span>
        <span class="keyword">print</span><span class="operator">;</span>
        <span class="keyword">last</span> <span class="keyword">if</span> <span class="keyword">eof</span><span class="operator">();</span>      <span class="comment"># needed if we're reading from a terminal</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Practical hint: you almost never need to use <code><code>eof</code></code> in Perl, because the input operators typically return <code><code>undef</code></code> when they run out of data or encounter an error.</p>

</dd>
<dt id="eval-EXPR">eval EXPR        </dt>
<dd>

</dd>
<dt id="eval-BLOCK">eval BLOCK</dt>
<dd>

</dd>
<dt id="eval">eval</dt>
<dd>

<p>In the first form, the return value of EXPR is parsed and executed as if it were a little Perl program. The value of the expression (which is itself determined within scalar context) is first parsed, and if there were no errors, executed as a block within the lexical context of the current Perl program. This means, that in particular, any outer lexical variables are visible to it, and any package variable settings or subroutine and format definitions remain afterwards.</p>

<p>Note that the value is parsed every time the <code><code>eval</code></code> executes. If EXPR is omitted, evaluates <code><code>$_</code></code>. This form is typically used to delay parsing and subsequent execution of the text of EXPR until run time.</p>

<p>If the <code><code>unicode_eval</code></code> feature is enabled (which is the default under a <code><code>use 5.16</code></code> or higher declaration), EXPR or <code><code>$_</code></code> is treated as a string of characters, so <code><code>use utf8</code></code> declarations have no effect, and source filters are forbidden. In the absence of the <code><code>unicode_eval</code></code> feature, the string will sometimes be treated as characters and sometimes as bytes, depending on the internal encoding, and source filters activated within the <code><code>eval</code></code> exhibit the erratic, but historical, behaviour of affecting some outer file scope that is still compiling. See also the <a href="#evalbytes">&quot;evalbytes&quot;</a> keyword, which always treats its input as a byte stream and works properly with source filters, and the <a href="../../lib/feature.html">feature</a> pragma.</p>

<p>In the second form, the code within the BLOCK is parsed only once--at the same time the code surrounding the <code><code>eval</code></code> itself was parsed--and executed within the context of the current Perl program. This form is typically used to trap exceptions more efficiently than the first (see below), while also providing the benefit of checking the code within BLOCK at compile time.</p>

<p>The final semicolon, if any, may be omitted from the value of EXPR or within the BLOCK.</p>

<p>In both forms, the value returned is the value of the last expression evaluated inside the mini-program; a return statement may be also used, just as with subroutines. The expression providing the return value is evaluated in void, scalar, or list context, depending on the context of the <code><code>eval</code></code> itself. See <a href="#wantarray">&quot;wantarray&quot;</a> for more on how the evaluation context can be determined.</p>

<p>If there is a syntax error or runtime error, or a <code><code>die</code></code> statement is executed, <code><code>eval</code></code> returns <code><code>undef</code></code> in scalar context or an empty list in list context, and <code><code>$@</code></code> is set to the error message. (Prior to 5.16, a bug caused <code><code>undef</code></code> to be returned in list context for syntax errors, but not for runtime errors.) If there was no error, <code><code>$@</code></code> is set to the empty string. A control flow operator like <code><code>last</code></code> or <code><code>goto</code></code> can bypass the setting of <code><code>$@</code></code>. Beware that using <code><code>eval</code></code> neither silences Perl from printing warnings to STDERR, nor does it stuff the text of warning messages into <code><code>$@</code></code>. To do either of those, you have to use the <code><code><span class="variable">$SIG</span><span class="operator">{</span><span class="string">__WARN__</span><span class="operator">}</span>
</code></code> facility, or turn off warnings inside the BLOCK or EXPR using <span style="white-space: nowrap;"><code><code>no warnings &#39;all&#39;</code></code></span>. See <a href="#warn">&quot;warn&quot;</a>, <a href="../../lib/pods/perlvar.html">perlvar</a>, <a href="../../lib/warnings.html">warnings</a> and <a href="../../lib/pods/perllexwarn.html">perllexwarn</a>.</p>

<p>Note that, because <code><code>eval</code></code> traps otherwise-fatal errors, it is useful for determining whether a particular feature (such as <code><code>socket</code></code> or <code><code>symlink</code></code>) is implemented. It is also Perl&#39;s exception-trapping mechanism, where the die operator is used to raise exceptions.</p>

<p>If you want to trap errors when loading an XS module, some problems with the binary interface (such as Perl version skew) may be fatal even with <code><code>eval</code></code> unless <code><code><span class="variable">$ENV</span><span class="operator">{</span><span class="string">PERL_DL_NONLAZY</span><span class="operator">}</span>
</code></code> is set. See <a href="../../lib/pods/perlrun.html">perlrun</a>.</p>

<p>If the code to be executed doesn&#39;t vary, you may use the eval-BLOCK form to trap run-time errors without incurring the penalty of recompiling each time. The error, if any, is still returned in <code><code>$@</code></code>. Examples:</p>

<pre><code><code>    <span class="comment"># make divide-by-zero nonfatal</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$answer</span> <span class="operator">=</span> <span class="variable">$a</span> <span class="operator">/</span> <span class="variable">$b</span><span class="operator">;</span> <span class="operator">};</span> <span class="keyword">warn</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
    
    <span class="comment"># same thing, but less efficient</span>
    <span class="keyword">eval</span> <span class="string">'$answer = $a / $b'</span><span class="operator">;</span> <span class="keyword">warn</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
    
    <span class="comment"># a compile-time error</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$answer</span> <span class="operator">=</span> <span class="operator">};</span> <span class="comment"># WRONG</span>
    
    <span class="comment"># a run-time error</span>
    <span class="keyword">eval</span> <span class="string">'$answer ='</span><span class="operator">;</span>   <span class="comment"># sets $@</span>
</code></code></pre>

<p>Using the <code><code><span class="keyword">eval</span><span class="operator">{}</span>
</code></code> form as an exception trap in libraries does have some issues. Due to the current arguably broken state of <code><code>__DIE__</code></code> hooks, you may wish not to trigger any <code><code>__DIE__</code></code> hooks that user code may have installed. You can use the <code><code><span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">__DIE__</span><span class="operator">}</span>
</code></code> construct for this purpose, as this example shows:</p>

<pre><code><code>    <span class="comment"># a private exception trap for divide-by-zero</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">'__DIE__'</span><span class="operator">}</span><span class="operator">;</span> <span class="variable">$answer</span> <span class="operator">=</span> <span class="variable">$a</span> <span class="operator">/</span> <span class="variable">$b</span><span class="operator">;</span> <span class="operator">};</span>
    <span class="keyword">warn</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>
</code></code></pre>

<p>This is especially significant, given that <code><code>__DIE__</code></code> hooks can call <code><code>die</code></code> again, which has the effect of changing their error messages:</p>

<pre><code><code>    <span class="comment"># __DIE__ hooks may modify error messages</span>
    <span class="operator">{</span>
       <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">'__DIE__'</span><span class="operator">}</span> <span class="operator">=</span>
              <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="operator">(</span><span class="keyword">my</span> <span class="variable">$x</span> <span class="operator">=</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span> <span class="operator">=~</span> <span class="regex">s/foo/bar/g</span><span class="operator">;</span> <span class="keyword">die</span> <span class="variable">$x</span> <span class="operator">};</span>
       <span class="keyword">eval</span> <span class="operator">{</span> <span class="keyword">die</span> <span class="string">"foo lives here"</span> <span class="operator">};</span>
       <span class="keyword">print</span> <span class="variable">$@</span> <span class="keyword">if</span> <span class="variable">$@</span><span class="operator">;</span>                <span class="comment"># prints "bar lives here"</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Because this promotes action at a distance, this counterintuitive behavior may be fixed in a future release.</p>

<p>With an <code><code>eval</code></code>, you should be especially careful to remember what&#39;s being looked at when:</p>

<pre><code><code>    <span class="keyword">eval</span> <span class="variable">$x</span><span class="operator">;</span>        <span class="comment"># CASE 1</span>
    <span class="keyword">eval</span> <span class="string">"</span><span class="variable">$x</span><span class="string">"</span><span class="operator">;</span>      <span class="comment"># CASE 2</span>
    
    <span class="keyword">eval</span> <span class="string">'$x'</span><span class="operator">;</span>      <span class="comment"># CASE 3</span>
    <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">$x</span> <span class="operator">};</span>    <span class="comment"># CASE 4</span>
    
    <span class="keyword">eval</span> <span class="string">"\$</span><span class="variable">$x</span><span class="string">++"</span><span class="operator">;</span>  <span class="comment"># CASE 5</span>
    <span class="variable">$$x</span><span class="operator">++;</span>          <span class="comment"># CASE 6</span>
</code></code></pre>

<p>Cases 1 and 2 above behave identically: they run the code contained in the variable $x. (Although case 2 has misleading double quotes making the reader wonder what else might be happening (nothing is).) Cases 3 and 4 likewise behave in the same way: they run the code <code><code>&#39;$x&#39;</code></code>, which does nothing but return the value of $x. (Case 4 is preferred for purely visual reasons, but it also has the advantage of compiling at compile-time instead of at run-time.) Case 5 is a place where normally you <i>would</i> like to use double quotes, except that in this particular situation, you can just use symbolic references instead, as in case 6.</p>

<p>Before Perl 5.14, the assignment to <code><code>$@</code></code> occurred before restoration of localized variables, which means that for your code to run on older versions, a temporary is required if you want to mask some but not all errors:</p>

<pre><code><code>    <span class="comment"># alter $@ on nefarious repugnancy only</span>
    <span class="operator">{</span>
       <span class="keyword">my</span> <span class="variable">$e</span><span class="operator">;</span>
       <span class="operator">{</span>
          <span class="keyword">local</span> <span class="variable">$@</span><span class="operator">;</span> <span class="comment"># protect existing $@</span>
          <span class="keyword">eval</span> <span class="operator">{</span> <span class="variable">test_repugnancy</span><span class="operator">()</span> <span class="operator">};</span>
          <span class="comment"># $@ =~ /nefarious/ and die $@; # Perl 5.14 and higher only</span>
          <span class="variable">$@</span> <span class="operator">=~</span> <span class="regex">/nefarious/</span> <span class="keyword">and</span> <span class="variable">$e</span> <span class="operator">=</span> <span class="variable">$@</span><span class="operator">;</span>
       <span class="operator">}</span>
       <span class="keyword">die</span> <span class="variable">$e</span> <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$e</span>
    <span class="operator">}</span>
</code></code></pre>

<p><code><code>eval BLOCK</code></code> does <i>not</i> count as a loop, so the loop control statements <code><code>next</code></code>, <code><code>last</code></code>, or <code><code>redo</code></code> cannot be used to leave or restart the block.</p>

<p>An <code><code>eval &#39;&#39;</code></code> executed within the <code><code>DB</code></code> package doesn&#39;t see the usual surrounding lexical scope, but rather the scope of the first non-DB piece of code that called it. You don&#39;t normally need to worry about this unless you are writing a Perl debugger.</p>

</dd>
<dt id="evalbytes-EXPR">evalbytes EXPR </dt>
<dd>

</dd>
<dt id="evalbytes">evalbytes</dt>
<dd>

<p>This function is like <a href="#eval">&quot;eval&quot;</a> with a string argument, except it always parses its argument, or <code><code>$_</code></code> if EXPR is omitted, as a string of bytes. A string containing characters whose ordinal value exceeds 255 results in an error. Source filters activated within the evaluated code apply to the code itself.</p>

<p>This function is only available under the <code><code>evalbytes</code></code> feature, a <code><code>use v5.16</code></code> (or higher) declaration, or with a <code><code>CORE::</code></code> prefix. See <a href="../../lib/feature.html">feature</a> for more information.</p>

</dd>
<dt id="exec-LIST">exec LIST  </dt>
<dd>

</dd>
<dt id="exec-PROGRAM-LIST">exec PROGRAM LIST</dt>
<dd>

<p>The <code><code>exec</code></code> function executes a system command <i>and never returns</i>; use <code><code>system</code></code> instead of <code><code>exec</code></code> if you want it to return. It fails and returns false only if the command does not exist <i>and</i> it is executed directly instead of via your system&#39;s command shell (see below).</p>

<p>Since it&#39;s a common mistake to use <code><code>exec</code></code> instead of <code><code>system</code></code>, Perl warns you if <code><code>exec</code></code> is called in void context and if there is a following statement that isn&#39;t <code><code>die</code></code>, <code><code>warn</code></code>, or <code><code>exit</code></code> (if <code><code>-w</code></code> is set--but you always do that, right?). If you <i>really</i> want to follow an <code><code>exec</code></code> with some other statement, you can use one of these styles to avoid the warning:</p>

<pre><code><code>    <span class="keyword">exec</span> <span class="operator">(</span><span class="string">'foo'</span><span class="operator">)</span>   <span class="keyword">or</span> <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"couldn't exec foo: $!"</span><span class="operator">;</span>
    <span class="operator">{</span> <span class="keyword">exec</span> <span class="operator">(</span><span class="string">'foo'</span><span class="operator">)</span> <span class="operator">};</span> <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"couldn't exec foo: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>If there is more than one argument in LIST, or if LIST is an array with more than one value, calls execvp(3) with the arguments in LIST. If there is only one scalar argument or an array with one element in it, the argument is checked for shell metacharacters, and if there are any, the entire argument is passed to the system&#39;s command shell for parsing (this is <code><code>/bin/sh -c</code></code> on Unix platforms, but varies on other platforms). If there are no shell metacharacters in the argument, it is split into words and passed directly to <code><code>execvp</code></code>, which is more efficient. Examples:</p>

<pre><code><code>    <span class="keyword">exec</span> <span class="string">'/bin/echo'</span><span class="operator">,</span> <span class="string">'Your arguments are: '</span><span class="operator">,</span> <span class="variable">@ARGV</span><span class="operator">;</span>
    <span class="keyword">exec</span> <span class="string">"sort </span><span class="variable">$outfile</span><span class="string"> | uniq"</span><span class="operator">;</span>
</code></code></pre>

<p>If you don&#39;t really want to execute the first argument, but want to lie to the program you are executing about its own name, you can specify the program you actually want to run as an &quot;indirect object&quot; (without a comma) in front of the LIST. (This always forces interpretation of the LIST as a multivalued list, even if there is only a single scalar in the list.) Example:</p>

<pre><code><code>    <span class="variable">$shell</span> <span class="operator">=</span> <span class="string">'/bin/csh'</span><span class="operator">;</span>
    <span class="keyword">exec</span> <span class="variable">$shell</span> <span class="string">'-sh'</span><span class="operator">;</span>    <span class="comment"># pretend it's a login shell</span>
</code></code></pre>

<p>or, more directly,</p>

<pre><code><code>    <span class="keyword">exec</span> <span class="operator">{</span><span class="string">'/bin/csh'</span><span class="operator">}</span> <span class="string">'-sh'</span><span class="operator">;</span>  <span class="comment"># pretend it's a login shell</span>
</code></code></pre>

<p>When the arguments get executed via the system shell, results are subject to its quirks and capabilities. See <a href="../../lib/pods/perlop.html#STRING-">&quot;`STRING`&quot; in perlop</a> for details.</p>

<p>Using an indirect object with <code><code>exec</code></code> or <code><code>system</code></code> is also more secure. This usage (which also works fine with system()) forces interpretation of the arguments as a multivalued list, even if the list had just one argument. That way you&#39;re safe from the shell expanding wildcards or splitting up words with whitespace in them.</p>

<pre><code><code>    <span class="variable">@args</span> <span class="operator">=</span> <span class="operator">(</span> <span class="string">"echo surprise"</span> <span class="operator">);</span>
    
    <span class="keyword">exec</span> <span class="variable">@args</span><span class="operator">;</span>               <span class="comment"># subject to shell escapes</span>
                                <span class="comment"># if @args == 1</span>
    <span class="keyword">exec</span> <span class="operator">{</span> <span class="variable">$args</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">}</span> <span class="variable">@args</span><span class="operator">;</span>  <span class="comment"># safe even with one-arg list</span>
</code></code></pre>

<p>The first version, the one without the indirect object, ran the <i>echo</i> program, passing it <code><code>&quot;surprise&quot;</code></code> an argument. The second version didn&#39;t; it tried to run a program named <i>&quot;echo surprise&quot;</i>, didn&#39;t find it, and set <code><code>$?</code></code> to a non-zero value indicating failure.</p>

<p>Beginning with v5.6.0, Perl attempts to flush all files opened for output before the exec, but this may not be supported on some platforms (see <a href="../../lib/pods/perlport.html">perlport</a>). To be safe, you may need to set <code><code>$|</code></code> ($AUTOFLUSH in English) or call the <code><code>autoflush()</code></code> method of <code><code>IO::Handle</code></code> on any open handles to avoid lost output.</p>

<p>Note that <code><code>exec</code></code> will not call your <code><code>END</code></code> blocks, nor will it invoke <code><code>DESTROY</code></code> methods on your objects.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#exec">&quot;exec&quot; in perlport</a>.</p>

</dd>
<dt id="exists-EXPR">exists EXPR  </dt>
<dd>

<p>Given an expression that specifies an element of a hash, returns true if the specified element in the hash has ever been initialized, even if the corresponding value is undefined.</p>

<pre><code><code>    <span class="keyword">print</span> <span class="string">"Exists\n"</span>    <span class="keyword">if</span> <span class="keyword">exists</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Defined\n"</span>   <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"True\n"</span>      <span class="keyword">if</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">;</span>
</code></code></pre>

<p>exists may also be called on array elements, but its behavior is much less obvious and is strongly tied to the use of <a href="#delete">&quot;delete&quot;</a> on arrays. <b>Be aware</b> that calling exists on array values is deprecated and likely to be removed in a future version of Perl.</p>

<pre><code><code>    <span class="keyword">print</span> <span class="string">"Exists\n"</span>    <span class="keyword">if</span> <span class="keyword">exists</span> <span class="variable">$array</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Defined\n"</span>   <span class="keyword">if</span> <span class="keyword">defined</span> <span class="variable">$array</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"True\n"</span>      <span class="keyword">if</span> <span class="variable">$array</span><span class="operator">[</span><span class="variable">$index</span><span class="operator">]</span><span class="operator">;</span>
</code></code></pre>

<p>A hash or array element can be true only if it&#39;s defined and defined only if it exists, but the reverse doesn&#39;t necessarily hold true.</p>

<p>Given an expression that specifies the name of a subroutine, returns true if the specified subroutine has ever been declared, even if it is undefined. Mentioning a subroutine name for exists or defined does not count as declaring it. Note that a subroutine that does not exist may still be callable: its package may have an <code><code>AUTOLOAD</code></code> method that makes it spring into existence the first time that it is called; see <a href="../../lib/pods/perlsub.html">perlsub</a>.</p>

<pre><code><code>    <span class="keyword">print</span> <span class="string">"Exists\n"</span>  <span class="keyword">if</span> <span class="keyword">exists</span> <span class="operator">&amp;</span><span class="variable">subroutine</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"Defined\n"</span> <span class="keyword">if</span> <span class="keyword">defined</span> <span class="operator">&amp;</span><span class="variable">subroutine</span><span class="operator">;</span>
</code></code></pre>

<p>Note that the EXPR can be arbitrarily complicated as long as the final operation is a hash or array key lookup or subroutine name:</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">A</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">B</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">)</span>  <span class="operator">{</span> <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$hash</span><span class="operator">{</span><span class="string">A</span><span class="operator">}{</span><span class="string">B</span><span class="operator">}{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">)</span>       <span class="operator">{</span> <span class="operator">}</span>
    
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">A</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">B</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="variable">$ix</span><span class="operator">]</span><span class="operator">)</span>   <span class="operator">{</span> <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$hash</span><span class="operator">{</span><span class="string">A</span><span class="operator">}{</span><span class="string">B</span><span class="operator">}[</span><span class="variable">$ix</span><span class="operator">]</span><span class="operator">)</span>        <span class="operator">{</span> <span class="operator">}</span>
    
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="operator">&amp;{</span><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">A</span><span class="operator">}{</span><span class="string">B</span><span class="operator">}{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">})</span>   <span class="operator">{</span> <span class="operator">}</span>
</code></code></pre>

<p>Although the most deeply nested array or hash element will not spring into existence just because its existence was tested, any intervening ones will. Thus <code><code><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">"A"</span><span class="operator">}</span>
</code></code> and <code><code><span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">"A"</span><span class="operator">}</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">"B"</span><span class="operator">}</span>
</code></code> will spring into existence due to the existence test for the $key element above. This happens anywhere the arrow operator is used, including even here:</p>

<pre><code><code>    <span class="keyword">undef</span> <span class="variable">$ref</span><span class="operator">;</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$ref</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">"Some key"</span><span class="operator">}</span><span class="operator">)</span>    <span class="operator">{</span> <span class="operator">}</span>
    <span class="keyword">print</span> <span class="variable">$ref</span><span class="operator">;</span>  <span class="comment"># prints HASH(0x80d3d5c)</span>
</code></code></pre>

<p>This surprising autovivification in what does not at first--or even second--glance appear to be an lvalue context may be fixed in a future release.</p>

<p>Use of a subroutine call, rather than a subroutine name, as an argument to exists() is an error.</p>

<pre><code><code>    <span class="keyword">exists</span> <span class="operator">&amp;</span><span class="keyword">sub</span><span class="operator">;</span>    <span class="comment"># OK</span>
    <span class="keyword">exists</span> <span class="operator">&amp;</span><span class="keyword">sub</span><span class="operator">();</span>  <span class="comment"># Error</span>
</code></code></pre>

</dd>
<dt id="exit-EXPR">exit EXPR   </dt>
<dd>

</dd>
<dt id="exit">exit</dt>
<dd>

<p>Evaluates EXPR and exits immediately with that value. Example:</p>

<pre><code><code>    <span class="variable">$ans</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;;</span>
    <span class="keyword">exit</span> <span class="number">0</span> <span class="keyword">if</span> <span class="variable">$ans</span> <span class="operator">=~</span> <span class="regex">/^[Xx]/</span><span class="operator">;</span>
</code></code></pre>

<p>See also <code><code>die</code></code>. If EXPR is omitted, exits with <code><code>0</code></code> status. The only universally recognized values for EXPR are <code><code>0</code></code> for success and <code><code>1</code></code> for error; other values are subject to interpretation depending on the environment in which the Perl program is running. For example, exiting 69 (EX_UNAVAILABLE) from a <i>sendmail</i> incoming-mail filter will cause the mailer to return the item undelivered, but that&#39;s not true everywhere.</p>

<p>Don&#39;t use <code><code>exit</code></code> to abort a subroutine if there&#39;s any chance that someone might want to trap whatever error happened. Use <code><code>die</code></code> instead, which can be trapped by an <code><code>eval</code></code>.</p>

<p>The exit() function does not always exit immediately. It calls any defined <code><code>END</code></code> routines first, but these <code><code>END</code></code> routines may not themselves abort the exit. Likewise any object destructors that need to be called are called before the real exit. <code><code>END</code></code> routines and destructors can change the exit status by modifying <code><code>$?</code></code>. If this is a problem, you can call <code><code>POSIX::_exit($status)</code></code> to avoid END and destructor processing. See <a href="../../lib/pods/perlmod.html">perlmod</a> for details.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#exit">&quot;exit&quot; in perlport</a>.</p>

</dd>
<dt id="exp-EXPR">exp EXPR     </dt>
<dd>

</dd>
<dt id="exp">exp</dt>
<dd>

<p>Returns <i>e</i> (the natural logarithm base) to the power of EXPR. If EXPR is omitted, gives <code><code>exp($_)</code></code>.</p>

</dd>
<dt id="fc-EXPR">fc EXPR     </dt>
<dd>

</dd>
<dt id="fc">fc</dt>
<dd>

<p>Returns the casefolded version of EXPR. This is the internal function implementing the <code><code>\F</code></code> escape in double-quoted strings.</p>

<p>Casefolding is the process of mapping strings to a form where case differences are erased; comparing two strings in their casefolded form is effectively a way of asking if two strings are equal, regardless of case.</p>

<p>Roughly, if you ever found yourself writing this</p>

<pre><code><code>    lc($this) eq lc($that)  # Wrong!
        # or
    uc($this) eq uc($that)  # Also wrong!
        # or
    $this =~ /\Q$that/i     # Right!</code></code></pre>

<p>Now you can write</p>

<pre><code><code>    fc($this) eq fc($that)</code></code></pre>

<p>And get the correct results.</p>

<p>Perl only implements the full form of casefolding. For further information on casefolding, refer to the Unicode Standard, specifically sections 3.13 <code><code>Default Case Operations</code></code>, 4.2 <code><code>Case-Normative</code></code>, and 5.18 <code><code>Case Mappings</code></code>, available at <a href="http://www.unicode.org/versions/latest/">http://www.unicode.org/versions/latest/</a>, as well as the Case Charts available at <a href="http://www.unicode.org/charts/case/">http://www.unicode.org/charts/case/</a>.</p>

<p>If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>This function behaves the same way under various pragma, such as in a locale, as <a href="#lc">&quot;lc&quot;</a> does.</p>

<p>While the Unicode Standard defines two additional forms of casefolding, one for Turkic languages and one that never maps one character into multiple characters, these are not provided by the Perl core; However, the CPAN module <code><code>Unicode::Casing</code></code> may be used to provide an implementation.</p>

<p>This keyword is available only when the <code><code>&quot;fc&quot;</code></code> feature is enabled, or when prefixed with <code><code>CORE::</code></code>; See <a href="../../lib/feature.html">feature</a>. Alternately, include a <code><code>use v5.16</code></code> or later to the current scope.</p>

</dd>
<dt id="fcntl-FILEHANDLE-FUNCTION-SCALAR">fcntl FILEHANDLE,FUNCTION,SCALAR </dt>
<dd>

<p>Implements the fcntl(2) function. You&#39;ll probably have to say</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span><span class="operator">;</span>
</code></code></pre>

<p>first to get the correct constant definitions. Argument processing and value returned work just like <code><code>ioctl</code></code> below. For example:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span><span class="operator">;</span>
    <span class="keyword">fcntl</span><span class="operator">(</span><span class="variable">$filehandle</span><span class="operator">,</span> <span class="variable">F_GETFL</span><span class="operator">,</span> <span class="variable">$packed_return_buffer</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"can't fcntl F_GETFL: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>You don&#39;t have to check for <code><code>defined</code></code> on the return from <code><code>fcntl</code></code>. Like <code><code>ioctl</code></code>, it maps a <code><code>0</code></code> return from the system call into <code><code>&quot;0 but true&quot;</code></code> in Perl. This string is true in boolean context and <code><code>0</code></code> in numeric context. It is also exempt from the normal <b>-w</b> warnings on improper numeric conversions.</p>

<p>Note that <code><code>fcntl</code></code> raises an exception if used on a machine that doesn&#39;t implement fcntl(2). See the Fcntl module or your fcntl(2) manpage to learn what functions are available on your system.</p>

<p>Here&#39;s an example of setting a filehandle named <code><code>REMOTE</code></code> to be non-blocking at the system level. You&#39;ll have to negotiate <code><code>$|</code></code> on your own, though.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">qw(F_GETFL F_SETFL O_NONBLOCK)</span><span class="operator">;</span>
    
    <span class="variable">$flags</span> <span class="operator">=</span> <span class="keyword">fcntl</span><span class="operator">(</span><span class="variable">REMOTE</span><span class="operator">,</span> <span class="variable">F_GETFL</span><span class="operator">,</span> <span class="number">0</span><span class="operator">)</span>
                <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't get flags for the socket: $!\n"</span><span class="operator">;</span>
    
    <span class="variable">$flags</span> <span class="operator">=</span> <span class="keyword">fcntl</span><span class="operator">(</span><span class="variable">REMOTE</span><span class="operator">,</span> <span class="variable">F_SETFL</span><span class="operator">,</span> <span class="variable">$flags</span> <span class="operator">|</span> <span class="variable">O_NONBLOCK</span><span class="operator">)</span>
                <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't set flags for the socket: $!\n"</span><span class="operator">;</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#fcntl">&quot;fcntl&quot; in perlport</a>.</p>

</dd>
<dt id="FILE__">__FILE__ </dt>
<dd>

<p>A special token that returns the name of the file in which it occurs.</p>

</dd>
<dt id="fileno-FILEHANDLE">fileno FILEHANDLE </dt>
<dd>

<p>Returns the file descriptor for a filehandle, or undefined if the filehandle is not open. If there is no real file descriptor at the OS level, as can happen with filehandles connected to memory objects via <code><code>open</code></code> with a reference for the third argument, -1 is returned.</p>

<p>This is mainly useful for constructing bitmaps for <code><code>select</code></code> and low-level POSIX tty-handling operations. If FILEHANDLE is an expression, the value is taken as an indirect filehandle, generally its name.</p>

<p>You can use this to find out whether two handles refer to the same underlying descriptor:</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">fileno</span><span class="operator">(</span><span class="variable">THIS</span><span class="operator">)</span> <span class="operator">==</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">THAT</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"THIS and THAT are dups\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="flock-FILEHANDLE-OPERATION">flock FILEHANDLE,OPERATION   </dt>
<dd>

<p>Calls flock(2), or an emulation of it, on FILEHANDLE. Returns true for success, false on failure. Produces a fatal error if used on a machine that doesn&#39;t implement flock(2), fcntl(2) locking, or lockf(3). <code><code>flock</code></code> is Perl&#39;s portable file-locking interface, although it locks entire files only, not records.</p>

<p>Two potentially non-obvious but traditional <code><code>flock</code></code> semantics are that it waits indefinitely until the lock is granted, and that its locks are <b>merely advisory</b>. Such discretionary locks are more flexible, but offer fewer guarantees. This means that programs that do not also use <code><code>flock</code></code> may modify files locked with <code><code>flock</code></code>. See <a href="../../lib/pods/perlport.html">perlport</a>, your port&#39;s specific documentation, and your system-specific local manpages for details. It&#39;s best to assume traditional behavior if you&#39;re writing portable programs. (But if you&#39;re not, you should as always feel perfectly free to write for your own system&#39;s idiosyncrasies (sometimes called &quot;features&quot;). Slavish adherence to portability concerns shouldn&#39;t get in the way of your getting your job done.)</p>

<p>OPERATION is one of LOCK_SH, LOCK_EX, or LOCK_UN, possibly combined with LOCK_NB. These constants are traditionally valued 1, 2, 8 and 4, but you can use the symbolic names if you import them from the <a href="../../lib/Fcntl.html">Fcntl</a> module, either individually, or as a group using the <code><code>:flock</code></code> tag. LOCK_SH requests a shared lock, LOCK_EX requests an exclusive lock, and LOCK_UN releases a previously requested lock. If LOCK_NB is bitwise-or&#39;ed with LOCK_SH or LOCK_EX, then <code><code>flock</code></code> returns immediately rather than blocking waiting for the lock; check the return status to see if you got it.</p>

<p>To avoid the possibility of miscoordination, Perl now flushes FILEHANDLE before locking or unlocking it.</p>

<p>Note that the emulation built with lockf(3) doesn&#39;t provide shared locks, and it requires that FILEHANDLE be open with write intent. These are the semantics that lockf(3) implements. Most if not all systems implement lockf(3) in terms of fcntl(2) locking, though, so the differing semantics shouldn&#39;t bite too many people.</p>

<p>Note that the fcntl(2) emulation of flock(3) requires that FILEHANDLE be open with read intent to use LOCK_SH and requires that it be open with write intent to use LOCK_EX.</p>

<p>Note also that some versions of <code><code>flock</code></code> cannot lock things over the network; you would need to use the more system-specific <code><code>fcntl</code></code> for that. If you like you can force Perl to ignore your system&#39;s flock(2) function, and so provide its own fcntl(2)-based emulation, by passing the switch <code><code>-Ud_flock</code></code> to the <i>Configure</i> program when you configure and build a new Perl.</p>

<p>Here&#39;s a mailbox appender for BSD systems.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">qw(:flock SEEK_END)</span><span class="operator">;</span> <span class="comment"># import LOCK_* and SEEK_END constants</span>
    
    <span class="keyword">sub</span><span class="variable"> lock </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$fh</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="keyword">flock</span><span class="operator">(</span><span class="variable">$fh</span><span class="operator">,</span> <span class="variable">LOCK_EX</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Cannot lock mailbox - $!\n"</span><span class="operator">;</span>
    
        <span class="comment"># and, in case someone appended while we were waiting...</span>
        <span class="keyword">seek</span><span class="operator">(</span><span class="variable">$fh</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="variable">SEEK_END</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Cannot seek - $!\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    
    <span class="keyword">sub</span><span class="variable"> unlock </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$fh</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="keyword">flock</span><span class="operator">(</span><span class="variable">$fh</span><span class="operator">,</span> <span class="variable">LOCK_UN</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Cannot unlock mailbox - $!\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$mbox</span><span class="operator">,</span> <span class="string">"&gt;&gt;"</span><span class="operator">,</span> <span class="string">"/usr/spool/mail/</span><span class="variable">$ENV</span><span class="string">{'USER'}"</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open mailbox: $!"</span><span class="operator">;</span>
    
    <span class="keyword">lock</span><span class="operator">(</span><span class="variable">$mbox</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="variable">$mbox</span> <span class="variable">$msg</span><span class="operator">,</span><span class="string">"\n\n"</span><span class="operator">;</span>
    <span class="variable">unlock</span><span class="operator">(</span><span class="variable">$mbox</span><span class="operator">);</span>
</code></code></pre>

<p>On systems that support a real flock(2), locks are inherited across fork() calls, whereas those that must resort to the more capricious fcntl(2) function lose their locks, making it seriously harder to write servers.</p>

<p>See also <a>DB_File</a> for other flock() examples.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#flock">&quot;flock&quot; in perlport</a>.</p>

</dd>
<dt id="fork">fork   </dt>
<dd>

<p>Does a fork(2) system call to create a new process running the same program at the same point. It returns the child pid to the parent process, <code><code>0</code></code> to the child process, or <code><code>undef</code></code> if the fork is unsuccessful. File descriptors (and sometimes locks on those descriptors) are shared, while everything else is copied. On most systems supporting fork(), great care has gone into making it extremely efficient (for example, using copy-on-write technology on data pages), making it the dominant paradigm for multitasking over the last few decades.</p>

<p>Beginning with v5.6.0, Perl attempts to flush all files opened for output before forking the child process, but this may not be supported on some platforms (see <a href="../../lib/pods/perlport.html">perlport</a>). To be safe, you may need to set <code><code>$|</code></code> ($AUTOFLUSH in English) or call the <code><code>autoflush()</code></code> method of <code><code>IO::Handle</code></code> on any open handles to avoid duplicate output.</p>

<p>If you <code><code>fork</code></code> without ever waiting on your children, you will accumulate zombies. On some systems, you can avoid this by setting <code><code><span class="variable">$SIG</span><span class="operator">{</span><span class="string">CHLD</span><span class="operator">}</span>
</code></code> to <code><code>&quot;IGNORE&quot;</code></code>. See also <a href="../../lib/pods/perlipc.html">perlipc</a> for more examples of forking and reaping moribund children.</p>

<p>Note that if your forked child inherits system file descriptors like STDIN and STDOUT that are actually connected by a pipe or socket, even if you exit, then the remote server (such as, say, a CGI script or a backgrounded job launched from a remote shell) won&#39;t think you&#39;re done. You should reopen those to <i>/dev/null</i> if it&#39;s any issue.</p>

<p>On some platforms such as Windows, where the fork() system call is not available, Perl can be built to emulate fork() in the Perl interpreter. The emulation is designed, at the level of the Perl program, to be as compatible as possible with the &quot;Unix&quot; fork(). However it has limitations that have to be considered in code intended to be portable. See <a href="../../lib/pods/perlfork.html">perlfork</a> for more details.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#fork">&quot;fork&quot; in perlport</a>.</p>

</dd>
<dt id="format">format </dt>
<dd>

<p>Declare a picture format for use by the <code><code>write</code></code> function. For example:</p>

<pre><code><code>    <span class="keyword">format</span> <span class="variable">Something</span> <span class="operator">=</span><span class="default">
        Test: @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @||||| @&gt;&gt;&gt;&gt;&gt;
              $str,     $%,    '$' . int($num)
    .</span>
    
    <span class="variable">$str</span> <span class="operator">=</span> <span class="string">"widget"</span><span class="operator">;</span>
    <span class="variable">$num</span> <span class="operator">=</span> <span class="variable">$cost</span><span class="operator">/</span><span class="variable">$quantity</span><span class="operator">;</span>
    <span class="variable">$~</span> <span class="operator">=</span> <span class="string">'Something'</span><span class="operator">;</span>
    <span class="keyword">write</span><span class="operator">;</span>
</code></code></pre>

<p>See <a href="../../lib/pods/perlform.html">perlform</a> for many details and examples.</p>

</dd>
<dt id="formline-PICTURE-LIST">formline PICTURE,LIST </dt>
<dd>

<p>This is an internal function used by <code><code>format</code></code>s, though you may call it, too. It formats (see <a href="../../lib/pods/perlform.html">perlform</a>) a list of values according to the contents of PICTURE, placing the output into the format output accumulator, <code><code>$^A</code></code> (or <code><code>$ACCUMULATOR</code></code> in English). Eventually, when a <code><code>write</code></code> is done, the contents of <code><code>$^A</code></code> are written to some filehandle. You could also read <code><code>$^A</code></code> and then set <code><code>$^A</code></code> back to <code><code>&quot;&quot;</code></code>. Note that a format typically does one <code><code>formline</code></code> per line of form, but the <code><code>formline</code></code> function itself doesn&#39;t care how many newlines are embedded in the PICTURE. This means that the <code><code>~</code></code> and <code><code>~~</code></code> tokens treat the entire PICTURE as a single line. You may therefore need to use multiple formlines to implement a single record format, just like the <code><code>format</code></code> compiler.</p>

<p>Be careful if you put double quotes around the picture, because an <code><code>@</code></code> character may be taken to mean the beginning of an array name. <code><code>formline</code></code> always returns true. See <a href="../../lib/pods/perlform.html">perlform</a> for other examples.</p>

<p>If you are trying to use this instead of <code><code>write</code></code> to capture the output, you may find it easier to open a filehandle to a scalar (<code><code>open $fh, &quot;&gt;&quot;, \$output</code></code>) and write to that instead.</p>

</dd>
<dt id="getc-FILEHANDLE">getc FILEHANDLE    </dt>
<dd>

</dd>
<dt id="getc">getc</dt>
<dd>

<p>Returns the next character from the input file attached to FILEHANDLE, or the undefined value at end of file or if there was an error (in the latter case <code><code>$!</code></code> is set). If FILEHANDLE is omitted, reads from STDIN. This is not particularly efficient. However, it cannot be used by itself to fetch single characters without waiting for the user to hit enter. For that, try something more like:</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$BSD_STYLE</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty cbreak &lt;/dev/tty &gt;/dev/tty 2&gt;&amp;1"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty"</span><span class="operator">,</span> <span class="string">'-icanon'</span><span class="operator">,</span> <span class="string">'eol'</span><span class="operator">,</span> <span class="string">"\001"</span><span class="operator">;</span>
    <span class="operator">}</span>
    
    <span class="variable">$key</span> <span class="operator">=</span> <span class="keyword">getc</span><span class="operator">(</span><span class="variable">STDIN</span><span class="operator">);</span>
    
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$BSD_STYLE</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">"stty -cbreak &lt;/dev/tty &gt;/dev/tty 2&gt;&amp;1"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">system</span> <span class="string">'stty'</span><span class="operator">,</span> <span class="string">'icanon'</span><span class="operator">,</span> <span class="string">'eol'</span><span class="operator">,</span> <span class="string">'^@'</span><span class="operator">;</span> <span class="comment"># ASCII NUL</span>
    <span class="operator">}</span>
    <span class="keyword">print</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>Determination of whether $BSD_STYLE should be set is left as an exercise to the reader.</p>

<p>The <code><code>POSIX::getattr</code></code> function can do this more portably on systems purporting POSIX compliance. See also the <code><code>Term::ReadKey</code></code> module from your nearest CPAN site; details on CPAN can be found under <a href="../../lib/pods/perlmodlib.html#CPAN">&quot;CPAN&quot; in perlmodlib</a>.</p>

</dd>
<dt id="getlogin">getlogin  </dt>
<dd>

<p>This implements the C library function of the same name, which on most systems returns the current login from <i>/etc/utmp</i>, if any. If it returns the empty string, use <code><code>getpwuid</code></code>.</p>

<pre><code><code>    <span class="variable">$login</span> <span class="operator">=</span> <span class="keyword">getlogin</span> <span class="operator">||</span> <span class="keyword">getpwuid</span><span class="operator">(</span><span class="variable">$&lt;</span><span class="operator">)</span> <span class="operator">||</span> <span class="string">"Kilroy"</span><span class="operator">;</span>
</code></code></pre>

<p>Do not consider <code><code>getlogin</code></code> for authentication: it is not as secure as <code><code>getpwuid</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#getlogin">&quot;getlogin&quot; in perlport</a>.</p>

</dd>
<dt id="getpeername-SOCKET">getpeername SOCKET  </dt>
<dd>

<p>Returns the packed sockaddr address of the other end of the SOCKET connection.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$hersockaddr</span>    <span class="operator">=</span> <span class="keyword">getpeername</span><span class="operator">(</span><span class="variable">SOCK</span><span class="operator">);</span>
    <span class="operator">(</span><span class="variable">$port</span><span class="operator">,</span> <span class="variable">$iaddr</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">sockaddr_in</span><span class="operator">(</span><span class="variable">$hersockaddr</span><span class="operator">);</span>
    <span class="variable">$herhostname</span>    <span class="operator">=</span> <span class="keyword">gethostbyaddr</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">,</span> <span class="variable">AF_INET</span><span class="operator">);</span>
    <span class="variable">$herstraddr</span>     <span class="operator">=</span> <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">);</span>
</code></code></pre>

</dd>
<dt id="getpgrp-PID">getpgrp PID  </dt>
<dd>

<p>Returns the current process group for the specified PID. Use a PID of <code><code>0</code></code> to get the current process group for the current process. Will raise an exception if used on a machine that doesn&#39;t implement getpgrp(2). If PID is omitted, returns the process group of the current process. Note that the POSIX version of <code><code>getpgrp</code></code> does not accept a PID argument, so only <code><code>PID==0</code></code> is truly portable.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#getpgrp">&quot;getpgrp&quot; in perlport</a>.</p>

</dd>
<dt id="getppid">getppid   </dt>
<dd>

<p>Returns the process id of the parent process.</p>

<p>Note for Linux users: Between v5.8.1 and v5.16.0 Perl would work around non-POSIX thread semantics the minority of Linux systems (and Debian GNU/kFreeBSD systems) that used LinuxThreads, this emulation has since been removed. See the documentation for <a href="../../lib/pods/perlvar.html#pod-">$$</a> for details.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#getppid">&quot;getppid&quot; in perlport</a>.</p>

</dd>
<dt id="getpriority-WHICH-WHO">getpriority WHICH,WHO   </dt>
<dd>

<p>Returns the current priority for a process, a process group, or a user. (See <a href="http://man.he.net/man2/getpriority">getpriority(2)</a>.) Will raise a fatal exception if used on a machine that doesn&#39;t implement getpriority(2).</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#getpriority">&quot;getpriority&quot; in perlport</a>.</p>

</dd>
<dt id="getpwnam-NAME">getpwnam NAME                              </dt>
<dd>

</dd>
<dt id="getgrnam-NAME">getgrnam NAME</dt>
<dd>

</dd>
<dt id="gethostbyname-NAME">gethostbyname NAME</dt>
<dd>

</dd>
<dt id="getnetbyname-NAME">getnetbyname NAME</dt>
<dd>

</dd>
<dt id="getprotobyname-NAME">getprotobyname NAME</dt>
<dd>

</dd>
<dt id="getpwuid-UID">getpwuid UID</dt>
<dd>

</dd>
<dt id="getgrgid-GID">getgrgid GID</dt>
<dd>

</dd>
<dt id="getservbyname-NAME-PROTO">getservbyname NAME,PROTO</dt>
<dd>

</dd>
<dt id="gethostbyaddr-ADDR-ADDRTYPE">gethostbyaddr ADDR,ADDRTYPE</dt>
<dd>

</dd>
<dt id="getnetbyaddr-ADDR-ADDRTYPE">getnetbyaddr ADDR,ADDRTYPE</dt>
<dd>

</dd>
<dt id="getprotobynumber-NUMBER">getprotobynumber NUMBER</dt>
<dd>

</dd>
<dt id="getservbyport-PORT-PROTO">getservbyport PORT,PROTO</dt>
<dd>

</dd>
<dt id="getpwent">getpwent</dt>
<dd>

</dd>
<dt id="getgrent">getgrent</dt>
<dd>

</dd>
<dt id="gethostent">gethostent</dt>
<dd>

</dd>
<dt id="getnetent">getnetent</dt>
<dd>

</dd>
<dt id="getprotoent">getprotoent</dt>
<dd>

</dd>
<dt id="getservent">getservent</dt>
<dd>

</dd>
<dt id="setpwent">setpwent</dt>
<dd>

</dd>
<dt id="setgrent">setgrent</dt>
<dd>

</dd>
<dt id="sethostent-STAYOPEN">sethostent STAYOPEN</dt>
<dd>

</dd>
<dt id="setnetent-STAYOPEN">setnetent STAYOPEN</dt>
<dd>

</dd>
<dt id="setprotoent-STAYOPEN">setprotoent STAYOPEN</dt>
<dd>

</dd>
<dt id="setservent-STAYOPEN">setservent STAYOPEN</dt>
<dd>

</dd>
<dt id="endpwent">endpwent</dt>
<dd>

</dd>
<dt id="endgrent">endgrent</dt>
<dd>

</dd>
<dt id="endhostent">endhostent</dt>
<dd>

</dd>
<dt id="endnetent">endnetent</dt>
<dd>

</dd>
<dt id="endprotoent">endprotoent</dt>
<dd>

</dd>
<dt id="endservent">endservent</dt>
<dd>

<p>These routines are the same as their counterparts in the system C library. In list context, the return values from the various get routines are as follows:</p>

<pre><code><code>    ($name,$passwd,$uid,$gid,
       $quota,$comment,$gcos,$dir,$shell,$expire) = getpw*
    ($name,$passwd,$gid,$members) = getgr*
    ($name,$aliases,$addrtype,$length,@addrs) = gethost*
    ($name,$aliases,$addrtype,$net) = getnet*
    ($name,$aliases,$proto) = getproto*
    ($name,$aliases,$port,$proto) = getserv*</code></code></pre>

<p>(If the entry doesn&#39;t exist you get an empty list.)</p>

<p>The exact meaning of the $gcos field varies but it usually contains the real name of the user (as opposed to the login name) and other information pertaining to the user. Beware, however, that in many system users are able to change this information and therefore it cannot be trusted and therefore the $gcos is tainted (see <a href="../../lib/pods/perlsec.html">perlsec</a>). The $passwd and $shell, user&#39;s encrypted password and login shell, are also tainted, for the same reason.</p>

<p>In scalar context, you get the name, unless the function was a lookup by name, in which case you get the other thing, whatever it is. (If the entry doesn&#39;t exist you get the undefined value.) For example:</p>

<pre><code><code>    <span class="variable">$uid</span>   <span class="operator">=</span> <span class="keyword">getpwnam</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getpwuid</span><span class="operator">(</span><span class="variable">$num</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getpwent</span><span class="operator">();</span>
    <span class="variable">$gid</span>   <span class="operator">=</span> <span class="keyword">getgrnam</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getgrgid</span><span class="operator">(</span><span class="variable">$num</span><span class="operator">);</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">getgrent</span><span class="operator">();</span>
    <span class="comment">#etc.</span>
</code></code></pre>

<p>In <i>getpw*()</i> the fields $quota, $comment, and $expire are special in that they are unsupported on many systems. If the $quota is unsupported, it is an empty scalar. If it is supported, it usually encodes the disk quota. If the $comment field is unsupported, it is an empty scalar. If it is supported it usually encodes some administrative comment about the user. In some systems the $quota field may be $change or $age, fields that have to do with password aging. In some systems the $comment field may be $class. The $expire field, if present, encodes the expiration period of the account or the password. For the availability and the exact meaning of these fields in your system, please consult getpwnam(3) and your system&#39;s <i>pwd.h</i> file. You can also find out from within Perl what your $quota and $comment fields mean and whether you have the $expire field by using the <code><code>Config</code></code> module and the values <code><code>d_pwquota</code></code>, <code><code>d_pwage</code></code>, <code><code>d_pwchange</code></code>, <code><code>d_pwcomment</code></code>, and <code><code>d_pwexpire</code></code>. Shadow password files are supported only if your vendor has implemented them in the intuitive fashion that calling the regular C library routines gets the shadow versions if you&#39;re running under privilege or if there exists the shadow(3) functions as found in System V (this includes Solaris and Linux). Those systems that implement a proprietary shadow password facility are unlikely to be supported.</p>

<p>The $members value returned by <i>getgr*()</i> is a space-separated list of the login names of the members of the group.</p>

<p>For the <i>gethost*()</i> functions, if the <code><code>h_errno</code></code> variable is supported in C, it will be returned to you via <code><code>$?</code></code> if the function call fails. The <code><code>@addrs</code></code> value returned by a successful call is a list of raw addresses returned by the corresponding library call. In the Internet domain, each address is four bytes long; you can unpack it by saying something like:</p>

<pre><code><code>    <span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span><span class="variable">$b</span><span class="operator">,</span><span class="variable">$c</span><span class="operator">,</span><span class="variable">$d</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">'W4'</span><span class="operator">,</span><span class="variable">$addr</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">);</span>
</code></code></pre>

<p>The Socket library makes this slightly easier:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$iaddr</span> <span class="operator">=</span> <span class="variable">inet_aton</span><span class="operator">(</span><span class="string">"127.1"</span><span class="operator">);</span> <span class="comment"># or whatever address</span>
    <span class="variable">$name</span>  <span class="operator">=</span> <span class="keyword">gethostbyaddr</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">,</span> <span class="variable">AF_INET</span><span class="operator">);</span>
    
    <span class="comment"># or going the other way</span>
    <span class="variable">$straddr</span> <span class="operator">=</span> <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$iaddr</span><span class="operator">);</span>
</code></code></pre>

<p>In the opposite way, to resolve a hostname to the IP address you can write this:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$packed_ip</span> <span class="operator">=</span> <span class="keyword">gethostbyname</span><span class="operator">(</span><span class="string">"www.perl.org"</span><span class="operator">);</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">defined</span> <span class="variable">$packed_ip</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$ip_address</span> <span class="operator">=</span> <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$packed_ip</span><span class="operator">);</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Make sure <code><code>gethostbyname()</code></code> is called in SCALAR context and that its return value is checked for definedness.</p>

<p>The <code><code>getprotobynumber</code></code> function, even though it only takes one argument, has the precedence of a list operator, so beware:</p>

<pre><code><code>    getprotobynumber $number eq &#39;icmp&#39;   # WRONG
    getprotobynumber($number eq &#39;icmp&#39;)  # actually means this
    getprotobynumber($number) eq &#39;icmp&#39;  # better this way</code></code></pre>

<p>If you get tired of remembering which element of the return list contains which return value, by-name interfaces are provided in standard modules: <code><code>File::stat</code></code>, <code><code>Net::hostent</code></code>, <code><code>Net::netent</code></code>, <code><code>Net::protoent</code></code>, <code><code>Net::servent</code></code>, <code><code>Time::gmtime</code></code>, <code><code>Time::localtime</code></code>, and <code><code>User::grent</code></code>. These override the normal built-ins, supplying versions that return objects with the appropriate names for each field. For example:</p>

<pre><code><code>   <span class="keyword">use</span> <span class="variable">File::stat</span><span class="operator">;</span>
   <span class="keyword">use</span> <span class="variable">User::pwent</span><span class="operator">;</span>
   <span class="variable">$is_his</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">)-&gt;</span><span class="variable">uid</span> <span class="operator">==</span> <span class="variable">pwent</span><span class="operator">(</span><span class="variable">$whoever</span><span class="operator">)-&gt;</span><span class="variable">uid</span><span class="operator">);</span>
</code></code></pre>

<p>Even though it looks as though they&#39;re the same method calls (uid), they aren&#39;t, because a <code><code>File::stat</code></code> object is different from a <code><code>User::pwent</code></code> object.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#getpwnam">&quot;getpwnam&quot; in perlport</a> to <a href="../../lib/pods/perlport.html#endservent">&quot;endservent&quot; in perlport</a>.</p>

</dd>
<dt id="getsockname-SOCKET">getsockname SOCKET </dt>
<dd>

<p>Returns the packed sockaddr address of this end of the SOCKET connection, in case you don&#39;t know the address because you have several different IPs that the connection might have come in on.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="variable">$mysockaddr</span> <span class="operator">=</span> <span class="keyword">getsockname</span><span class="operator">(</span><span class="variable">SOCK</span><span class="operator">);</span>
    <span class="operator">(</span><span class="variable">$port</span><span class="operator">,</span> <span class="variable">$myaddr</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">sockaddr_in</span><span class="operator">(</span><span class="variable">$mysockaddr</span><span class="operator">);</span>
    <span class="keyword">printf</span> <span class="string">"Connect to %s [%s]\n"</span><span class="operator">,</span>
       <span class="keyword">scalar</span> <span class="keyword">gethostbyaddr</span><span class="operator">(</span><span class="variable">$myaddr</span><span class="operator">,</span> <span class="variable">AF_INET</span><span class="operator">),</span>
       <span class="variable">inet_ntoa</span><span class="operator">(</span><span class="variable">$myaddr</span><span class="operator">);</span>
</code></code></pre>

</dd>
<dt id="getsockopt-SOCKET-LEVEL-OPTNAME">getsockopt SOCKET,LEVEL,OPTNAME </dt>
<dd>

<p>Queries the option named OPTNAME associated with SOCKET at a given LEVEL. Options may exist at multiple protocol levels depending on the socket type, but at least the uppermost socket level SOL_SOCKET (defined in the <code><code>Socket</code></code> module) will exist. To query options at another level the protocol number of the appropriate protocol controlling the option should be supplied. For example, to indicate that an option is to be interpreted by the TCP protocol, LEVEL should be set to the protocol number of TCP, which you can get using <code><code>getprotobyname</code></code>.</p>

<p>The function returns a packed string representing the requested socket option, or <code><code>undef</code></code> on error, with the reason for the error placed in <code><code>$!</code></code>. Just what is in the packed string depends on LEVEL and OPTNAME; consult getsockopt(2) for details. A common case is that the option is an integer, in which case the result is a packed integer, which you can decode using <code><code>unpack</code></code> with the <code><code>i</code></code> (or <code><code>I</code></code>) format.</p>

<p>Here&#39;s an example to test whether Nagle&#39;s algorithm is enabled on a socket:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span> <span class="string">qw(:all)</span><span class="operator">;</span>
    
    <span class="keyword">defined</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$tcp</span> <span class="operator">=</span> <span class="keyword">getprotobyname</span><span class="operator">(</span><span class="string">"tcp"</span><span class="operator">))</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Could not determine the protocol number for tcp"</span><span class="operator">;</span>
    <span class="comment"># my $tcp = IPPROTO_TCP; # Alternative</span>
    <span class="keyword">my</span> <span class="variable">$packed</span> <span class="operator">=</span> <span class="keyword">getsockopt</span><span class="operator">(</span><span class="variable">$socket</span><span class="operator">,</span> <span class="variable">$tcp</span><span class="operator">,</span> <span class="variable">TCP_NODELAY</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"getsockopt TCP_NODELAY: $!"</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$nodelay</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"I"</span><span class="operator">,</span> <span class="variable">$packed</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="string">"Nagle's algorithm is turned "</span><span class="operator">,</span> <span class="variable">$nodelay</span> <span class="operator">?</span> <span class="string">"off\n"</span> <span class="operator">:</span> <span class="string">"on\n"</span><span class="operator">;</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#getsockopt">&quot;getsockopt&quot; in perlport</a>.</p>

</dd>
<dt id="glob-EXPR">glob EXPR    </dt>
<dd>

</dd>
<dt id="glob">glob</dt>
<dd>

<p>In list context, returns a (possibly empty) list of filename expansions on the value of EXPR such as the standard Unix shell <i>/bin/csh</i> would do. In scalar context, glob iterates through such filename expansions, returning undef when the list is exhausted. This is the internal function implementing the <code><code>&lt;*.c&gt;</code></code> operator, but you can use it directly. If EXPR is omitted, <code><code>$_</code></code> is used. The <code><code>&lt;*.c&gt;</code></code> operator is discussed in more detail in <a href="../../lib/pods/perlop.html#I-O-Operators">&quot;I/O Operators&quot; in perlop</a>.</p>

<p>Note that <code><code>glob</code></code> splits its arguments on whitespace and treats each segment as separate pattern. As such, <code><code>glob(&quot;*.c *.h&quot;)</code></code> matches all files with a <i>.c</i> or <i>.h</i> extension. The expression <code><code>glob(&quot;.* *&quot;)</code></code> matches all files in the current working directory. If you want to glob filenames that might contain whitespace, you&#39;ll have to use extra quotes around the spacey filename to protect it. For example, to glob filenames that have an <code><code>e</code></code> followed by a space followed by an <code><code>f</code></code>, use either of:</p>

<pre><code><code>    <span class="variable">@spacies</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="string">"*e f*"</span><span class="operator">&gt;;</span>
    <span class="variable">@spacies</span> <span class="operator">=</span> <span class="keyword">glob</span> <span class="string">'"*e f*"'</span><span class="operator">;</span>
    <span class="variable">@spacies</span> <span class="operator">=</span> <span class="keyword">glob</span> <span class="string">q("*e f*")</span><span class="operator">;</span>
</code></code></pre>

<p>If you had to get a variable through, you could do this:</p>

<pre><code><code>    <span class="variable">@spacies</span> <span class="operator">=</span> <span class="keyword">glob</span> <span class="string">"'*${var}e f*'"</span><span class="operator">;</span>
    <span class="variable">@spacies</span> <span class="operator">=</span> <span class="keyword">glob</span> <span class="string">qq("*${var}e f*")</span><span class="operator">;</span>
</code></code></pre>

<p>If non-empty braces are the only wildcard characters used in the <code><code>glob</code></code>, no filenames are matched, but potentially many strings are returned. For example, this produces nine strings, one for each pairing of fruits and colors:</p>

<pre><code><code>    <span class="variable">@many</span> <span class="operator">=</span>  <span class="keyword">glob</span> <span class="string">"{apple,tomato,cherry}={green,yellow,red}"</span><span class="operator">;</span>
</code></code></pre>

<p>Beginning with v5.6.0, this operator is implemented using the standard <code><code>File::Glob</code></code> extension. See <a href="../../lib/File/Glob.html">File::Glob</a> for details, including <code><code>bsd_glob</code></code> which does not treat whitespace as a pattern separator.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#glob">&quot;glob&quot; in perlport</a>.</p>

</dd>
<dt id="gmtime-EXPR">gmtime EXPR   </dt>
<dd>

</dd>
<dt id="gmtime">gmtime</dt>
<dd>

<p>Works just like <a href="#localtime">&quot;localtime&quot;</a> but the returned values are localized for the standard Greenwich time zone.</p>

<p>Note: When called in list context, $isdst, the last value returned by gmtime, is always <code><code>0</code></code>. There is no Daylight Saving Time in GMT.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#gmtime">&quot;gmtime&quot; in perlport</a>.</p>

</dd>
<dt id="goto-LABEL">goto LABEL   </dt>
<dd>

</dd>
<dt id="goto-EXPR">goto EXPR</dt>
<dd>

</dd>
<dt id="goto-NAME">goto &amp;NAME</dt>
<dd>

<p>The <code><code>goto-LABEL</code></code> form finds the statement labeled with LABEL and resumes execution there. It can&#39;t be used to get out of a block or subroutine given to <code><code>sort</code></code>. It can be used to go almost anywhere else within the dynamic scope, including out of subroutines, but it&#39;s usually better to use some other construct such as <code><code>last</code></code> or <code><code>die</code></code>. The author of Perl has never felt the need to use this form of <code><code>goto</code></code> (in Perl, that is; C is another matter). (The difference is that C does not offer named loops combined with loop control. Perl does, and this replaces most structured uses of <code><code>goto</code></code> in other languages.)</p>

<p>The <code><code>goto-EXPR</code></code> form expects a label name, whose scope will be resolved dynamically. This allows for computed <code><code>goto</code></code>s per FORTRAN, but isn&#39;t necessarily recommended if you&#39;re optimizing for maintainability:</p>

<pre><code><code>    <span class="keyword">goto</span> <span class="operator">(</span><span class="string">"FOO"</span><span class="operator">,</span> <span class="string">"BAR"</span><span class="operator">,</span> <span class="string">"GLARCH"</span><span class="operator">)</span><span class="operator">[</span><span class="variable">$i</span><span class="operator">]</span><span class="operator">;</span>
</code></code></pre>

<p>As shown in this example, <code><code>goto-EXPR</code></code> is exempt from the &quot;looks like a function&quot; rule. A pair of parentheses following it does not (necessarily) delimit its argument. <code><code>goto(&quot;NE&quot;).&quot;XT&quot;</code></code> is equivalent to <code><code>goto NEXT</code></code>.</p>

<p>Use of <code><code>goto-LABEL</code></code> or <code><code>goto-EXPR</code></code> to jump into a construct is deprecated and will issue a warning. Even then, it may not be used to go into any construct that requires initialization, such as a subroutine or a <code><code>foreach</code></code> loop. It also can&#39;t be used to go into a construct that is optimized away.</p>

<p>The <code><code>goto-&amp;NAME</code></code> form is quite different from the other forms of <code><code>goto</code></code>. In fact, it isn&#39;t a goto in the normal sense at all, and doesn&#39;t have the stigma associated with other gotos. Instead, it exits the current subroutine (losing any changes set by local()) and immediately calls in its place the named subroutine using the current value of @_. This is used by <code><code>AUTOLOAD</code></code> subroutines that wish to load another subroutine and then pretend that the other subroutine had been called in the first place (except that any modifications to <code><code>@_</code></code> in the current subroutine are propagated to the other subroutine.) After the <code><code>goto</code></code>, not even <code><code>caller</code></code> will be able to tell that this routine was called first.</p>

<p>NAME needn&#39;t be the name of a subroutine; it can be a scalar variable containing a code reference or a block that evaluates to a code reference.</p>

</dd>
<dt id="grep-BLOCK-LIST">grep BLOCK LIST </dt>
<dd>

</dd>
<dt id="grep-EXPR-LIST">grep EXPR,LIST</dt>
<dd>

<p>This is similar in spirit to, but not the same as, grep(1) and its relatives. In particular, it is not limited to using regular expressions.</p>

<p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting <code><code>$_</code></code> to each element) and returns the list value consisting of those elements for which the expression evaluated to true. In scalar context, returns the number of times the expression was true.</p>

<pre><code><code>    <span class="variable">@foo</span> <span class="operator">=</span> <span class="keyword">grep</span><span class="operator">(!</span><span class="regex">/^#/</span><span class="operator">,</span> <span class="variable">@bar</span><span class="operator">);</span>    <span class="comment"># weed out comments</span>
</code></code></pre>

<p>or equivalently,</p>

<pre><code><code>    <span class="variable">@foo</span> <span class="operator">=</span> <span class="keyword">grep</span> <span class="operator">{!</span><span class="regex">/^#/</span><span class="operator">}</span> <span class="variable">@bar</span><span class="operator">;</span>    <span class="comment"># weed out comments</span>
</code></code></pre>

<p>Note that <code><code>$_</code></code> is an alias to the list value, so it can be used to modify the elements of the LIST. While this is useful and supported, it can cause bizarre results if the elements of LIST are not variables. Similarly, grep returns aliases into the original list, much as a for loop&#39;s index variable aliases the list elements. That is, modifying an element of a list returned by grep (for example, in a <code><code>foreach</code></code>, <code><code>map</code></code> or another <code><code>grep</code></code>) actually modifies the element in the original list. This is usually something to be avoided when writing clear code.</p>

<p>If <code><code>$_</code></code> is lexical in the scope where the <code><code>grep</code></code> appears (because it has been declared with <code><code>my $_</code></code>) then, in addition to being locally aliased to the list elements, <code><code>$_</code></code> keeps being lexical inside the block; i.e., it can&#39;t be seen from the outside, avoiding any potential side-effects.</p>

<p>See also <a href="#map">&quot;map&quot;</a> for a list composed of the results of the BLOCK or EXPR.</p>

</dd>
<dt id="hex-EXPR">hex EXPR  </dt>
<dd>

</dd>
<dt id="hex">hex</dt>
<dd>

<p>Interprets EXPR as a hex string and returns the corresponding value. (To convert strings that might start with either <code><code>0</code></code>, <code><code>0x</code></code>, or <code><code>0b</code></code>, see <a href="#oct">&quot;oct&quot;</a>.) If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">hex</span> <span class="string">'0xAf'</span><span class="operator">;</span> <span class="comment"># prints '175'</span>
    <span class="keyword">print</span> <span class="keyword">hex</span> <span class="string">'aF'</span><span class="operator">;</span>   <span class="comment"># same</span>
</code></code></pre>

<p>Hex strings may only represent integers. Strings that would cause integer overflow trigger a warning. Leading whitespace is not stripped, unlike oct(). To present something as hex, look into <a href="#printf">&quot;printf&quot;</a>, <a href="#sprintf">&quot;sprintf&quot;</a>, and <a href="#unpack">&quot;unpack&quot;</a>.</p>

</dd>
<dt id="import-LIST">import LIST </dt>
<dd>

<p>There is no builtin <code><code>import</code></code> function. It is just an ordinary method (subroutine) defined (or inherited) by modules that wish to export names to another module. The <code><code>use</code></code> function calls the <code><code>import</code></code> method for the package used. See also <a href="#use">&quot;use&quot;</a>, <a href="../../lib/pods/perlmod.html">perlmod</a>, and <a href="../../lib/Exporter.html">Exporter</a>.</p>

</dd>
<dt id="index-STR-SUBSTR-POSITION">index STR,SUBSTR,POSITION   </dt>
<dd>

</dd>
<dt id="index-STR-SUBSTR">index STR,SUBSTR</dt>
<dd>

<p>The index function searches for one string within another, but without the wildcard-like behavior of a full regular-expression pattern match. It returns the position of the first occurrence of SUBSTR in STR at or after POSITION. If POSITION is omitted, starts searching from the beginning of the string. POSITION before the beginning of the string or after its end is treated as if it were the beginning or the end, respectively. POSITION and the return value are based at zero. If the substring is not found, <code><code>index</code></code> returns -1.</p>

</dd>
<dt id="int-EXPR">int EXPR     </dt>
<dd>

</dd>
<dt id="int">int</dt>
<dd>

<p>Returns the integer portion of EXPR. If EXPR is omitted, uses <code><code>$_</code></code>. You should not use this function for rounding: one because it truncates towards <code><code>0</code></code>, and two because machine representations of floating-point numbers can sometimes produce counterintuitive results. For example, <code><code>int(-6.725/0.025)</code></code> produces -268 rather than the correct -269; that&#39;s because it&#39;s really more like -268.99999999999994315658 instead. Usually, the <code><code>sprintf</code></code>, <code><code>printf</code></code>, or the <code><code>POSIX::floor</code></code> and <code><code>POSIX::ceil</code></code> functions will serve you better than will int().</p>

</dd>
<dt id="ioctl-FILEHANDLE-FUNCTION-SCALAR">ioctl FILEHANDLE,FUNCTION,SCALAR </dt>
<dd>

<p>Implements the ioctl(2) function. You&#39;ll probably first have to say</p>

<pre><code><code>    <span class="keyword">require</span> <span class="string">"sys/ioctl.ph"</span><span class="operator">;</span>  <span class="comment"># probably in $Config{archlib}/sys/ioctl.ph</span>
</code></code></pre>

<p>to get the correct function definitions. If <i>sys/ioctl.ph</i> doesn&#39;t exist or doesn&#39;t have the correct definitions you&#39;ll have to roll your own, based on your C header files such as <i>&lt;sys/ioctl.h&gt;</i>. (There is a Perl script called <b>h2ph</b> that comes with the Perl kit that may help you in this, but it&#39;s nontrivial.) SCALAR will be read and/or written depending on the FUNCTION; a C pointer to the string value of SCALAR will be passed as the third argument of the actual <code><code>ioctl</code></code> call. (If SCALAR has no string value but does have a numeric value, that value will be passed rather than a pointer to the string value. To guarantee this to be true, add a <code><code>0</code></code> to the scalar before using it.) The <code><code>pack</code></code> and <code><code>unpack</code></code> functions may be needed to manipulate the values of structures used by <code><code>ioctl</code></code>.</p>

<p>The return value of <code><code>ioctl</code></code> (and <code><code>fcntl</code></code>) is as follows:</p>

<pre><code><code>    if OS returns:      then Perl returns:
        -1               undefined value
         0              string &quot;0 but true&quot;
    anything else           that number</code></code></pre>

<p>Thus Perl returns true on success and false on failure, yet you can still easily determine the actual value returned by the operating system:</p>

<pre><code><code>    <span class="variable">$retval</span> <span class="operator">=</span> <span class="keyword">ioctl</span><span class="operator">(...)</span> <span class="operator">||</span> <span class="operator">-</span><span class="number">1</span><span class="operator">;</span>
    <span class="keyword">printf</span> <span class="string">"System returned %d\n"</span><span class="operator">,</span> <span class="variable">$retval</span><span class="operator">;</span>
</code></code></pre>

<p>The special string <code><code>&quot;0 but true&quot;</code></code> is exempt from <b>-w</b> complaints about improper numeric conversions.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#ioctl">&quot;ioctl&quot; in perlport</a>.</p>

</dd>
<dt id="join-EXPR-LIST">join EXPR,LIST </dt>
<dd>

<p>Joins the separate strings of LIST into a single string with fields separated by the value of EXPR, and returns that new string. Example:</p>

<pre><code><code>    <span class="variable">$rec</span> <span class="operator">=</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="variable">$login</span><span class="operator">,</span><span class="variable">$passwd</span><span class="operator">,</span><span class="variable">$uid</span><span class="operator">,</span><span class="variable">$gid</span><span class="operator">,</span><span class="variable">$gcos</span><span class="operator">,</span><span class="variable">$home</span><span class="operator">,</span><span class="variable">$shell</span><span class="operator">);</span>
</code></code></pre>

<p>Beware that unlike <code><code>split</code></code>, <code><code>join</code></code> doesn&#39;t take a pattern as its first argument. Compare <a href="#split">&quot;split&quot;</a>.</p>

</dd>
<dt id="keys-HASH">keys HASH  </dt>
<dd>

</dd>
<dt id="keys-ARRAY">keys ARRAY</dt>
<dd>

</dd>
<dt id="keys-EXPR">keys EXPR</dt>
<dd>

<p>Called in list context, returns a list consisting of all the keys of the named hash, or in Perl 5.12 or later only, the indices of an array. Perl releases prior to 5.12 will produce a syntax error if you try to use an array argument. In scalar context, returns the number of keys or indices.</p>

<p>The keys of a hash are returned in an apparently random order. The actual random order is subject to change in future versions of Perl, but it is guaranteed to be the same order as either the <code><code>values</code></code> or <code><code>each</code></code> function produces (given that the hash has not been modified). Since Perl 5.8.1 the ordering can be different even between different runs of Perl for security reasons (see <a href="../../lib/pods/perlsec.html#Algorithmic-Complexity-Attacks">&quot;Algorithmic Complexity Attacks&quot; in perlsec</a>).</p>

<p>As a side effect, calling keys() resets the internal interator of the HASH or ARRAY (see <a href="#each">&quot;each&quot;</a>). In particular, calling keys() in void context resets the iterator with no other overhead.</p>

<p>Here is yet another way to print your environment:</p>

<pre><code><code>    <span class="variable">@keys</span> <span class="operator">=</span> <span class="keyword">keys</span> <span class="variable">%ENV</span><span class="operator">;</span>
    <span class="variable">@values</span> <span class="operator">=</span> <span class="keyword">values</span> <span class="variable">%ENV</span><span class="operator">;</span>
    <span class="keyword">while</span> <span class="operator">(</span><span class="variable">@keys</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@keys</span><span class="operator">),</span> <span class="string">'='</span><span class="operator">,</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@values</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>or how about sorted by key:</p>

<pre><code><code>    <span class="keyword">foreach</span> <span class="variable">$key</span> <span class="operator">(</span><span class="keyword">sort</span><span class="operator">(</span><span class="keyword">keys</span> <span class="variable">%ENV</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">'='</span><span class="operator">,</span> <span class="variable">$ENV</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>The returned values are copies of the original keys in the hash, so modifying them will not affect the original hash. Compare <a href="#values">&quot;values&quot;</a>.</p>

<p>To sort a hash by value, you&#39;ll need to use a <code><code>sort</code></code> function. Here&#39;s a descending numeric sort of a hash by its values:</p>

<pre><code><code>    <span class="keyword">foreach</span> <span class="variable">$key</span> <span class="operator">(</span><span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$b</span><span class="operator">}</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$a</span><span class="operator">}</span> <span class="operator">}</span> <span class="keyword">keys</span> <span class="variable">%hash</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">printf</span> <span class="string">"%4d %s\n"</span><span class="operator">,</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span><span class="operator">,</span> <span class="variable">$key</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Used as an lvalue, <code><code>keys</code></code> allows you to increase the number of hash buckets allocated for the given hash. This can gain you a measure of efficiency if you know the hash is going to get big. (This is similar to pre-extending an array by assigning a larger number to $#array.) If you say</p>

<pre><code><code>    <span class="keyword">keys</span> <span class="variable">%hash</span> <span class="operator">=</span> <span class="number">200</span><span class="operator">;</span>
</code></code></pre>

<p>then <code><code>%hash</code></code> will have at least 200 buckets allocated for it--256 of them, in fact, since it rounds up to the next power of two. These buckets will be retained even if you do <code><code>%hash = ()</code></code>, use <code><code>undef %hash</code></code> if you want to free the storage while <code><code>%hash</code></code> is still in scope. You can&#39;t shrink the number of buckets allocated for the hash using <code><code>keys</code></code> in this way (but you needn&#39;t worry about doing this by accident, as trying has no effect). <code><code>keys @array</code></code> in an lvalue context is a syntax error.</p>

<p>Starting with Perl 5.14, <code><code>keys</code></code> can take a scalar EXPR, which must contain a reference to an unblessed hash or array. The argument will be dereferenced automatically. This aspect of <code><code>keys</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<pre><code><code>    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">keys</span> <span class="variable">$hashref</span><span class="operator">)</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">keys</span> <span class="variable">$obj</span><span class="operator">-&gt;</span><span class="variable">get_arrayref</span><span class="operator">)</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
</code></code></pre>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.012</span><span class="operator">;</span>  <span class="comment"># so keys/values/each work on arrays</span>
    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so keys/values/each work on scalars (experimental)</span>
</code></code></pre>

<p>See also <code><code>each</code></code>, <code><code>values</code></code>, and <code><code>sort</code></code>.</p>

</dd>
<dt id="kill-SIGNAL-LIST">kill SIGNAL, LIST</dt>
<dd>

</dd>
<dt id="kill-SIGNAL">kill SIGNAL  </dt>
<dd>

<p>Sends a signal to a list of processes. Returns the number of processes successfully signaled (which is not necessarily the same as the number actually killed).</p>

<pre><code><code>    <span class="variable">$cnt</span> <span class="operator">=</span> <span class="keyword">kill</span> <span class="number">1</span><span class="operator">,</span> <span class="variable">$child1</span><span class="operator">,</span> <span class="variable">$child2</span><span class="operator">;</span>
    <span class="keyword">kill</span> <span class="number">9</span><span class="operator">,</span> <span class="variable">@goners</span><span class="operator">;</span>
</code></code></pre>

<p>If SIGNAL is zero, no signal is sent to the process, but <code><code>kill</code></code> checks whether it&#39;s <i>possible</i> to send a signal to it (that means, to be brief, that the process is owned by the same user, or we are the super-user). This is useful to check that a child process is still alive (even if only as a zombie) and hasn&#39;t changed its UID. See <a href="../../lib/pods/perlport.html">perlport</a> for notes on the portability of this construct.</p>

<p>Unlike in the shell, if SIGNAL is negative, it kills process groups instead of processes. That means you usually want to use positive not negative signals. You may also use a signal name in quotes.</p>

<p>The behavior of kill when a <i>PROCESS</i> number is zero or negative depends on the operating system. For example, on POSIX-conforming systems, zero will signal the current process group and -1 will signal all processes.</p>

<p>See <a href="../../lib/pods/perlipc.html#Signals">&quot;Signals&quot; in perlipc</a> for more details.</p>

<p>On some platforms such as Windows where the fork() system call is not available. Perl can be built to emulate fork() at the interpreter level. This emulation has limitations related to kill that have to be considered, for code running on Windows and in code intended to be portable.</p>

<p>See <a href="../../lib/pods/perlfork.html">perlfork</a> for more details.</p>

<p>If there is no <i>LIST</i> of processes, no signal is sent, and the return value is 0. This form is sometimes used, however, because it causes tainting checks to be run. But see <a href="../../lib/pods/perlsec.html#Laundering-and-Detecting-Tainted-Data">&quot;Laundering and Detecting Tainted Data&quot; in perlsec</a>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#kill">&quot;kill&quot; in perlport</a>.</p>

</dd>
<dt id="last-LABEL">last LABEL  </dt>
<dd>

</dd>
<dt id="last">last</dt>
<dd>

<p>The <code><code>last</code></code> command is like the <code><code>break</code></code> statement in C (as used in loops); it immediately exits the loop in question. If the LABEL is omitted, the command refers to the innermost enclosing loop. The <code><code>continue</code></code> block, if any, is not executed:</p>

<pre><code><code>    <span class="variable">LINE</span><span class="operator">:</span> <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">last</span> <span class="variable">LINE</span> <span class="keyword">if</span> <span class="regex">/^$/</span><span class="operator">;</span>  <span class="comment"># exit when done with header</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</code></code></pre>

<p><code><code>last</code></code> cannot be used to exit a block that returns a value such as <code><code><span class="keyword">eval</span> <span class="operator">{}</span>
</code></code>, <code><code><span class="keyword">sub</span><span class="variable"> </span><span class="operator">{}</span>
</code></code>, or <code><code><span class="keyword">do</span> <span class="operator">{}</span>
</code></code>, and should not be used to exit a grep() or map() operation.</p>

<p>Note that a block by itself is semantically identical to a loop that executes once. Thus <code><code>last</code></code> can be used to effect an early exit out of such a block.</p>

<p>See also <a href="#continue">&quot;continue&quot;</a> for an illustration of how <code><code>last</code></code>, <code><code>next</code></code>, and <code><code>redo</code></code> work.</p>

</dd>
<dt id="lc-EXPR">lc EXPR  </dt>
<dd>

</dd>
<dt id="lc">lc</dt>
<dd>

<p>Returns a lowercased version of EXPR. This is the internal function implementing the <code><code>\L</code></code> escape in double-quoted strings.</p>

<p>If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>What gets returned depends on several factors:</p>

<dl>

<dt id="If-use-bytes-is-in-effect:">If <code><code>use bytes</code></code> is in effect:</dt>
<dd>

<dl>

<dt id="On-EBCDIC-platforms">On EBCDIC platforms</dt>
<dd>

<p>The results are what the C language system call <code><code>tolower()</code></code> returns.</p>

</dd>
<dt id="On-ASCII-platforms">On ASCII platforms</dt>
<dd>

<p>The results follow ASCII semantics. Only characters <code><code>A-Z</code></code> change, to <code><code>a-z</code></code> respectively.</p>

</dd>
</dl>

</dd>
<dt id="Otherwise-if-use-locale-but-not-use-locale-:not_characters-is-in-effect:">Otherwise, if <code><code>use locale</code></code> (but not <code><code>use locale &#39;:not_characters&#39;</code></code>) is in effect:</dt>
<dd>

<p>Respects current LC_CTYPE locale for code points &lt; 256; and uses Unicode semantics for the remaining code points (this last can only happen if the UTF8 flag is also set). See <a href="../../lib/pods/perllocale.html">perllocale</a>.</p>

<p>A deficiency in this is that case changes that cross the 255/256 boundary are not well-defined. For example, the lower case of LATIN CAPITAL LETTER SHARP S (U+1E9E) in Unicode semantics is U+00DF (on ASCII platforms). But under <code><code>use locale</code></code>, the lower case of U+1E9E is itself, because 0xDF may not be LATIN SMALL LETTER SHARP S in the current locale, and Perl has no way of knowing if that character even exists in the locale, much less what code point it is. Perl returns the input character unchanged, for all instances (and there aren&#39;t many) where the 255/256 boundary would otherwise be crossed.</p>

</dd>
<dt id="Otherwise-If-EXPR-has-the-UTF8-flag-set:">Otherwise, If EXPR has the UTF8 flag set:</dt>
<dd>

<p>Unicode semantics are used for the case change.</p>

</dd>
<dt id="Otherwise-if-use-feature-unicode_strings-or-use-locale-:not_characters-is-in-effect:">Otherwise, if <code><code>use feature &#39;unicode_strings&#39;</code></code> or <code><code>use locale &#39;:not_characters&#39;</code></code>) is in effect:</dt>
<dd>

<p>Unicode semantics are used for the case change.</p>

</dd>
<dt id="Otherwise:">Otherwise:</dt>
<dd>

<dl>

<dt id="On-EBCDIC-platforms1">On EBCDIC platforms</dt>
<dd>

<p>The results are what the C language system call <code><code>tolower()</code></code> returns.</p>

</dd>
<dt id="On-ASCII-platforms1">On ASCII platforms</dt>
<dd>

<p>ASCII semantics are used for the case change. The lowercase of any character outside the ASCII range is the character itself.</p>

</dd>
</dl>

</dd>
</dl>

</dd>
<dt id="lcfirst-EXPR">lcfirst EXPR  </dt>
<dd>

</dd>
<dt id="lcfirst">lcfirst</dt>
<dd>

<p>Returns the value of EXPR with the first character lowercased. This is the internal function implementing the <code><code>\l</code></code> escape in double-quoted strings.</p>

<p>If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>This function behaves the same way under various pragmata, such as in a locale, as <a href="#lc">&quot;lc&quot;</a> does.</p>

</dd>
<dt id="length-EXPR">length EXPR  </dt>
<dd>

</dd>
<dt id="length">length</dt>
<dd>

<p>Returns the length in <i>characters</i> of the value of EXPR. If EXPR is omitted, returns the length of <code><code>$_</code></code>. If EXPR is undefined, returns <code><code>undef</code></code>.</p>

<p>This function cannot be used on an entire array or hash to find out how many elements these have. For that, use <code><code>scalar @array</code></code> and <code><code>scalar keys %hash</code></code>, respectively.</p>

<p>Like all Perl character operations, length() normally deals in logical characters, not physical bytes. For how many bytes a string encoded as UTF-8 would take up, use <code><code>length(Encode::encode_utf8(EXPR))</code></code> (you&#39;ll have to <code><code>use Encode</code></code> first). See <a href="../../lib/Encode.html">Encode</a> and <a href="../../lib/pods/perlunicode.html">perlunicode</a>.</p>

</dd>
<dt id="LINE__">__LINE__ </dt>
<dd>

<p>A special token that compiles to the current line number.</p>

</dd>
<dt id="link-OLDFILE-NEWFILE">link OLDFILE,NEWFILE </dt>
<dd>

<p>Creates a new filename linked to the old filename. Returns true for success, false otherwise.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#link">&quot;link&quot; in perlport</a>.</p>

</dd>
<dt id="listen-SOCKET-QUEUESIZE">listen SOCKET,QUEUESIZE </dt>
<dd>

<p>Does the same thing that the listen(2) system call does. Returns true if it succeeded, false otherwise. See the example in <a href="../../lib/pods/perlipc.html#Sockets:-Client-Server-Communication">&quot;Sockets: Client/Server Communication&quot; in perlipc</a>.</p>

</dd>
<dt id="local-EXPR">local EXPR </dt>
<dd>

<p>You really probably want to be using <code><code>my</code></code> instead, because <code><code>local</code></code> isn&#39;t what most people think of as &quot;local&quot;. See <a href="../../lib/pods/perlsub.html#Private-Variables-via-my-">&quot;Private Variables via my()&quot; in perlsub</a> for details.</p>

<p>A local modifies the listed variables to be local to the enclosing block, file, or eval. If more than one value is listed, the list must be placed in parentheses. See <a href="../../lib/pods/perlsub.html#Temporary-Values-via-local-">&quot;Temporary Values via local()&quot; in perlsub</a> for details, including issues with tied arrays and hashes.</p>

<p>The <code><code>delete local EXPR</code></code> construct can also be used to localize the deletion of array/hash elements to the current block. See <a href="../../lib/pods/perlsub.html#Localized-deletion-of-elements-of-composite-types">&quot;Localized deletion of elements of composite types&quot; in perlsub</a>.</p>

</dd>
<dt id="localtime-EXPR">localtime EXPR  </dt>
<dd>

</dd>
<dt id="localtime">localtime</dt>
<dd>

<p>Converts a time as returned by the time function to a 9-element list with the time analyzed for the local time zone. Typically used as follows:</p>

<pre><code><code>    <span class="comment">#  0    1    2     3     4    5     6     7     8</span>
    <span class="operator">(</span><span class="variable">$sec</span><span class="operator">,</span><span class="variable">$min</span><span class="operator">,</span><span class="variable">$hour</span><span class="operator">,</span><span class="variable">$mday</span><span class="operator">,</span><span class="variable">$mon</span><span class="operator">,</span><span class="variable">$year</span><span class="operator">,</span><span class="variable">$wday</span><span class="operator">,</span><span class="variable">$yday</span><span class="operator">,</span><span class="variable">$isdst</span><span class="operator">)</span> <span class="operator">=</span>
                                                <span class="keyword">localtime</span><span class="operator">(</span><span class="keyword">time</span><span class="operator">);</span>
</code></code></pre>

<p>All list elements are numeric and come straight out of the C `struct tm&#39;. <code><code>$sec</code></code>, <code><code>$min</code></code>, and <code><code>$hour</code></code> are the seconds, minutes, and hours of the specified time.</p>

<p><code><code>$mday</code></code> is the day of the month and <code><code>$mon</code></code> the month in the range <code><code>0..11</code></code>, with 0 indicating January and 11 indicating December. This makes it easy to get a month name from a list:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">@abbr</span> <span class="operator">=</span> <span class="string">qw( Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec )</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"</span><span class="variable">$abbr</span><span class="string">[</span><span class="variable">$mon</span><span class="string">] </span><span class="variable">$mday</span><span class="string">"</span><span class="operator">;</span>
    <span class="comment"># $mon=9, $mday=18 gives "Oct 18"</span>
</code></code></pre>

<p><code><code>$year</code></code> contains the number of years since 1900. To get a 4-digit year write:</p>

<pre><code><code>    <span class="variable">$year</span> <span class="operator">+=</span> <span class="number">1900</span><span class="operator">;</span>
</code></code></pre>

<p>To get the last two digits of the year (e.g., &quot;01&quot; in 2001) do:</p>

<pre><code><code>    <span class="variable">$year</span> <span class="operator">=</span> <span class="keyword">sprintf</span><span class="operator">(</span><span class="string">"%02d"</span><span class="operator">,</span> <span class="variable">$year</span> <span class="operator">% </span><span class="number">100</span><span class="operator">);</span>
</code></code></pre>

<p><code><code>$wday</code></code> is the day of the week, with 0 indicating Sunday and 3 indicating Wednesday. <code><code>$yday</code></code> is the day of the year, in the range <code><code>0..364</code></code> (or <code><code>0..365</code></code> in leap years.)</p>

<p><code><code>$isdst</code></code> is true if the specified time occurs during Daylight Saving Time, false otherwise.</p>

<p>If EXPR is omitted, <code><code>localtime()</code></code> uses the current time (as returned by time(3)).</p>

<p>In scalar context, <code><code>localtime()</code></code> returns the ctime(3) value:</p>

<pre><code><code>    <span class="variable">$now_string</span> <span class="operator">=</span> <span class="keyword">localtime</span><span class="operator">;</span>  <span class="comment"># e.g., "Thu Oct 13 04:54:34 1994"</span>
</code></code></pre>

<p>The format of this scalar value is <b>not</b> locale-dependent but built into Perl. For GMT instead of local time use the <a href="#gmtime">&quot;gmtime&quot;</a> builtin. See also the <code><code>Time::Local</code></code> module (for converting seconds, minutes, hours, and such back to the integer value returned by time()), and the <a href="../../lib/POSIX.html">POSIX</a> module&#39;s strftime(3) and mktime(3) functions.</p>

<p>To get somewhat similar but locale-dependent date strings, set up your locale environment variables appropriately (please see <a href="../../lib/pods/perllocale.html">perllocale</a>) and try for example:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">POSIX</span> <span class="string">qw(strftime)</span><span class="operator">;</span>
    <span class="variable">$now_string</span> <span class="operator">=</span> <span class="variable">strftime</span> <span class="string">"%a %b %e %H:%M:%S %Y"</span><span class="operator">,</span> <span class="keyword">localtime</span><span class="operator">;</span>
    <span class="comment"># or for GMT formatted appropriately for your locale:</span>
    <span class="variable">$now_string</span> <span class="operator">=</span> <span class="variable">strftime</span> <span class="string">"%a %b %e %H:%M:%S %Y"</span><span class="operator">,</span> <span class="keyword">gmtime</span><span class="operator">;</span>
</code></code></pre>

<p>Note that the <code><code>%a</code></code> and <code><code>%b</code></code>, the short forms of the day of the week and the month of the year, may not necessarily be three characters wide.</p>

<p>The <a href="../../lib/Time/gmtime.html">Time::gmtime</a> and <a href="../../lib/Time/localtime.html">Time::localtime</a> modules provide a convenient, by-name access mechanism to the gmtime() and localtime() functions, respectively.</p>

<p>For a comprehensive date and time representation look at the <a href="../../lib/ActiveState/DateTime.html">DateTime</a> module on CPAN.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#localtime">&quot;localtime&quot; in perlport</a>.</p>

</dd>
<dt id="lock-THING">lock THING </dt>
<dd>

<p>This function places an advisory lock on a shared variable or referenced object contained in <i>THING</i> until the lock goes out of scope.</p>

<p>The value returned is the scalar itself, if the argument is a scalar, or a reference, if the argument is a hash, array or subroutine.</p>

<p>lock() is a &quot;weak keyword&quot; : this means that if you&#39;ve defined a function by this name (before any calls to it), that function will be called instead. If you are not under <code><code>use threads::shared</code></code> this does nothing. See <a href="../../lib/threads/shared.html">threads::shared</a>.</p>

</dd>
<dt id="log-EXPR">log EXPR     </dt>
<dd>

</dd>
<dt id="log">log</dt>
<dd>

<p>Returns the natural logarithm (base <i>e</i>) of EXPR. If EXPR is omitted, returns the log of <code><code>$_</code></code>. To get the log of another base, use basic algebra: The base-N log of a number is equal to the natural log of that number divided by the natural log of N. For example:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> log10 </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="variable">$n</span> <span class="operator">=</span> <span class="keyword">shift</span><span class="operator">;</span>
        <span class="keyword">return</span> <span class="keyword">log</span><span class="operator">(</span><span class="variable">$n</span><span class="operator">)/</span><span class="keyword">log</span><span class="operator">(</span><span class="number">10</span><span class="operator">);</span>
    <span class="operator">}</span>
</code></code></pre>

<p>See also <a href="#exp">&quot;exp&quot;</a> for the inverse operation.</p>

</dd>
<dt id="lstat-FILEHANDLE">lstat FILEHANDLE </dt>
<dd>

</dd>
<dt id="lstat-EXPR">lstat EXPR</dt>
<dd>

</dd>
<dt id="lstat-DIRHANDLE">lstat DIRHANDLE</dt>
<dd>

</dd>
<dt id="lstat">lstat</dt>
<dd>

<p>Does the same thing as the <code><code>stat</code></code> function (including setting the special <code><code>_</code></code> filehandle) but stats a symbolic link instead of the file the symbolic link points to. If symbolic links are unimplemented on your system, a normal <code><code>stat</code></code> is done. For much more detailed information, please see the documentation for <code><code>stat</code></code>.</p>

<p>If EXPR is omitted, stats <code><code>$_</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#lstat">&quot;lstat&quot; in perlport</a>.</p>

</dd>
<dt id="m-">m//</dt>
<dd>

<p>The match operator. See <a href="../../lib/pods/perlop.html#Regexp-Quote-Like-Operators">&quot;Regexp Quote-Like Operators&quot; in perlop</a>.</p>

</dd>
<dt id="map-BLOCK-LIST">map BLOCK LIST </dt>
<dd>

</dd>
<dt id="map-EXPR-LIST">map EXPR,LIST</dt>
<dd>

<p>Evaluates the BLOCK or EXPR for each element of LIST (locally setting <code><code>$_</code></code> to each element) and returns the list value composed of the results of each such evaluation. In scalar context, returns the total number of elements so generated. Evaluates BLOCK or EXPR in list context, so each element of LIST may produce zero, one, or more elements in the returned value.</p>

<pre><code><code>    <span class="variable">@chars</span> <span class="operator">=</span> <span class="keyword">map</span><span class="operator">(</span><span class="keyword">chr</span><span class="operator">,</span> <span class="variable">@numbers</span><span class="operator">);</span>
</code></code></pre>

<p>translates a list of numbers to the corresponding characters.</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">@squares</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">$_</span> <span class="operator">*</span> <span class="variable">$_</span> <span class="operator">}</span> <span class="variable">@numbers</span><span class="operator">;</span>
</code></code></pre>

<p>translates a list of numbers to their squared values.</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">@squares</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">$_</span> <span class="operator">&gt;</span> <span class="number">5</span> <span class="operator">?</span> <span class="operator">(</span><span class="variable">$_</span> <span class="operator">*</span> <span class="variable">$_</span><span class="operator">)</span> <span class="operator">:</span> <span class="operator">()</span> <span class="operator">}</span> <span class="variable">@numbers</span><span class="operator">;</span>
</code></code></pre>

<p>shows that number of returned elements can differ from the number of input elements. To omit an element, return an empty list (). This could also be achieved by writing</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">@squares</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">$_</span> <span class="operator">*</span> <span class="variable">$_</span> <span class="operator">}</span> <span class="keyword">grep</span> <span class="operator">{</span> <span class="variable">$_</span> <span class="operator">&gt;</span> <span class="number">5</span> <span class="operator">}</span> <span class="variable">@numbers</span><span class="operator">;</span>
</code></code></pre>

<p>which makes the intention more clear.</p>

<p>Map always returns a list, which can be assigned to a hash such that the elements become key/value pairs. See <a href="../../lib/pods/perldata.html">perldata</a> for more details.</p>

<pre><code><code>    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">get_a_key_for</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span> <span class="operator">=&gt;</span> <span class="variable">$_</span> <span class="operator">}</span> <span class="variable">@array</span><span class="operator">;</span>
</code></code></pre>

<p>is just a funny way to write</p>

<pre><code><code>    <span class="variable">%hash</span> <span class="operator">=</span> <span class="operator">();</span>
    <span class="keyword">foreach</span> <span class="operator">(</span><span class="variable">@array</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$hash</span><span class="operator">{</span><span class="variable">get_a_key_for</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span><span class="operator">}</span> <span class="operator">=</span> <span class="variable">$_</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Note that <code><code>$_</code></code> is an alias to the list value, so it can be used to modify the elements of the LIST. While this is useful and supported, it can cause bizarre results if the elements of LIST are not variables. Using a regular <code><code>foreach</code></code> loop for this purpose would be clearer in most cases. See also <a href="#grep">&quot;grep&quot;</a> for an array composed of those items of the original list for which the BLOCK or EXPR evaluates to true.</p>

<p>If <code><code>$_</code></code> is lexical in the scope where the <code><code>map</code></code> appears (because it has been declared with <code><code>my $_</code></code>), then, in addition to being locally aliased to the list elements, <code><code>$_</code></code> keeps being lexical inside the block; that is, it can&#39;t be seen from the outside, avoiding any potential side-effects.</p>

<p><code><code><span class="operator">{</span>
</code></code> starts both hash references and blocks, so <code><code><span class="keyword">map</span> <span class="operator">{</span> <span class="operator">...</span>
</code></code> could be either the start of map BLOCK LIST or map EXPR, LIST. Because Perl doesn&#39;t look ahead for the closing <code><code>}</code></code> it has to take a guess at which it&#39;s dealing with based on what it finds just after the <code><code><span class="operator">{</span>
</code></code>. Usually it gets it right, but if it doesn&#39;t it won&#39;t realize something is wrong until it gets to the <code><code>}</code></code> and encounters the missing (or unexpected) comma. The syntax error will be reported close to the <code><code>}</code></code>, but you&#39;ll need to change something near the <code><code><span class="operator">{</span>
</code></code> such as using a unary <code><code>+</code></code> to give Perl some help:</p>

<pre><code><code>    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span>  <span class="string">"\L</span><span class="variable">$_</span><span class="string">"</span> <span class="operator">=&gt;</span> <span class="number">1</span>  <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># perl guesses EXPR.  wrong</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="operator">+</span><span class="string">"\L</span><span class="variable">$_</span><span class="string">"</span> <span class="operator">=&gt;</span> <span class="number">1</span>  <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># perl guesses BLOCK. right</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="operator">(</span><span class="string">"\L</span><span class="variable">$_</span><span class="string">"</span> <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># this also works</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span>  <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span> <span class="operator">=&gt;</span> <span class="number">1</span>  <span class="operator">}</span> <span class="variable">@array</span>  <span class="comment"># as does this.</span>
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">+(</span> <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span> <span class="operator">=&gt;</span> <span class="number">1</span> <span class="operator">),</span> <span class="variable">@array</span>  <span class="comment"># this is EXPR and works!</span>
    
    <span class="variable">%hash</span> <span class="operator">=</span> <span class="keyword">map</span>  <span class="operator">(</span> <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">),</span> <span class="number">1</span> <span class="operator">),</span>   <span class="variable">@array</span>  <span class="comment"># evaluates to (1, @array)</span>
</code></code></pre>

<p>or to force an anon hash constructor use <code><code><span class="operator">+{</span>
</code></code>:</p>

<pre><code><code>   <span class="variable">@hashes</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">+{</span> <span class="keyword">lc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span> <span class="operator">=&gt;</span> <span class="number">1</span> <span class="operator">},</span> <span class="variable">@array</span> <span class="comment"># EXPR, so needs comma at end</span>
</code></code></pre>

<p>to get a list of anonymous hashes each with only one entry apiece.</p>

</dd>
<dt id="mkdir-FILENAME-MASK">mkdir FILENAME,MASK   </dt>
<dd>

</dd>
<dt id="mkdir-FILENAME">mkdir FILENAME</dt>
<dd>

</dd>
<dt id="mkdir">mkdir</dt>
<dd>

<p>Creates the directory specified by FILENAME, with permissions specified by MASK (as modified by <code><code>umask</code></code>). If it succeeds it returns true; otherwise it returns false and sets <code><code>$!</code></code> (errno). MASK defaults to 0777 if omitted, and FILENAME defaults to <code><code>$_</code></code> if omitted.</p>

<p>In general, it is better to create directories with a permissive MASK and let the user modify that with their <code><code>umask</code></code> than it is to supply a restrictive MASK and give the user no way to be more permissive. The exceptions to this rule are when the file or directory should be kept private (mail files, for instance). The perlfunc(1) entry on <code><code>umask</code></code> discusses the choice of MASK in more detail.</p>

<p>Note that according to the POSIX 1003.1-1996 the FILENAME may have any number of trailing slashes. Some operating and filesystems do not get this right, so Perl automatically removes all trailing slashes to keep everyone happy.</p>

<p>To recursively create a directory structure, look at the <code><code>mkpath</code></code> function of the <a href="../../lib/File/Path.html">File::Path</a> module.</p>

</dd>
<dt id="msgctl-ID-CMD-ARG">msgctl ID,CMD,ARG </dt>
<dd>

<p>Calls the System V IPC function msgctl(2). You&#39;ll probably have to say</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">IPC::SysV</span><span class="operator">;</span>
</code></code></pre>

<p>first to get the correct constant definitions. If CMD is <code><code>IPC_STAT</code></code>, then ARG must be a variable that will hold the returned <code><code>msqid_ds</code></code> structure. Returns like <code><code>ioctl</code></code>: the undefined value for error, <code><code>&quot;0 but true&quot;</code></code> for zero, or the actual return value otherwise. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a> and the documentation for <code><code>IPC::SysV</code></code> and <code><code>IPC::Semaphore</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#msgctl">&quot;msgctl&quot; in perlport</a>.</p>

</dd>
<dt id="msgget-KEY-FLAGS">msgget KEY,FLAGS </dt>
<dd>

<p>Calls the System V IPC function msgget(2). Returns the message queue id, or <code><code>undef</code></code> on error. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a> and the documentation for <code><code>IPC::SysV</code></code> and <code><code>IPC::Msg</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#msgget">&quot;msgget&quot; in perlport</a>.</p>

</dd>
<dt id="msgrcv-ID-VAR-SIZE-TYPE-FLAGS">msgrcv ID,VAR,SIZE,TYPE,FLAGS </dt>
<dd>

<p>Calls the System V IPC function msgrcv to receive a message from message queue ID into variable VAR with a maximum message size of SIZE. Note that when a message is received, the message type as a native long integer will be the first thing in VAR, followed by the actual message. This packing may be opened with <code><code>unpack(&quot;l! a*&quot;)</code></code>. Taints the variable. Returns true if successful, false on error. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a> and the documentation for <code><code>IPC::SysV</code></code> and <code><code>IPC::SysV::Msg</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#msgrcv">&quot;msgrcv&quot; in perlport</a>.</p>

</dd>
<dt id="msgsnd-ID-MSG-FLAGS">msgsnd ID,MSG,FLAGS </dt>
<dd>

<p>Calls the System V IPC function msgsnd to send the message MSG to the message queue ID. MSG must begin with the native long integer message type, be followed by the length of the actual message, and then finally the message itself. This kind of packing can be achieved with <code><code>pack(&quot;l! a*&quot;, $type, $message)</code></code>. Returns true if successful, false on error. See also the <code><code>IPC::SysV</code></code> and <code><code>IPC::SysV::Msg</code></code> documentation.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#msgsnd">&quot;msgsnd&quot; in perlport</a>.</p>

</dd>
<dt id="my-EXPR">my EXPR </dt>
<dd>

</dd>
<dt id="my-TYPE-EXPR">my TYPE EXPR</dt>
<dd>

</dd>
<dt id="my-EXPR-:-ATTRS">my EXPR : ATTRS</dt>
<dd>

</dd>
<dt id="my-TYPE-EXPR-:-ATTRS">my TYPE EXPR : ATTRS</dt>
<dd>

<p>A <code><code>my</code></code> declares the listed variables to be local (lexically) to the enclosing block, file, or <code><code>eval</code></code>. If more than one value is listed, the list must be placed in parentheses.</p>

<p>The exact semantics and interface of TYPE and ATTRS are still evolving. TYPE is currently bound to the use of the <code><code>fields</code></code> pragma, and attributes are handled using the <code><code>attributes</code></code> pragma, or starting from Perl 5.8.0 also via the <code><code>Attribute::Handlers</code></code> module. See <a href="../../lib/pods/perlsub.html#Private-Variables-via-my-">&quot;Private Variables via my()&quot; in perlsub</a> for details, and <a href="../../lib/fields.html">fields</a>, <a href="../../lib/attributes.html">attributes</a>, and <a href="../../lib/Attribute/Handlers.html">Attribute::Handlers</a>.</p>

</dd>
<dt id="next-LABEL">next LABEL  </dt>
<dd>

</dd>
<dt id="next">next</dt>
<dd>

<p>The <code><code>next</code></code> command is like the <code><code>continue</code></code> statement in C; it starts the next iteration of the loop:</p>

<pre><code><code>    <span class="variable">LINE</span><span class="operator">:</span> <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">next</span> <span class="variable">LINE</span> <span class="keyword">if</span> <span class="regex">/^#/</span><span class="operator">;</span>  <span class="comment"># discard comments</span>
        <span class="comment">#...</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Note that if there were a <code><code>continue</code></code> block on the above, it would get executed even on discarded lines. If LABEL is omitted, the command refers to the innermost enclosing loop.</p>

<p><code><code>next</code></code> cannot be used to exit a block which returns a value such as <code><code><span class="keyword">eval</span> <span class="operator">{}</span>
</code></code>, <code><code><span class="keyword">sub</span><span class="variable"> </span><span class="operator">{}</span>
</code></code>, or <code><code><span class="keyword">do</span> <span class="operator">{}</span>
</code></code>, and should not be used to exit a grep() or map() operation.</p>

<p>Note that a block by itself is semantically identical to a loop that executes once. Thus <code><code>next</code></code> will exit such a block early.</p>

<p>See also <a href="#continue">&quot;continue&quot;</a> for an illustration of how <code><code>last</code></code>, <code><code>next</code></code>, and <code><code>redo</code></code> work.</p>

</dd>
<dt id="no-MODULE-VERSION-LIST">no MODULE VERSION LIST  </dt>
<dd>

</dd>
<dt id="no-MODULE-VERSION">no MODULE VERSION</dt>
<dd>

</dd>
<dt id="no-MODULE-LIST">no MODULE LIST</dt>
<dd>

</dd>
<dt id="no-MODULE">no MODULE</dt>
<dd>

</dd>
<dt id="no-VERSION">no VERSION</dt>
<dd>

<p>See the <code><code>use</code></code> function, of which <code><code>no</code></code> is the opposite.</p>

</dd>
<dt id="oct-EXPR">oct EXPR      </dt>
<dd>

</dd>
<dt id="oct">oct</dt>
<dd>

<p>Interprets EXPR as an octal string and returns the corresponding value. (If EXPR happens to start off with <code><code>0x</code></code>, interprets it as a hex string. If EXPR starts off with <code><code>0b</code></code>, it is interpreted as a binary string. Leading whitespace is ignored in all three cases.) The following will handle decimal, binary, octal, and hex in standard Perl notation:</p>

<pre><code><code>    <span class="variable">$val</span> <span class="operator">=</span> <span class="keyword">oct</span><span class="operator">(</span><span class="variable">$val</span><span class="operator">)</span> <span class="keyword">if</span> <span class="variable">$val</span> <span class="operator">=~</span> <span class="regex">/^0/</span><span class="operator">;</span>
</code></code></pre>

<p>If EXPR is omitted, uses <code><code>$_</code></code>. To go the other way (produce a number in octal), use sprintf() or printf():</p>

<pre><code><code>    <span class="variable">$dec_perms</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="string">"filename"</span><span class="operator">))</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">;</span>
    <span class="variable">$oct_perm_str</span> <span class="operator">=</span> <span class="keyword">sprintf</span> <span class="string">"%o"</span><span class="operator">,</span> <span class="variable">$perms</span><span class="operator">;</span>
</code></code></pre>

<p>The oct() function is commonly used when a string such as <code><code>644</code></code> needs to be converted into a file mode, for example. Although Perl automatically converts strings into numbers as needed, this automatic conversion assumes base 10.</p>

<p>Leading white space is ignored without warning, as too are any trailing non-digits, such as a decimal point (<code><code>oct</code></code> only handles non-negative integers, not negative integers or floating point).</p>

</dd>
<dt id="open-FILEHANDLE-EXPR">open FILEHANDLE,EXPR    </dt>
<dd>

</dd>
<dt id="open-FILEHANDLE-MODE-EXPR">open FILEHANDLE,MODE,EXPR</dt>
<dd>

</dd>
<dt id="open-FILEHANDLE-MODE-EXPR-LIST">open FILEHANDLE,MODE,EXPR,LIST</dt>
<dd>

</dd>
<dt id="open-FILEHANDLE-MODE-REFERENCE">open FILEHANDLE,MODE,REFERENCE</dt>
<dd>

</dd>
<dt id="open-FILEHANDLE">open FILEHANDLE</dt>
<dd>

<p>Opens the file whose filename is given by EXPR, and associates it with FILEHANDLE.</p>

<p>Simple examples to open a file for reading:</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$fh</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="string">"input.txt"</span><span class="operator">)</span> 
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"cannot open &lt; input.txt: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>and for writing:</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$fh</span><span class="operator">,</span> <span class="string">"&gt;"</span><span class="operator">,</span> <span class="string">"output.txt"</span><span class="operator">)</span> 
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"cannot open &gt; output.txt: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>(The following is a comprehensive reference to open(): for a gentler introduction you may consider <a href="../../lib/pods/perlopentut.html">perlopentut</a>.)</p>

<p>If FILEHANDLE is an undefined scalar variable (or array or hash element), a new filehandle is autovivified, meaning that the variable is assigned a reference to a newly allocated anonymous filehandle. Otherwise if FILEHANDLE is an expression, its value is the real filehandle. (This is considered a symbolic reference, so <code><code>use strict &quot;refs&quot;</code></code> should <i>not</i> be in effect.)</p>

<p>If EXPR is omitted, the global (package) scalar variable of the same name as the FILEHANDLE contains the filename. (Note that lexical variables--those declared with <code><code>my</code></code> or <code><code>state</code></code>--will not work for this purpose; so if you&#39;re using <code><code>my</code></code> or <code><code>state</code></code>, specify EXPR in your call to open.)</p>

<p>If three (or more) arguments are specified, the open mode (including optional encoding) in the second argument are distinct from the filename in the third. If MODE is <code><code>&lt;</code></code> or nothing, the file is opened for input. If MODE is <code><code>&gt;</code></code>, the file is opened for output, with existing files first being truncated (&quot;clobbered&quot;) and nonexisting files newly created. If MODE is <code><code>&gt;&gt;</code></code>, the file is opened for appending, again being created if necessary.</p>

<p>You can put a <code><code>+</code></code> in front of the <code><code>&gt;</code></code> or <code><code>&lt;</code></code> to indicate that you want both read and write access to the file; thus <code><code>+&lt;</code></code> is almost always preferred for read/write updates--the <code><code>+&gt;</code></code> mode would clobber the file first. You can&#39;t usually use either read-write mode for updating textfiles, since they have variable-length records. See the <b>-i</b> switch in <a href="../../lib/pods/perlrun.html">perlrun</a> for a better approach. The file is created with permissions of <code><code>0666</code></code> modified by the process&#39;s <code><code>umask</code></code> value.</p>

<p>These various prefixes correspond to the fopen(3) modes of <code><code>r</code></code>, <code><code>r+</code></code>, <code><code>w</code></code>, <code><code>w+</code></code>, <code><code>a</code></code>, and <code><code>a+</code></code>.</p>

<p>In the one- and two-argument forms of the call, the mode and filename should be concatenated (in that order), preferably separated by white space. You can--but shouldn&#39;t--omit the mode in these forms when that mode is <code><code>&lt;</code></code>. It is always safe to use the two-argument form of <code><code>open</code></code> if the filename argument is a known literal.</p>

<p>For three or more arguments if MODE is <code><code>|-</code></code>, the filename is interpreted as a command to which output is to be piped, and if MODE is <code><code>-|</code></code>, the filename is interpreted as a command that pipes output to us. In the two-argument (and one-argument) form, one should replace dash (<code><code>-</code></code>) with the command. See <a href="../../lib/pods/perlipc.html#Using-open-for-IPC">&quot;Using open() for IPC&quot; in perlipc</a> for more examples of this. (You are not allowed to <code><code>open</code></code> to a command that pipes both in <i>and</i> out, but see <a href="../../lib/IPC/Open2.html">IPC::Open2</a>, <a href="../../lib/IPC/Open3.html">IPC::Open3</a>, and <a href="../../lib/pods/perlipc.html#Bidirectional-Communication-with-Another-Process">&quot;Bidirectional Communication with Another Process&quot; in perlipc</a> for alternatives.)</p>

<p>In the form of pipe opens taking three or more arguments, if LIST is specified (extra arguments after the command name) then LIST becomes arguments to the command invoked if the platform supports it. The meaning of <code><code>open</code></code> with more than three arguments for non-pipe modes is not yet defined, but experimental &quot;layers&quot; may give extra LIST arguments meaning.</p>

<p>In the two-argument (and one-argument) form, opening <code><code>&lt;-</code></code> or <code><code>-</code></code> opens STDIN and opening <code><code>&gt;-</code></code> opens STDOUT.</p>

<p>You may (and usually should) use the three-argument form of open to specify I/O layers (sometimes referred to as &quot;disciplines&quot;) to apply to the handle that affect how the input and output are processed (see <a href="../../lib/open.html">open</a> and <a href="../../lib/PerlIO.html">PerlIO</a> for more details). For example:</p>

<pre><code><code>  <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$fh</span><span class="operator">,</span> <span class="string">"&lt;:encoding(UTF-8)"</span><span class="operator">,</span> <span class="string">"filename"</span><span class="operator">)</span>
    <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"can't open UTF-8 encoded filename: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>opens the UTF8-encoded file containing Unicode characters; see <a href="../../lib/pods/perluniintro.html">perluniintro</a>. Note that if layers are specified in the three-argument form, then default layers stored in ${^OPEN} (see <a href="../../lib/pods/perlvar.html">perlvar</a>; usually set by the <b>open</b> pragma or the switch <b>-CioD</b>) are ignored. Those layers will also be ignored if you specifying a colon with no name following it. In that case the default layer for the operating system (:raw on Unix, :crlf on Windows) is used.</p>

<p>Open returns nonzero on success, the undefined value otherwise. If the <code><code>open</code></code> involved a pipe, the return value happens to be the pid of the subprocess.</p>

<p>If you&#39;re running Perl on a system that distinguishes between text files and binary files, then you should check out <a href="#binmode">&quot;binmode&quot;</a> for tips for dealing with this. The key distinction between systems that need <code><code>binmode</code></code> and those that don&#39;t is their text file formats. Systems like Unix, Mac OS, and Plan 9, that end lines with a single character and encode that character in C as <code><code>&quot;\n&quot;</code></code> do not need <code><code>binmode</code></code>. The rest need it.</p>

<p>When opening a file, it&#39;s seldom a good idea to continue if the request failed, so <code><code>open</code></code> is frequently used with <code><code>die</code></code>. Even if <code><code>die</code></code> won&#39;t do what you want (say, in a CGI script, where you want to format a suitable error message (but there are modules that can help with that problem)) always check the return value from opening a file.</p>

<p>As a special case the three-argument form with a read/write mode and the third argument being <code><code>undef</code></code>:</p>

<pre><code><code>    open(my $tmp, &quot;+&gt;&quot;, undef) or die ...</code></code></pre>

<p>opens a filehandle to an anonymous temporary file. Also using <code><code>+&lt;</code></code> works for symmetry, but you really should consider writing something to the temporary file first. You will need to seek() to do the reading.</p>

<p>Since v5.8.0, Perl has built using PerlIO by default. Unless you&#39;ve changed this (such as building Perl with <code><code>Configure -Uuseperlio</code></code>), you can open filehandles directly to Perl scalars via:</p>

<pre><code><code>    open($fh, &quot;&gt;&quot;, \$variable) || ..</code></code></pre>

<p>To (re)open <code><code>STDOUT</code></code> or <code><code>STDERR</code></code> as an in-memory file, close it first:</p>

<pre><code><code>    <span class="keyword">close</span> <span class="variable">STDOUT</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">,</span> <span class="string">"&gt;"</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">$variable</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open STDOUT: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>General examples:</p>

<pre><code><code>    <span class="variable">$ARTICLE</span> <span class="operator">=</span> <span class="number">100</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">ARTICLE</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't find article </span><span class="variable">$ARTICLE</span><span class="string">: $!\n"</span><span class="operator">;</span>
    <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">ARTICLE</span><span class="operator">&gt;)</span> <span class="operator">{...</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">LOG</span><span class="operator">,</span> <span class="string">"&gt;&gt;/usr/spool/news/twitlog"</span><span class="operator">);</span>  <span class="comment"># (log is reserved)</span>
    <span class="comment"># if the open fails, output is discarded</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$dbase</span><span class="operator">,</span> <span class="string">"+&lt;"</span><span class="operator">,</span> <span class="string">"dbase.mine"</span><span class="operator">)</span>      <span class="comment"># open for update</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open 'dbase.mine' for update: $!"</span><span class="operator">;</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$dbase</span><span class="operator">,</span> <span class="string">"+&lt;dbase.mine"</span><span class="operator">)</span>          <span class="comment"># ditto</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open 'dbase.mine' for update: $!"</span><span class="operator">;</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">ARTICLE</span><span class="operator">,</span> <span class="string">"-|"</span><span class="operator">,</span> <span class="string">"caesar &lt;</span><span class="variable">$article</span><span class="string">"</span><span class="operator">)</span>  <span class="comment"># decrypt article</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start caesar: $!"</span><span class="operator">;</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">ARTICLE</span><span class="operator">,</span> <span class="string">"caesar &lt;</span><span class="variable">$article</span><span class="string"> |"</span><span class="operator">)</span>      <span class="comment"># ditto</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start caesar: $!"</span><span class="operator">;</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">EXTRACT</span><span class="operator">,</span> <span class="string">"|sort &gt;Tmp$$"</span><span class="operator">)</span>            <span class="comment"># $$ is our process id</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't start sort: $!"</span><span class="operator">;</span>
    
    <span class="comment"># in-memory files</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">MEMORY</span><span class="operator">,</span> <span class="string">"&gt;"</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">$var</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open memory file: $!"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">MEMORY</span> <span class="string">"foo!\n"</span><span class="operator">;</span>                   <span class="comment"># output will appear in $var</span>
    
    <span class="comment"># process argument list of files along with any includes</span>
    
    <span class="keyword">foreach</span> <span class="variable">$file</span> <span class="operator">(</span><span class="variable">@ARGV</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">process</span><span class="operator">(</span><span class="variable">$file</span><span class="operator">,</span> <span class="string">"fh00"</span><span class="operator">);</span>
    <span class="operator">}</span>
    
    <span class="keyword">sub</span><span class="variable"> process </span><span class="operator">{</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$input</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="variable">$input</span><span class="operator">++;</span>    <span class="comment"># this is a string increment</span>
        <span class="keyword">unless</span> <span class="operator">(</span><span class="keyword">open</span><span class="operator">(</span><span class="variable">$input</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">))</span> <span class="operator">{</span>
            <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"Can't open </span><span class="variable">$filename</span><span class="string">: $!\n"</span><span class="operator">;</span>
            <span class="keyword">return</span><span class="operator">;</span>
        <span class="operator">}</span>
    
        <span class="keyword">local</span> <span class="variable">$_</span><span class="operator">;</span>
        <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">$input</span><span class="operator">&gt;)</span> <span class="operator">{</span>    <span class="comment"># note use of indirection</span>
            <span class="keyword">if</span> <span class="operator">(</span><span class="regex">/^#include "(.*)"/</span><span class="operator">)</span> <span class="operator">{</span>
                <span class="variable">process</span><span class="operator">(</span><span class="variable">$1</span><span class="operator">,</span> <span class="variable">$input</span><span class="operator">);</span>
                <span class="keyword">next</span><span class="operator">;</span>
            <span class="operator">}</span>
            <span class="comment">#...          # whatever</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</code></code></pre>

<p>See <a href="../../lib/pods/perliol.html">perliol</a> for detailed info on PerlIO.</p>

<p>You may also, in the Bourne shell tradition, specify an EXPR beginning with <code><code>&gt;&amp;</code></code>, in which case the rest of the string is interpreted as the name of a filehandle (or file descriptor, if numeric) to be duped (as <code><code>dup(2)</code></code>) and opened. You may use <code><code>&amp;</code></code> after <code><code>&gt;</code></code>, <code><code>&gt;&gt;</code></code>, <code><code>&lt;</code></code>, <code><code>+&gt;</code></code>, <code><code>+&gt;&gt;</code></code>, and <code><code>+&lt;</code></code>. The mode you specify should match the mode of the original filehandle. (Duping a filehandle does not take into account any existing contents of IO buffers.) If you use the three-argument form, then you can pass either a number, the name of a filehandle, or the normal &quot;reference to a glob&quot;.</p>

<p>Here is a script that saves, redirects, and restores <code><code>STDOUT</code></code> and <code><code>STDERR</code></code> using various methods:</p>

<pre><code><code>    <span class="comment">#!/usr/bin/perl</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$oldout</span><span class="operator">,</span> <span class="string">"&gt;&amp;STDOUT"</span><span class="operator">)</span>     <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup STDOUT: $!"</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">OLDERR</span><span class="operator">,</span>     <span class="string">"&gt;&amp;"</span><span class="operator">,</span> <span class="operator">\</span><span class="variable">*STDERR</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup STDERR: $!"</span><span class="operator">;</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">,</span> <span class="string">'&gt;'</span><span class="operator">,</span> <span class="string">"foo.out"</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't redirect STDOUT: $!"</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">STDERR</span><span class="operator">,</span> <span class="string">"&gt;&amp;STDOUT"</span><span class="operator">)</span>     <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup STDOUT: $!"</span><span class="operator">;</span>
    
    <span class="keyword">select</span> <span class="variable">STDERR</span><span class="operator">;</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>  <span class="comment"># make unbuffered</span>
    <span class="keyword">select</span> <span class="variable">STDOUT</span><span class="operator">;</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>  <span class="comment"># make unbuffered</span>
    
    <span class="keyword">print</span> <span class="variable">STDOUT</span> <span class="string">"stdout 1\n"</span><span class="operator">;</span>  <span class="comment"># this works for</span>
    <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"stderr 1\n"</span><span class="operator">;</span>  <span class="comment"># subprocesses too</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">,</span> <span class="string">"&gt;&amp;"</span><span class="operator">,</span> <span class="variable">$oldout</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup \$oldout: $!"</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">STDERR</span><span class="operator">,</span> <span class="string">"&gt;&amp;OLDERR"</span><span class="operator">)</span>    <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't dup OLDERR: $!"</span><span class="operator">;</span>
    
    <span class="keyword">print</span> <span class="variable">STDOUT</span> <span class="string">"stdout 2\n"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">STDERR</span> <span class="string">"stderr 2\n"</span><span class="operator">;</span>
</code></code></pre>

<p>If you specify <code><code>&#39;&lt;&amp;=X&#39;</code></code>, where <code><code>X</code></code> is a file descriptor number or a filehandle, then Perl will do an equivalent of C&#39;s <code><code>fdopen</code></code> of that file descriptor (and not call <code><code>dup(2)</code></code>); this is more parsimonious of file descriptors. For example:</p>

<pre><code><code>    # open for input, reusing the fileno of $fd
    open(FILEHANDLE, &quot;&lt;&amp;=$fd&quot;)</code></code></pre>

<p>or</p>

<pre><code><code>    open(FILEHANDLE, &quot;&lt;&amp;=&quot;, $fd)</code></code></pre>

<p>or</p>

<pre><code><code>    # open for append, using the fileno of OLDFH
    open(FH, &quot;&gt;&gt;&amp;=&quot;, OLDFH)</code></code></pre>

<p>or</p>

<pre><code><code>    open(FH, &quot;&gt;&gt;&amp;=OLDFH&quot;)</code></code></pre>

<p>Being parsimonious on filehandles is also useful (besides being parsimonious) for example when something is dependent on file descriptors, like for example locking using flock(). If you do just <code><code>open(A, &quot;&gt;&gt;&amp;B&quot;)</code></code>, the filehandle A will not have the same file descriptor as B, and therefore flock(A) will not flock(B) nor vice versa. But with <code><code>open(A, &quot;&gt;&gt;&amp;=B&quot;)</code></code>, the filehandles will share the same underlying system file descriptor.</p>

<p>Note that under Perls older than 5.8.0, Perl uses the standard C library&#39;s&#39; fdopen() to implement the <code><code>=</code></code> functionality. On many Unix systems, fdopen() fails when file descriptors exceed a certain value, typically 255. For Perls 5.8.0 and later, PerlIO is (most often) the default.</p>

<p>You can see whether your Perl was built with PerlIO by running <code><code>perl -V</code></code> and looking for the <code><code>useperlio=</code></code> line. If <code><code>useperlio</code></code> is <code><code>define</code></code>, you have PerlIO; otherwise you don&#39;t.</p>

<p>If you open a pipe on the command <code><code>-</code></code> (that is, specify either <code><code>|-</code></code> or <code><code>-|</code></code> with the one- or two-argument forms of <code><code>open</code></code>), an implicit <code><code>fork</code></code> is done, so <code><code>open</code></code> returns twice: in the parent process it returns the pid of the child process, and in the child process it returns (a defined) <code><code>0</code></code>. Use <code><code>defined($pid)</code></code> or <code><code>//</code></code> to determine whether the open was successful.</p>

<p>For example, use either</p>

<pre><code><code>    <span class="variable">$child_pid</span> <span class="operator">=</span> <span class="keyword">open</span><span class="operator">(</span><span class="variable">FROM_KID</span><span class="operator">,</span> <span class="string">"-|"</span><span class="operator">)</span>   <span class="operator">//</span> <span class="keyword">die</span> <span class="string">"can't fork: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>or $child_pid = open(TO_KID, &quot;|-&quot;) // die &quot;can&#39;t fork: $!&quot;;</p>

<p>followed by</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$child_pid</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="comment"># am the parent:</span>
        <span class="comment"># either write TO_KID or else read FROM_KID</span>
        <span class="operator">...</span>
        <span class="keyword">wait</span> <span class="variable">$child_pid</span><span class="operator">;</span>
    <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
        <span class="comment"># am the child; use STDIN/STDOUT normally</span>
        <span class="operator">...</span>
        <span class="keyword">exit</span><span class="operator">;</span>
    <span class="operator">}</span> 
</code></code></pre>

<p>The filehandle behaves normally for the parent, but I/O to that filehandle is piped from/to the STDOUT/STDIN of the child process. In the child process, the filehandle isn&#39;t opened--I/O happens from/to the new STDOUT/STDIN. Typically this is used like the normal piped open when you want to exercise more control over just how the pipe command gets executed, such as when running setuid and you don&#39;t want to have to scan shell commands for metacharacters.</p>

<p>The following blocks are more or less equivalent:</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"|tr '[a-z]' '[A-Z]'"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"|-"</span><span class="operator">,</span> <span class="string">"tr '[a-z]' '[A-Z]'"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"|-"</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">exec</span> <span class="string">'tr'</span><span class="operator">,</span> <span class="string">'[a-z]'</span><span class="operator">,</span> <span class="string">'[A-Z]'</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"|-"</span><span class="operator">,</span> <span class="string">"tr"</span><span class="operator">,</span> <span class="string">'[a-z]'</span><span class="operator">,</span> <span class="string">'[A-Z]'</span><span class="operator">);</span>
    
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"cat -n '</span><span class="variable">$file</span><span class="string">'|"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"-|"</span><span class="operator">,</span> <span class="string">"cat -n '</span><span class="variable">$file</span><span class="string">'"</span><span class="operator">);</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"-|"</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">exec</span> <span class="string">"cat"</span><span class="operator">,</span> <span class="string">"-n"</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"-|"</span><span class="operator">,</span> <span class="string">"cat"</span><span class="operator">,</span> <span class="string">"-n"</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">);</span>
</code></code></pre>

<p>The last two examples in each block show the pipe as &quot;list form&quot;, which is not yet supported on all platforms. A good rule of thumb is that if your platform has a real <code><code>fork()</code></code> (in other words, if your platform is Unix, including Linux and MacOS X), you can use the list form. You would want to use the list form of the pipe so you can pass literal arguments to the command without risk of the shell interpreting any shell metacharacters in them. However, this also bars you from opening pipes to commands that intentionally contain shell metacharacters, such as:</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"|cat -n | expand -4 | lpr"</span><span class="operator">)</span>
        <span class="operator">//</span> <span class="keyword">die</span> <span class="string">"Can't open pipeline to lpr: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>See <a href="../../lib/pods/perlipc.html#Safe-Pipe-Opens">&quot;Safe Pipe Opens&quot; in perlipc</a> for more examples of this.</p>

<p>Beginning with v5.6.0, Perl will attempt to flush all files opened for output before any operation that may do a fork, but this may not be supported on some platforms (see <a href="../../lib/pods/perlport.html">perlport</a>). To be safe, you may need to set <code><code>$|</code></code> ($AUTOFLUSH in English) or call the <code><code>autoflush()</code></code> method of <code><code>IO::Handle</code></code> on any open handles.</p>

<p>On systems that support a close-on-exec flag on files, the flag will be set for the newly opened file descriptor as determined by the value of <code><code>$^F</code></code>. See <a href="../../lib/pods/perlvar.html#F">&quot;$^F&quot; in perlvar</a>.</p>

<p>Closing any piped filehandle causes the parent process to wait for the child to finish, then returns the status value in <code><code>$?</code></code> and <code><code><span class="operator">${^</span><span class="variable">CHILD_ERROR_NATIVE</span><span class="operator">}</span>
</code></code>.</p>

<p>The filename passed to the one- and two-argument forms of open() will have leading and trailing whitespace deleted and normal redirection characters honored. This property, known as &quot;magic open&quot;, can often be used to good effect. A user could specify a filename of <i>&quot;rsh cat file |&quot;</i>, or you could change certain filenames as needed:</p>

<pre><code><code>    <span class="variable">$filename</span> <span class="operator">=~</span> <span class="regex">s/(.*\.gz)\s*$/gzip -dc &lt; $1|/</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FH</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can't open </span><span class="variable">$filename</span><span class="string">: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>Use the three-argument form to open a file with arbitrary weird characters in it,</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">)</span>
        <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"can't open &lt; </span><span class="variable">$file</span><span class="string">: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>otherwise it&#39;s necessary to protect any leading and trailing whitespace:</p>

<pre><code><code>    <span class="variable">$file</span> <span class="operator">=~</span> <span class="regex">s#^(\s)#./$1#</span><span class="operator">;</span>
    <span class="keyword">open</span><span class="operator">(</span><span class="variable">FOO</span><span class="operator">,</span> <span class="string">"&lt; </span><span class="variable">$file</span><span class="string">\0"</span><span class="operator">)</span>
        <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"open failed: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>(this may not work on some bizarre filesystems). One should conscientiously choose between the <i>magic</i> and <i>three-argument</i> form of open():</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="variable">IN</span><span class="operator">,</span> <span class="variable">$ARGV</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"can't open </span><span class="variable">$ARGV</span><span class="string">[0]: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>will allow the user to specify an argument of the form <code><code>&quot;rsh cat file |&quot;</code></code>, but will not work on a filename that happens to have a trailing space, while</p>

<pre><code><code>    <span class="keyword">open</span><span class="operator">(</span><span class="variable">IN</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="variable">$ARGV</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">)</span>
        <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"can't open &lt; </span><span class="variable">$ARGV</span><span class="string">[0]: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>will have exactly the opposite restrictions.</p>

<p>If you want a &quot;real&quot; C <code><code>open</code></code> (see <a href="http://man.he.net/man2/open">open(2)</a> on your system), then you should use the <code><code>sysopen</code></code> function, which involves no such magic (but may use subtly different filemodes than Perl open(), which is mapped to C fopen()). This is another way to protect your filenames from interpretation. For example:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">IO::Handle</span><span class="operator">;</span>
    <span class="keyword">sysopen</span><span class="operator">(</span><span class="variable">HANDLE</span><span class="operator">,</span> <span class="variable">$path</span><span class="operator">,</span> <span class="variable">O_RDWR</span><span class="operator">|</span><span class="variable">O_CREAT</span><span class="operator">|</span><span class="variable">O_EXCL</span><span class="operator">)</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"sysopen </span><span class="variable">$path</span><span class="string">: $!"</span><span class="operator">;</span>
    <span class="variable">$oldfh</span> <span class="operator">=</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">HANDLE</span><span class="operator">);</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">$oldfh</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="variable">HANDLE</span> <span class="string">"stuff $$\n"</span><span class="operator">;</span>
    <span class="keyword">seek</span><span class="operator">(</span><span class="variable">HANDLE</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="keyword">print</span> <span class="string">"File contains: "</span><span class="operator">,</span> <span class="operator">&lt;</span><span class="variable">HANDLE</span><span class="operator">&gt;;</span>
</code></code></pre>

<p>Using the constructor from the <code><code>IO::Handle</code></code> package (or one of its subclasses, such as <code><code>IO::File</code></code> or <code><code>IO::Socket</code></code>), you can generate anonymous filehandles that have the scope of the variables used to hold them, then automatically (but silently) close once their reference counts become zero, typically at scope exit:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">IO::File</span><span class="operator">;</span>
    <span class="comment">#...</span>
    <span class="keyword">sub</span><span class="variable"> read_myfile_munged </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="variable">$ALL</span> <span class="operator">=</span> <span class="keyword">shift</span><span class="operator">;</span>
        <span class="comment"># or just leave it undef to autoviv</span>
        <span class="keyword">my</span> <span class="variable">$handle</span> <span class="operator">=</span> <span class="variable">IO::File</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">;</span>
        <span class="keyword">open</span><span class="operator">(</span><span class="variable">$handle</span><span class="operator">,</span> <span class="string">"&lt;"</span><span class="operator">,</span> <span class="string">"myfile"</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"myfile: $!"</span><span class="operator">;</span>
        <span class="variable">$first</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">$handle</span><span class="operator">&gt;</span>
            <span class="keyword">or</span> <span class="keyword">return</span> <span class="operator">();</span>     <span class="comment"># Automatically closed here.</span>
        <span class="variable">mung</span><span class="operator">(</span><span class="variable">$first</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"mung failed"</span><span class="operator">;</span>  <span class="comment"># Or here.</span>
        <span class="keyword">return</span> <span class="operator">(</span><span class="variable">first</span><span class="operator">,</span> <span class="operator">&lt;</span><span class="variable">$handle</span><span class="operator">&gt;)</span> <span class="keyword">if</span> <span class="variable">$ALL</span><span class="operator">;</span>  <span class="comment"># Or here.</span>
        <span class="keyword">return</span> <span class="variable">$first</span><span class="operator">;</span>                      <span class="comment"># Or here.</span>
    <span class="operator">}</span>
</code></code></pre>

<p><b>WARNING:</b> The previous example has a bug because the automatic close that happens when the refcount on <code><code>handle</code></code> does not properly detect and report failures. <i>Always</i> close the handle yourself and inspect the return value.</p>

<pre><code><code>    <span class="keyword">close</span><span class="operator">(</span><span class="variable">$handle</span><span class="operator">)</span> 
        <span class="operator">||</span> <span class="keyword">warn</span> <span class="string">"close failed: $!"</span><span class="operator">;</span>
</code></code></pre>

<p>See <a href="#seek">&quot;seek&quot;</a> for some details about mixing reading and writing.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#open">&quot;open&quot; in perlport</a>.</p>

</dd>
<dt id="opendir-DIRHANDLE-EXPR">opendir DIRHANDLE,EXPR </dt>
<dd>

<p>Opens a directory named EXPR for processing by <code><code>readdir</code></code>, <code><code>telldir</code></code>, <code><code>seekdir</code></code>, <code><code>rewinddir</code></code>, and <code><code>closedir</code></code>. Returns true if successful. DIRHANDLE may be an expression whose value can be used as an indirect dirhandle, usually the real dirhandle name. If DIRHANDLE is an undefined scalar variable (or array or hash element), the variable is assigned a reference to a new anonymous dirhandle; that is, it&#39;s autovivified. DIRHANDLEs have their own namespace separate from FILEHANDLEs.</p>

<p>See the example at <code><code>readdir</code></code>.</p>

</dd>
<dt id="ord-EXPR">ord EXPR  </dt>
<dd>

</dd>
<dt id="ord">ord</dt>
<dd>

<p>Returns the numeric value of the first character of EXPR. If EXPR is an empty string, returns 0. If EXPR is omitted, uses <code><code>$_</code></code>. (Note <i>character</i>, not byte.)</p>

<p>For the reverse, see <a href="#chr">&quot;chr&quot;</a>. See <a href="../../lib/pods/perlunicode.html">perlunicode</a> for more about Unicode.</p>

</dd>
<dt id="our-EXPR">our EXPR  </dt>
<dd>

</dd>
<dt id="our-TYPE-EXPR">our TYPE EXPR</dt>
<dd>

</dd>
<dt id="our-EXPR-:-ATTRS">our EXPR : ATTRS</dt>
<dd>

</dd>
<dt id="our-TYPE-EXPR-:-ATTRS">our TYPE EXPR : ATTRS</dt>
<dd>

<p><code><code>our</code></code> associates a simple name with a package variable in the current package for use within the current scope. When <code><code>use strict &#39;vars&#39;</code></code> is in effect, <code><code>our</code></code> lets you use declared global variables without qualifying them with package names, within the lexical scope of the <code><code>our</code></code> declaration. In this way <code><code>our</code></code> differs from <code><code>use vars</code></code>, which is package-scoped.</p>

<p>Unlike <code><code>my</code></code> or <code><code>state</code></code>, which allocates storage for a variable and associates a simple name with that storage for use within the current scope, <code><code>our</code></code> associates a simple name with a package (read: global) variable in the current package, for use within the current lexical scope. In other words, <code><code>our</code></code> has the same scoping rules as <code><code>my</code></code> or <code><code>state</code></code>, but does not necessarily create a variable.</p>

<p>If more than one value is listed, the list must be placed in parentheses.</p>

<pre><code><code>    <span class="keyword">our</span> <span class="variable">$foo</span><span class="operator">;</span>
    <span class="keyword">our</span><span class="operator">(</span><span class="variable">$bar</span><span class="operator">,</span> <span class="variable">$baz</span><span class="operator">);</span>
</code></code></pre>

<p>An <code><code>our</code></code> declaration declares a global variable that will be visible across its entire lexical scope, even across package boundaries. The package in which the variable is entered is determined at the point of the declaration, not at the point of use. This means the following behavior holds:</p>

<pre><code><code>    <span class="keyword">package</span> <span class="variable">Foo</span><span class="operator">;</span>
    <span class="keyword">our</span> <span class="variable">$bar</span><span class="operator">;</span>      <span class="comment"># declares $Foo::bar for rest of lexical scope</span>
    <span class="variable">$bar</span> <span class="operator">=</span> <span class="number">20</span><span class="operator">;</span>
    
    <span class="keyword">package</span> <span class="variable">Bar</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="variable">$bar</span><span class="operator">;</span>    <span class="comment"># prints 20, as it refers to $Foo::bar</span>
</code></code></pre>

<p>Multiple <code><code>our</code></code> declarations with the same name in the same lexical scope are allowed if they are in different packages. If they happen to be in the same package, Perl will emit warnings if you have asked for them, just like multiple <code><code>my</code></code> declarations. Unlike a second <code><code>my</code></code> declaration, which will bind the name to a fresh variable, a second <code><code>our</code></code> declaration in the same package, in the same scope, is merely redundant.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">warnings</span><span class="operator">;</span>
    <span class="keyword">package</span> <span class="variable">Foo</span><span class="operator">;</span>
    <span class="keyword">our</span> <span class="variable">$bar</span><span class="operator">;</span>      <span class="comment"># declares $Foo::bar for rest of lexical scope</span>
    <span class="variable">$bar</span> <span class="operator">=</span> <span class="number">20</span><span class="operator">;</span>
    
    <span class="keyword">package</span> <span class="variable">Bar</span><span class="operator">;</span>
    <span class="keyword">our</span> <span class="variable">$bar</span> <span class="operator">=</span> <span class="number">30</span><span class="operator">;</span> <span class="comment"># declares $Bar::bar for rest of lexical scope</span>
    <span class="keyword">print</span> <span class="variable">$bar</span><span class="operator">;</span>    <span class="comment"># prints 30</span>
    
    <span class="keyword">our</span> <span class="variable">$bar</span><span class="operator">;</span>      <span class="comment"># emits warning but has no other effect</span>
    <span class="keyword">print</span> <span class="variable">$bar</span><span class="operator">;</span>    <span class="comment"># still prints 30</span>
</code></code></pre>

<p>An <code><code>our</code></code> declaration may also have a list of attributes associated with it.</p>

<p>The exact semantics and interface of TYPE and ATTRS are still evolving. TYPE is currently bound to the use of the <code><code>fields</code></code> pragma, and attributes are handled using the <code><code>attributes</code></code> pragma, or, starting from Perl 5.8.0, also via the <code><code>Attribute::Handlers</code></code> module. See <a href="../../lib/pods/perlsub.html#Private-Variables-via-my-">&quot;Private Variables via my()&quot; in perlsub</a> for details, and <a href="../../lib/fields.html">fields</a>, <a href="../../lib/attributes.html">attributes</a>, and <a href="../../lib/Attribute/Handlers.html">Attribute::Handlers</a>.</p>

</dd>
<dt id="pack-TEMPLATE-LIST">pack TEMPLATE,LIST </dt>
<dd>

<p>Takes a LIST of values and converts it into a string using the rules given by the TEMPLATE. The resulting string is the concatenation of the converted values. Typically, each converted value looks like its machine-level representation. For example, on 32-bit machines an integer may be represented by a sequence of 4 bytes, which will in Perl be presented as a string that&#39;s 4 characters long.</p>

<p>See <a href="../../lib/pods/perlpacktut.html">perlpacktut</a> for an introduction to this function.</p>

<p>The TEMPLATE is a sequence of characters that give the order and type of values, as follows:</p>

<pre><code><code>    a  A string with arbitrary binary data, will be null padded.
    A  A text (ASCII) string, will be space padded.
    Z  A null-terminated (ASCIZ) string, will be null padded.

    b  A bit string (ascending bit order inside each byte,
       like vec()).
    B  A bit string (descending bit order inside each byte).
    h  A hex string (low nybble first).
    H  A hex string (high nybble first).

    c  A signed char (8-bit) value.
    C  An unsigned char (octet) value.
    W  An unsigned char value (can be greater than 255).

    s  A signed short (16-bit) value.
    S  An unsigned short value.

    l  A signed long (32-bit) value.
    L  An unsigned long value.

    q  A signed quad (64-bit) value.
    Q  An unsigned quad value.
         (Quads are available only if your system supports 64-bit
          integer values _and_ if Perl has been compiled to support
          those.  Raises an exception otherwise.)

    i  A signed integer value.
    I  A unsigned integer value.
         (This &#39;integer&#39; is _at_least_ 32 bits wide.  Its exact
          size depends on what a local C compiler calls &#39;int&#39;.)

    n  An unsigned short (16-bit) in &quot;network&quot; (big-endian) order.
    N  An unsigned long (32-bit) in &quot;network&quot; (big-endian) order.
    v  An unsigned short (16-bit) in &quot;VAX&quot; (little-endian) order.
    V  An unsigned long (32-bit) in &quot;VAX&quot; (little-endian) order.

    j  A Perl internal signed integer value (IV).
    J  A Perl internal unsigned integer value (UV).

    f  A single-precision float in native format.
    d  A double-precision float in native format.

    F  A Perl internal floating-point value (NV) in native format
    D  A float of long-double precision in native format.
         (Long doubles are available only if your system supports
          long double values _and_ if Perl has been compiled to
          support those.  Raises an exception otherwise.)

    p  A pointer to a null-terminated string.
    P  A pointer to a structure (fixed-length string).

    u  A uuencoded string.
    U  A Unicode character number.  Encodes to a character in char-
       acter mode and UTF-8 (or UTF-EBCDIC in EBCDIC platforms) in
       byte mode.

    w  A BER compressed integer (not an ASN.1 BER, see perlpacktut
       for details).  Its bytes represent an unsigned integer in
       base 128, most significant digit first, with as few digits
       as possible.  Bit eight (the high bit) is set on each byte
       except the last.

    x  A null byte (a.k.a ASCII NUL, &quot;\000&quot;, chr(0))
    X  Back up a byte.
    @  Null-fill or truncate to absolute position, counted from the
       start of the innermost ()-group.
    .  Null-fill or truncate to absolute position specified by
       the value.
    (  Start of a ()-group.</code></code></pre>

<p>One or more modifiers below may optionally follow certain letters in the TEMPLATE (the second column lists letters for which the modifier is valid):</p>

<pre><code><code>    !   sSlLiI     Forces native (short, long, int) sizes instead
                   of fixed (16-/32-bit) sizes.

        xX         Make x and X act as alignment commands.

        nNvV       Treat integers as signed instead of unsigned.

        @.         Specify position as byte offset in the internal
                   representation of the packed string.  Efficient
                   but dangerous.

    &gt;   sSiIlLqQ   Force big-endian byte-order on the type.
        jJfFdDpP   (The &quot;big end&quot; touches the construct.)

    &lt;   sSiIlLqQ   Force little-endian byte-order on the type.
        jJfFdDpP   (The &quot;little end&quot; touches the construct.)</code></code></pre>

<p>The <code><code>&gt;</code></code> and <code><code>&lt;</code></code> modifiers can also be used on <code><code>()</code></code> groups to force a particular byte-order on all components in that group, including all its subgroups.</p>

<p>The following rules apply:</p>

<ul>

<li><p>Each letter may optionally be followed by a number indicating the repeat count. A numeric repeat count may optionally be enclosed in brackets, as in <code><code>pack(&quot;C[80]&quot;, @arr)</code></code>. The repeat count gobbles that many values from the LIST when used with all format types other than <code><code>a</code></code>, <code><code>A</code></code>, <code><code>Z</code></code>, <code><code>b</code></code>, <code><code>B</code></code>, <code><code>h</code></code>, <code><code>H</code></code>, <code><code>@</code></code>, <code><code>.</code></code>, <code><code>x</code></code>, <code><code>X</code></code>, and <code><code>P</code></code>, where it means something else, described below. Supplying a <code><code>*</code></code> for the repeat count instead of a number means to use however many items are left, except for:</p>

<ul>

<li><p><code><code>@</code></code>, <code><code>x</code></code>, and <code><code>X</code></code>, where it is equivalent to <code><code>0</code></code>.</p>

</li>
<li><p>&lt;.&gt;, where it means relative to the start of the string.</p>

</li>
<li><p><code><code>u</code></code>, where it is equivalent to 1 (or 45, which here is equivalent).</p>

</li>
</ul>

<p>One can replace a numeric repeat count with a template letter enclosed in brackets to use the packed byte length of the bracketed template for the repeat count.</p>

<p>For example, the template <code><code>x[L]</code></code> skips as many bytes as in a packed long, and the template <code><code>&quot;$t X[$t] $t&quot;</code></code> unpacks twice whatever $t (when variable-expanded) unpacks. If the template in brackets contains alignment commands (such as <code><code>x![d]</code></code>), its packed length is calculated as if the start of the template had the maximal possible alignment.</p>

<p>When used with <code><code>Z</code></code>, a <code><code>*</code></code> as the repeat count is guaranteed to add a trailing null byte, so the resulting string is always one byte longer than the byte length of the item itself.</p>

<p>When used with <code><code>@</code></code>, the repeat count represents an offset from the start of the innermost <code><code>()</code></code> group.</p>

<p>When used with <code><code>.</code></code>, the repeat count determines the starting position to calculate the value offset as follows:</p>

<ul>

<li><p>If the repeat count is <code><code>0</code></code>, it&#39;s relative to the current position.</p>

</li>
<li><p>If the repeat count is <code><code>*</code></code>, the offset is relative to the start of the packed string.</p>

</li>
<li><p>And if it&#39;s an integer <i>n</i>, the offset is relative to the start of the <i>n</i>th innermost <code><code>( )</code></code> group, or to the start of the string if <i>n</i> is bigger then the group level.</p>

</li>
</ul>

<p>The repeat count for <code><code>u</code></code> is interpreted as the maximal number of bytes to encode per line of output, with 0, 1 and 2 replaced by 45. The repeat count should not be more than 65.</p>

</li>
<li><p>The <code><code>a</code></code>, <code><code>A</code></code>, and <code><code>Z</code></code> types gobble just one value, but pack it as a string of length count, padding with nulls or spaces as needed. When unpacking, <code><code>A</code></code> strips trailing whitespace and nulls, <code><code>Z</code></code> strips everything after the first null, and <code><code>a</code></code> returns data with no stripping at all.</p>

<p>If the value to pack is too long, the result is truncated. If it&#39;s too long and an explicit count is provided, <code><code>Z</code></code> packs only <code><code>$count-1</code></code> bytes, followed by a null byte. Thus <code><code>Z</code></code> always packs a trailing null, except when the count is 0.</p>

</li>
<li><p>Likewise, the <code><code>b</code></code> and <code><code>B</code></code> formats pack a string that&#39;s that many bits long. Each such format generates 1 bit of the result. These are typically followed by a repeat count like <code><code>B8</code></code> or <code><code>B64</code></code>.</p>

<p>Each result bit is based on the least-significant bit of the corresponding input character, i.e., on <code><code>ord($char)%2</code></code>. In particular, characters <code><code>&quot;0&quot;</code></code> and <code><code>&quot;1&quot;</code></code> generate bits 0 and 1, as do characters <code><code>&quot;\000&quot;</code></code> and <code><code>&quot;\001&quot;</code></code>.</p>

<p>Starting from the beginning of the input string, each 8-tuple of characters is converted to 1 character of output. With format <code><code>b</code></code>, the first character of the 8-tuple determines the least-significant bit of a character; with format <code><code>B</code></code>, it determines the most-significant bit of a character.</p>

<p>If the length of the input string is not evenly divisible by 8, the remainder is packed as if the input string were padded by null characters at the end. Similarly during unpacking, &quot;extra&quot; bits are ignored.</p>

<p>If the input string is longer than needed, remaining characters are ignored.</p>

<p>A <code><code>*</code></code> for the repeat count uses all characters of the input field. On unpacking, bits are converted to a string of <code><code>0</code></code>s and <code><code>1</code></code>s.</p>

</li>
<li><p>The <code><code>h</code></code> and <code><code>H</code></code> formats pack a string that many nybbles (4-bit groups, representable as hexadecimal digits, <code><code>&quot;0&quot;..&quot;9&quot;</code></code> <code><code>&quot;a&quot;..&quot;f&quot;</code></code>) long.</p>

<p>For each such format, pack() generates 4 bits of result. With non-alphabetical characters, the result is based on the 4 least-significant bits of the input character, i.e., on <code><code>ord($char)%16</code></code>. In particular, characters <code><code>&quot;0&quot;</code></code> and <code><code>&quot;1&quot;</code></code> generate nybbles 0 and 1, as do bytes <code><code>&quot;\000&quot;</code></code> and <code><code>&quot;\001&quot;</code></code>. For characters <code><code>&quot;a&quot;..&quot;f&quot;</code></code> and <code><code>&quot;A&quot;..&quot;F&quot;</code></code>, the result is compatible with the usual hexadecimal digits, so that <code><code>&quot;a&quot;</code></code> and <code><code>&quot;A&quot;</code></code> both generate the nybble <code><code>0xA==10</code></code>. Use only these specific hex characters with this format.</p>

<p>Starting from the beginning of the template to pack(), each pair of characters is converted to 1 character of output. With format <code><code>h</code></code>, the first character of the pair determines the least-significant nybble of the output character; with format <code><code>H</code></code>, it determines the most-significant nybble.</p>

<p>If the length of the input string is not even, it behaves as if padded by a null character at the end. Similarly, &quot;extra&quot; nybbles are ignored during unpacking.</p>

<p>If the input string is longer than needed, extra characters are ignored.</p>

<p>A <code><code>*</code></code> for the repeat count uses all characters of the input field. For unpack(), nybbles are converted to a string of hexadecimal digits.</p>

</li>
<li><p>The <code><code>p</code></code> format packs a pointer to a null-terminated string. You are responsible for ensuring that the string is not a temporary value, as that could potentially get deallocated before you got around to using the packed result. The <code><code>P</code></code> format packs a pointer to a structure of the size indicated by the length. A null pointer is created if the corresponding value for <code><code>p</code></code> or <code><code>P</code></code> is <code><code>undef</code></code>; similarly with unpack(), where a null pointer unpacks into <code><code>undef</code></code>.</p>

<p>If your system has a strange pointer size--meaning a pointer is neither as big as an int nor as big as a long--it may not be possible to pack or unpack pointers in big- or little-endian byte order. Attempting to do so raises an exception.</p>

</li>
<li><p>The <code><code>/</code></code> template character allows packing and unpacking of a sequence of items where the packed structure contains a packed item count followed by the packed items themselves. This is useful when the structure you&#39;re unpacking has encoded the sizes or repeat counts for some of its fields within the structure itself as separate fields.</p>

<p>For <code><code>pack</code></code>, you write <i>length-item</i><code><code>/</code></code><i>sequence-item</i>, and the <i>length-item</i> describes how the length value is packed. Formats likely to be of most use are integer-packing ones like <code><code>n</code></code> for Java strings, <code><code>w</code></code> for ASN.1 or SNMP, and <code><code>N</code></code> for Sun XDR.</p>

<p>For <code><code>pack</code></code>, <i>sequence-item</i> may have a repeat count, in which case the minimum of that and the number of available items is used as the argument for <i>length-item</i>. If it has no repeat count or uses a &#39;*&#39;, the number of available items is used.</p>

<p>For <code><code>unpack</code></code>, an internal stack of integer arguments unpacked so far is used. You write <code><code>/</code></code><i>sequence-item</i> and the repeat count is obtained by popping off the last element from the stack. The <i>sequence-item</i> must not have a repeat count.</p>

<p>If <i>sequence-item</i> refers to a string type (<code><code>&quot;A&quot;</code></code>, <code><code>&quot;a&quot;</code></code>, or <code><code>&quot;Z&quot;</code></code>), the <i>length-item</i> is the string length, not the number of strings. With an explicit repeat count for pack, the packed string is adjusted to that length. For example:</p>

<pre><code><code> This code:                              gives this result:
 
  unpack(&quot;W/a&quot;, &quot;\004Gurusamy&quot;)          (&quot;Guru&quot;)
  unpack(&quot;a3/A A*&quot;, &quot;007 Bond  J &quot;)      (&quot; Bond&quot;, &quot;J&quot;)
  unpack(&quot;a3 x2 /A A*&quot;, &quot;007: Bond, J.&quot;) (&quot;Bond, J&quot;, &quot;.&quot;)

  pack(&quot;n/a* w/a&quot;,&quot;hello,&quot;,&quot;world&quot;)     &quot;\000\006hello,\005world&quot;
  pack(&quot;a/W2&quot;, ord(&quot;a&quot;) .. ord(&quot;z&quot;))    &quot;2ab&quot;</code></code></pre>

<p>The <i>length-item</i> is not returned explicitly from <code><code>unpack</code></code>.</p>

<p>Supplying a count to the <i>length-item</i> format letter is only useful with <code><code>A</code></code>, <code><code>a</code></code>, or <code><code>Z</code></code>. Packing with a <i>length-item</i> of <code><code>a</code></code> or <code><code>Z</code></code> may introduce <code><code>&quot;\000&quot;</code></code> characters, which Perl does not regard as legal in numeric strings.</p>

</li>
<li><p>The integer types <code><code>s</code></code>, <code><code>S</code></code>, <code><code>l</code></code>, and <code><code>L</code></code> may be followed by a <code><code>!</code></code> modifier to specify native shorts or longs. As shown in the example above, a bare <code><code>l</code></code> means exactly 32 bits, although the native <code><code>long</code></code> as seen by the local C compiler may be larger. This is mainly an issue on 64-bit platforms. You can see whether using <code><code>!</code></code> makes any difference this way:</p>

<pre><code><code>    <span class="keyword">printf</span> <span class="string">"format s is %d, s! is %d\n"</span><span class="operator">,</span> 
        <span class="keyword">length</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"s"</span><span class="operator">),</span> <span class="keyword">length</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"s!"</span><span class="operator">);</span>
    
    <span class="keyword">printf</span> <span class="string">"format l is %d, l! is %d\n"</span><span class="operator">,</span> 
        <span class="keyword">length</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"l"</span><span class="operator">),</span> <span class="keyword">length</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"l!"</span><span class="operator">);</span>
</code></code></pre>

<p><code><code>i!</code></code> and <code><code>I!</code></code> are also allowed, but only for completeness&#39; sake: they are identical to <code><code>i</code></code> and <code><code>I</code></code>.</p>

<p>The actual sizes (in bytes) of native shorts, ints, longs, and long longs on the platform where Perl was built are also available from the command line:</p>

<pre><code><code>    <span class="operator">$ </span><span class="variable">perl</span> <span class="operator">-</span><span class="variable">V</span><span class="operator">:</span><span class="operator">{</span><span class="variable">short</span><span class="operator">,</span><span class="keyword">int</span><span class="operator">,</span><span class="variable">long</span><span class="operator">{,</span><span class="variable">long</span><span class="operator">}</span><span class="operator">}</span><span class="variable">size</span>
    <span class="variable">shortsize</span><span class="operator">=</span><span class="string">'2'</span><span class="operator">;</span>
    <span class="variable">intsize</span><span class="operator">=</span><span class="string">'4'</span><span class="operator">;</span>
    <span class="variable">longsize</span><span class="operator">=</span><span class="string">'4'</span><span class="operator">;</span>
    <span class="variable">longlongsize</span><span class="operator">=</span><span class="string">'8'</span><span class="operator">;</span>
</code></code></pre>

<p>or programmatically via the <code><code>Config</code></code> module:</p>

<pre><code><code>       <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">shortsize</span><span class="operator">}</span><span class="operator">,</span>    <span class="string">"\n"</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">intsize</span><span class="operator">}</span><span class="operator">,</span>      <span class="string">"\n"</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longsize</span><span class="operator">}</span><span class="operator">,</span>     <span class="string">"\n"</span><span class="operator">;</span>
       <span class="keyword">print</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longlongsize</span><span class="operator">}</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p><code><code><span class="variable">$Config</span><span class="operator">{</span><span class="string">longlongsize</span><span class="operator">}</span>
</code></code> is undefined on systems without long long support.</p>

</li>
<li><p>The integer formats <code><code>s</code></code>, <code><code>S</code></code>, <code><code>i</code></code>, <code><code>I</code></code>, <code><code>l</code></code>, <code><code>L</code></code>, <code><code>j</code></code>, and <code><code>J</code></code> are inherently non-portable between processors and operating systems because they obey native byteorder and endianness. For example, a 4-byte integer 0x12345678 (305419896 decimal) would be ordered natively (arranged in and handled by the CPU registers) into bytes as</p>

<pre><code><code>    0x12 0x34 0x56 0x78  # big-endian
    0x78 0x56 0x34 0x12  # little-endian</code></code></pre>

<p>Basically, Intel and VAX CPUs are little-endian, while everybody else, including Motorola m68k/88k, PPC, Sparc, HP PA, Power, and Cray, are big-endian. Alpha and MIPS can be either: Digital/Compaq uses (well, used) them in little-endian mode, but SGI/Cray uses them in big-endian mode.</p>

<p>The names <i>big-endian</i> and <i>little-endian</i> are comic references to the egg-eating habits of the little-endian Lilliputians and the big-endian Blefuscudians from the classic Jonathan Swift satire, <i>Gulliver&#39;s Travels</i>. This entered computer lingo via the paper &quot;On Holy Wars and a Plea for Peace&quot; by Danny Cohen, USC/ISI IEN 137, April 1, 1980.</p>

<p>Some systems may have even weirder byte orders such as</p>

<pre><code><code>   0x56 0x78 0x12 0x34
   0x34 0x12 0x78 0x56</code></code></pre>

<p>You can determine your system endianness with this incantation:</p>

<pre><code><code>   <span class="keyword">printf</span><span class="operator">(</span><span class="string">"%#02x "</span><span class="operator">,</span> <span class="variable">$_</span><span class="operator">)</span> <span class="keyword">for</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"W*"</span><span class="operator">,</span> <span class="keyword">pack</span> <span class="string">L</span><span class="operator">=&gt;</span><span class="number">0x12345678</span><span class="operator">);</span> 
</code></code></pre>

<p>The byteorder on the platform where Perl was built is also available via <a href="../../lib/Config.html">Config</a>:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"</span><span class="variable">$Config</span><span class="string">{byteorder}\n"</span><span class="operator">;</span>
</code></code></pre>

<p>or from the command line:</p>

<pre><code><code>    $ perl -V:byteorder</code></code></pre>

<p>Byteorders <code><code>&quot;1234&quot;</code></code> and <code><code>&quot;12345678&quot;</code></code> are little-endian; <code><code>&quot;4321&quot;</code></code> and <code><code>&quot;87654321&quot;</code></code> are big-endian.</p>

<p>For portably packed integers, either use the formats <code><code>n</code></code>, <code><code>N</code></code>, <code><code>v</code></code>, and <code><code>V</code></code> or else use the <code><code>&gt;</code></code> and <code><code>&lt;</code></code> modifiers described immediately below. See also <a href="../../lib/pods/perlport.html">perlport</a>.</p>

</li>
<li><p>Starting with Perl 5.9.2, integer and floating-point formats, along with the <code><code>p</code></code> and <code><code>P</code></code> formats and <code><code>()</code></code> groups, may all be followed by the <code><code>&gt;</code></code> or <code><code>&lt;</code></code> endianness modifiers to respectively enforce big- or little-endian byte-order. These modifiers are especially useful given how <code><code>n</code></code>, <code><code>N</code></code>, <code><code>v</code></code>, and <code><code>V</code></code> don&#39;t cover signed integers, 64-bit integers, or floating-point values.</p>

<p>Here are some concerns to keep in mind when using an endianness modifier:</p>

<ul>

<li><p>Exchanging signed integers between different platforms works only when all platforms store them in the same format. Most platforms store signed integers in two&#39;s-complement notation, so usually this is not an issue.</p>

</li>
<li><p>The <code><code>&gt;</code></code> or <code><code>&lt;</code></code> modifiers can only be used on floating-point formats on big- or little-endian machines. Otherwise, attempting to use them raises an exception.</p>

</li>
<li><p>Forcing big- or little-endian byte-order on floating-point values for data exchange can work only if all platforms use the same binary representation such as IEEE floating-point. Even if all platforms are using IEEE, there may still be subtle differences. Being able to use <code><code>&gt;</code></code> or <code><code>&lt;</code></code> on floating-point values can be useful, but also dangerous if you don&#39;t know exactly what you&#39;re doing. It is not a general way to portably store floating-point values.</p>

</li>
<li><p>When using <code><code>&gt;</code></code> or <code><code>&lt;</code></code> on a <code><code>()</code></code> group, this affects all types inside the group that accept byte-order modifiers, including all subgroups. It is silently ignored for all other types. You are not allowed to override the byte-order within a group that already has a byte-order modifier suffix.</p>

</li>
</ul>

</li>
<li><p>Real numbers (floats and doubles) are in native machine format only. Due to the multiplicity of floating-point formats and the lack of a standard &quot;network&quot; representation for them, no facility for interchange has been made. This means that packed floating-point data written on one machine may not be readable on another, even if both use IEEE floating-point arithmetic (because the endianness of the memory representation is not part of the IEEE spec). See also <a href="../../lib/pods/perlport.html">perlport</a>.</p>

<p>If you know <i>exactly</i> what you&#39;re doing, you can use the <code><code>&gt;</code></code> or <code><code>&lt;</code></code> modifiers to force big- or little-endian byte-order on floating-point values.</p>

<p>Because Perl uses doubles (or long doubles, if configured) internally for all numeric calculation, converting from double into float and thence to double again loses precision, so <code><code>unpack(&quot;f&quot;, pack(&quot;f&quot;, $foo)</code></code>) will not in general equal $foo.</p>

</li>
<li><p>Pack and unpack can operate in two modes: character mode (<code><code>C0</code></code> mode) where the packed string is processed per character, and UTF-8 mode (<code><code>U0</code></code> mode) where the packed string is processed in its UTF-8-encoded Unicode form on a byte-by-byte basis. Character mode is the default unless the format string starts with <code><code>U</code></code>. You can always switch mode mid-format with an explicit <code><code>C0</code></code> or <code><code>U0</code></code> in the format. This mode remains in effect until the next mode change, or until the end of the <code><code>()</code></code> group it (directly) applies to.</p>

<p>Using <code><code>C0</code></code> to get Unicode characters while using <code><code>U0</code></code> to get <i>non</i>-Unicode bytes is not necessarily obvious. Probably only the first of these is what you want:</p>

<pre><code><code>    <span class="operator">$ </span><span class="variable">perl</span> <span class="operator">-</span><span class="variable">CS</span> <span class="operator">-</span><span class="variable">E</span> <span class="string">'say "\x{3B1}\x{3C9}"'</span> <span class="operator">|</span> 
      <span class="variable">perl</span> <span class="operator">-</span><span class="variable">CS</span> <span class="operator">-</span><span class="keyword">ne</span> <span class="string">'printf "%v04X\n", $_ for unpack("C0A*", $_)'</span>
    <span class="number">03</span><span class="variable">B1</span><span class="number">.03</span><span class="variable">C9</span>
    <span class="operator">$ </span><span class="variable">perl</span> <span class="operator">-</span><span class="variable">CS</span> <span class="operator">-</span><span class="variable">E</span> <span class="string">'say "\x{3B1}\x{3C9}"'</span> <span class="operator">|</span> 
      <span class="variable">perl</span> <span class="operator">-</span><span class="variable">CS</span> <span class="operator">-</span><span class="keyword">ne</span> <span class="string">'printf "%v02X\n", $_ for unpack("U0A*", $_)'</span>
    <span class="variable">CE</span><span class="operator">.</span><span class="variable">B1</span><span class="operator">.</span><span class="variable">CF</span><span class="number">.89</span>
    <span class="operator">$ </span><span class="variable">perl</span> <span class="operator">-</span><span class="variable">CS</span> <span class="operator">-</span><span class="variable">E</span> <span class="string">'say "\x{3B1}\x{3C9}"'</span> <span class="operator">|</span> 
      <span class="variable">perl</span> <span class="operator">-</span><span class="variable">C0</span> <span class="operator">-</span><span class="keyword">ne</span> <span class="string">'printf "%v02X\n", $_ for unpack("C0A*", $_)'</span>
    <span class="variable">CE</span><span class="operator">.</span><span class="variable">B1</span><span class="operator">.</span><span class="variable">CF</span><span class="number">.89</span>
    <span class="operator">$ </span><span class="variable">perl</span> <span class="operator">-</span><span class="variable">CS</span> <span class="operator">-</span><span class="variable">E</span> <span class="string">'say "\x{3B1}\x{3C9}"'</span> <span class="operator">|</span> 
      <span class="variable">perl</span> <span class="operator">-</span><span class="variable">C0</span> <span class="operator">-</span><span class="keyword">ne</span> <span class="string">'printf "%v02X\n", $_ for unpack("U0A*", $_)'</span>
    <span class="variable">C3</span><span class="number">.8E</span><span class="operator">.</span><span class="variable">C2</span><span class="operator">.</span><span class="variable">B1</span><span class="operator">.</span><span class="variable">C3</span><span class="number">.8</span><span class="variable">F</span><span class="operator">.</span><span class="variable">C2</span><span class="number">.89</span>
</code></code></pre>

<p>Those examples also illustrate that you should not try to use <code><code>pack</code></code>/<code><code>unpack</code></code> as a substitute for the <a href="../../lib/Encode.html">Encode</a> module.</p>

</li>
<li><p>You must yourself do any alignment or padding by inserting, for example, enough <code><code>&quot;x&quot;</code></code>es while packing. There is no way for pack() and unpack() to know where characters are going to or coming from, so they handle their output and input as flat sequences of characters.</p>

</li>
<li><p>A <code><code>()</code></code> group is a sub-TEMPLATE enclosed in parentheses. A group may take a repeat count either as postfix, or for unpack(), also via the <code><code>/</code></code> template character. Within each repetition of a group, positioning with <code><code>@</code></code> starts over at 0. Therefore, the result of</p>

<pre><code><code>    pack(&quot;@1A((@2A)@3A)&quot;, qw[X Y Z])</code></code></pre>

<p>is the string <code><code>&quot;\0X\0\0YZ&quot;</code></code>.</p>

</li>
<li><p><code><code>x</code></code> and <code><code>X</code></code> accept the <code><code>!</code></code> modifier to act as alignment commands: they jump forward or back to the closest position aligned at a multiple of <code><code>count</code></code> characters. For example, to pack() or unpack() a C structure like</p>

<pre><code><code>    <span class="variable">struct</span> <span class="operator">{</span>
        <span class="variable">char</span>   <span class="variable">c</span><span class="operator">;</span>    <span class="regex">/* one signed, 8-bit character */</span>
        <span class="variable">double</span> <span class="variable">d</span><span class="operator">;</span> 
        <span class="variable">char</span>   <span class="variable">cc</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>one may need to use the template <code><code>c x![d] d c[2]</code></code>. This assumes that doubles must be aligned to the size of double.</p>

<p>For alignment commands, a <code><code>count</code></code> of 0 is equivalent to a <code><code>count</code></code> of 1; both are no-ops.</p>

</li>
<li><p><code><code>n</code></code>, <code><code>N</code></code>, <code><code>v</code></code> and <code><code>V</code></code> accept the <code><code>!</code></code> modifier to represent signed 16-/32-bit integers in big-/little-endian order. This is portable only when all platforms sharing packed data use the same binary representation for signed integers; for example, when all platforms use two&#39;s-complement representation.</p>

</li>
<li><p>Comments can be embedded in a TEMPLATE using <code><code><span class="comment">#</span>
</code></code> through the end of line. White space can separate pack codes from each other, but modifiers and repeat counts must follow immediately. Breaking complex templates into individual line-by-line components, suitably annotated, can do as much to improve legibility and maintainability of pack/unpack formats as <code><code>/x</code></code> can for complicated pattern matches.</p>

</li>
<li><p>If TEMPLATE requires more arguments than pack() is given, pack() assumes additional <code><code>&quot;&quot;</code></code> arguments. If TEMPLATE requires fewer arguments than given, extra arguments are ignored.</p>

</li>
</ul>

<p>Examples:</p>

<pre><code><code>    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"WWWW"</span><span class="operator">,</span><span class="number">65</span><span class="operator">,</span><span class="number">66</span><span class="operator">,</span><span class="number">67</span><span class="operator">,</span><span class="number">68</span><span class="operator">);</span>
    <span class="comment"># foo eq "ABCD"</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"W4"</span><span class="operator">,</span><span class="number">65</span><span class="operator">,</span><span class="number">66</span><span class="operator">,</span><span class="number">67</span><span class="operator">,</span><span class="number">68</span><span class="operator">);</span>
    <span class="comment"># same thing</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"W4"</span><span class="operator">,</span><span class="number">0x24b6</span><span class="operator">,</span><span class="number">0x24b7</span><span class="operator">,</span><span class="number">0x24b8</span><span class="operator">,</span><span class="number">0x24b9</span><span class="operator">);</span>
    <span class="comment"># same thing with Unicode circled letters.</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"U4"</span><span class="operator">,</span><span class="number">0x24b6</span><span class="operator">,</span><span class="number">0x24b7</span><span class="operator">,</span><span class="number">0x24b8</span><span class="operator">,</span><span class="number">0x24b9</span><span class="operator">);</span>
    <span class="comment"># same thing with Unicode circled letters.  You don't get the</span>
    <span class="comment"># UTF-8 bytes because the U at the start of the format caused</span>
    <span class="comment"># a switch to U0-mode, so the UTF-8 bytes get joined into</span>
    <span class="comment"># characters</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"C0U4"</span><span class="operator">,</span><span class="number">0x24b6</span><span class="operator">,</span><span class="number">0x24b7</span><span class="operator">,</span><span class="number">0x24b8</span><span class="operator">,</span><span class="number">0x24b9</span><span class="operator">);</span>
    <span class="comment"># foo eq "\xe2\x92\xb6\xe2\x92\xb7\xe2\x92\xb8\xe2\x92\xb9"</span>
    <span class="comment"># This is the UTF-8 encoding of the string in the</span>
    <span class="comment"># previous example</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"ccxxcc"</span><span class="operator">,</span><span class="number">65</span><span class="operator">,</span><span class="number">66</span><span class="operator">,</span><span class="number">67</span><span class="operator">,</span><span class="number">68</span><span class="operator">);</span>
    <span class="comment"># foo eq "AB\0\0CD"</span>
    
    <span class="comment"># NOTE: The examples above featuring "W" and "c" are true</span>
    <span class="comment"># only on ASCII and ASCII-derived systems such as ISO Latin 1</span>
    <span class="comment"># and UTF-8.  On EBCDIC systems, the first example would be</span>
    <span class="comment">#      $foo = pack("WWWW",193,194,195,196);</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"s2"</span><span class="operator">,</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="operator">);</span>
    <span class="comment"># "\001\000\002\000" on little-endian</span>
    <span class="comment"># "\000\001\000\002" on big-endian</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"a4"</span><span class="operator">,</span><span class="string">"abcd"</span><span class="operator">,</span><span class="string">"x"</span><span class="operator">,</span><span class="string">"y"</span><span class="operator">,</span><span class="string">"z"</span><span class="operator">);</span>
    <span class="comment"># "abcd"</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"aaaa"</span><span class="operator">,</span><span class="string">"abcd"</span><span class="operator">,</span><span class="string">"x"</span><span class="operator">,</span><span class="string">"y"</span><span class="operator">,</span><span class="string">"z"</span><span class="operator">);</span>
    <span class="comment"># "axyz"</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"a14"</span><span class="operator">,</span><span class="string">"abcdefg"</span><span class="operator">);</span>
    <span class="comment"># "abcdefg\0\0\0\0\0\0\0"</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"i9pl"</span><span class="operator">,</span> <span class="keyword">gmtime</span><span class="operator">);</span>
    <span class="comment"># a real struct tm (on my system anyway)</span>
    
    <span class="variable">$utmp_template</span> <span class="operator">=</span> <span class="string">"Z8 Z8 Z16 L"</span><span class="operator">;</span>
    <span class="variable">$utmp</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="variable">$utmp_template</span><span class="operator">,</span> <span class="variable">@utmp1</span><span class="operator">);</span>
    <span class="comment"># a struct utmp (BSDish)</span>
    
    <span class="variable">@utmp2</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="variable">$utmp_template</span><span class="operator">,</span> <span class="variable">$utmp</span><span class="operator">);</span>
    <span class="comment"># "@utmp1" eq "@utmp2"</span>
    
    <span class="keyword">sub</span><span class="variable"> bintodec </span><span class="operator">{</span>
        <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"N"</span><span class="operator">,</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"B32"</span><span class="operator">,</span> <span class="keyword">substr</span><span class="operator">(</span><span class="string">"0"</span> <span class="operator">x</span> <span class="number">32</span> <span class="operator">.</span> <span class="keyword">shift</span><span class="operator">,</span> <span class="operator">-</span><span class="number">32</span><span class="operator">)));</span>
    <span class="operator">}</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'sx2l'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">);</span>
    <span class="comment"># short 12, two zero bytes padding, long 34</span>
    <span class="variable">$bar</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'s@4l'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">);</span>
    <span class="comment"># short 12, zero fill to position 4, long 34</span>
    <span class="comment"># $foo eq $bar</span>
    <span class="variable">$baz</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'s.l'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">34</span><span class="operator">);</span>
    <span class="comment"># short 12, zero fill to position 4, long 34</span>
    
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'nN'</span><span class="operator">,</span> <span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># pack big-endian 16- and 32-bit unsigned integers</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'S&gt;L&gt;'</span><span class="operator">,</span> <span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># exactly the same</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'s&lt;l&lt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># pack little-endian 16- and 32-bit signed integers</span>
    <span class="variable">$foo</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">'(sl)&lt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">42</span><span class="operator">,</span> <span class="number">4711</span><span class="operator">);</span>
    <span class="comment"># exactly the same</span>
</code></code></pre>

<p>The same template may generally also be used in unpack().</p>

</dd>
<dt id="package-NAMESPACE">package NAMESPACE</dt>
<dd>

</dd>
<dt id="package-NAMESPACE-VERSION">package NAMESPACE VERSION    </dt>
<dd>

</dd>
<dt id="package-NAMESPACE-BLOCK">package NAMESPACE BLOCK</dt>
<dd>

</dd>
<dt id="package-NAMESPACE-VERSION-BLOCK">package NAMESPACE VERSION BLOCK    </dt>
<dd>

<p>Declares the BLOCK or the rest of the compilation unit as being in the given namespace. The scope of the package declaration is either the supplied code BLOCK or, in the absence of a BLOCK, from the declaration itself through the end of current scope (the enclosing block, file, or <code><code>eval</code></code>). That is, the forms without a BLOCK are operative through the end of the current scope, just like the <code><code>my</code></code>, <code><code>state</code></code>, and <code><code>our</code></code> operators. All unqualified dynamic identifiers in this scope will be in the given namespace, except where overridden by another <code><code>package</code></code> declaration or when they&#39;re one of the special identifiers that qualify into <code><code>main::</code></code>, like <code><code>STDOUT</code></code>, <code><code>ARGV</code></code>, <code><code>ENV</code></code>, and the punctuation variables.</p>

<p>A package statement affects dynamic variables only, including those you&#39;ve used <code><code>local</code></code> on, but <i>not</i> lexical variables, which are created with <code><code>my</code></code>, <code><code>state</code></code>, or <code><code>our</code></code>. Typically it would be the first declaration in a file included by <code><code>require</code></code> or <code><code>use</code></code>. You can switch into a package in more than one place, since this only determines which default symbol table the compiler uses for the rest of that block. You can refer to identifiers in other packages than the current one by prefixing the identifier with the package name and a double colon, as in <code><code>$SomePack::var</code></code> or <code><code>ThatPack::INPUT_HANDLE</code></code>. If package name is omitted, the <code><code>main</code></code> package as assumed. That is, <code><code>$::sail</code></code> is equivalent to <code><code>$main::sail</code></code> (as well as to <code><code>$main&#39;sail</code></code>, still seen in ancient code, mostly from Perl 4).</p>

<p>If VERSION is provided, <code><code>package</code></code> sets the <code><code>$VERSION</code></code> variable in the given namespace to a <a href="../../lib/version.html">version</a> object with the VERSION provided. VERSION must be a &quot;strict&quot; style version number as defined by the <a href="../../lib/version.html">version</a> module: a positive decimal number (integer or decimal-fraction) without exponentiation or else a dotted-decimal v-string with a leading &#39;v&#39; character and at least three components. You should set <code><code>$VERSION</code></code> only once per package.</p>

<p>See <a href="../../lib/pods/perlmod.html#Packages">&quot;Packages&quot; in perlmod</a> for more information about packages, modules, and classes. See <a href="../../lib/pods/perlsub.html">perlsub</a> for other scoping issues.</p>

</dd>
<dt id="PACKAGE__">__PACKAGE__ </dt>
<dd>

<p>A special token that returns the name of the package in which it occurs.</p>

</dd>
<dt id="pipe-READHANDLE-WRITEHANDLE">pipe READHANDLE,WRITEHANDLE </dt>
<dd>

<p>Opens a pair of connected pipes like the corresponding system call. Note that if you set up a loop of piped processes, deadlock can occur unless you are very careful. In addition, note that Perl&#39;s pipes use IO buffering, so you may need to set <code><code>$|</code></code> to flush your WRITEHANDLE after each command, depending on the application.</p>

<p>See <a href="../../lib/IPC/Open2.html">IPC::Open2</a>, <a href="../../lib/IPC/Open3.html">IPC::Open3</a>, and <a href="../../lib/pods/perlipc.html#Bidirectional-Communication-with-Another-Process">&quot;Bidirectional Communication with Another Process&quot; in perlipc</a> for examples of such things.</p>

<p>On systems that support a close-on-exec flag on files, that flag is set on all newly opened file descriptors whose <code><code>fileno</code></code>s are <i>higher</i> than the current value of $^F (by default 2 for <code><code>STDERR</code></code>). See <a href="../../lib/pods/perlvar.html#F">&quot;$^F&quot; in perlvar</a>.</p>

</dd>
<dt id="pop-ARRAY">pop ARRAY  </dt>
<dd>

</dd>
<dt id="pop-EXPR">pop EXPR</dt>
<dd>

</dd>
<dt id="pop">pop</dt>
<dd>

<p>Pops and returns the last value of the array, shortening the array by one element.</p>

<p>Returns the undefined value if the array is empty, although this may also happen at other times. If ARRAY is omitted, pops the <code><code>@ARGV</code></code> array in the main program, but the <code><code>@_</code></code> array in subroutines, just like <code><code>shift</code></code>.</p>

<p>Starting with Perl 5.14, <code><code>pop</code></code> can take a scalar EXPR, which must hold a reference to an unblessed array. The argument will be dereferenced automatically. This aspect of <code><code>pop</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so push/pop/etc work on scalars (experimental)</span>
</code></code></pre>

</dd>
<dt id="pos-SCALAR">pos SCALAR  </dt>
<dd>

</dd>
<dt id="pos">pos</dt>
<dd>

<p>Returns the offset of where the last <code><code>m//g</code></code> search left off for the variable in question (<code><code>$_</code></code> is used when the variable is not specified). Note that 0 is a valid match offset. <code><code>undef</code></code> indicates that the search position is reset (usually due to match failure, but can also be because no match has yet been run on the scalar).</p>

<p><code><code>pos</code></code> directly accesses the location used by the regexp engine to store the offset, so assigning to <code><code>pos</code></code> will change that offset, and so will also influence the <code><code>\G</code></code> zero-width assertion in regular expressions. Both of these effects take place for the next match, so you can&#39;t affect the position with <code><code>pos</code></code> during the current match, such as in <code><code>(?{pos() = 5})</code></code> or <code><code>s//pos() = 5/e</code></code>.</p>

<p>Setting <code><code>pos</code></code> also resets the <i>matched with zero-length</i> flag, described under <a href="../../lib/pods/perlre.html#Repeated-Patterns-Matching-a-Zero-length-Substring">&quot;Repeated Patterns Matching a Zero-length Substring&quot; in perlre</a>.</p>

<p>Because a failed <code><code>m//gc</code></code> match doesn&#39;t reset the offset, the return from <code><code>pos</code></code> won&#39;t change either in this case. See <a href="../../lib/pods/perlre.html">perlre</a> and <a href="../../lib/pods/perlop.html">perlop</a>.</p>

</dd>
<dt id="print-FILEHANDLE-LIST">print FILEHANDLE LIST </dt>
<dd>

</dd>
<dt id="print-FILEHANDLE">print FILEHANDLE</dt>
<dd>

</dd>
<dt id="print-LIST">print LIST</dt>
<dd>

</dd>
<dt id="print">print</dt>
<dd>

<p>Prints a string or a list of strings. Returns true if successful. FILEHANDLE may be a scalar variable containing the name of or a reference to the filehandle, thus introducing one level of indirection. (NOTE: If FILEHANDLE is a variable and the next token is a term, it may be misinterpreted as an operator unless you interpose a <code><code>+</code></code> or put parentheses around the arguments.) If FILEHANDLE is omitted, prints to the last selected (see <a href="#select">&quot;select&quot;</a>) output handle. If LIST is omitted, prints <code><code>$_</code></code> to the currently selected output handle. To use FILEHANDLE alone to print the content of <code><code>$_</code></code> to it, you must use a real filehandle like <code><code>FH</code></code>, not an indirect one like <code><code>$fh</code></code>. To set the default output handle to something other than STDOUT, use the select operation.</p>

<p>The current value of <code><code>$,</code></code> (if any) is printed between each LIST item. The current value of <code><code>$\</code></code> (if any) is printed after the entire LIST has been printed. Because print takes a LIST, anything in the LIST is evaluated in list context, including any subroutines whose return lists you pass to <code><code>print</code></code>. Be careful not to follow the print keyword with a left parenthesis unless you want the corresponding right parenthesis to terminate the arguments to the print; put parentheses around all arguments (or interpose a <code><code>+</code></code>, but that doesn&#39;t look as good).</p>

<p>If you&#39;re storing handles in an array or hash, or in general whenever you&#39;re using any expression more complex than a bareword handle or a plain, unsubscripted scalar variable to retrieve it, you will have to use a block returning the filehandle value instead, in which case the LIST may not be omitted:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="operator">{</span> <span class="variable">$files</span><span class="operator">[</span><span class="variable">$i</span><span class="operator">]</span> <span class="operator">}</span> <span class="string">"stuff\n"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="operator">{</span> <span class="variable">$OK</span> <span class="operator">?</span> <span class="variable">STDOUT</span> <span class="operator">:</span> <span class="variable">STDERR</span> <span class="operator">}</span> <span class="string">"stuff\n"</span><span class="operator">;</span>
</code></code></pre>

<p>Printing to a closed pipe or socket will generate a SIGPIPE signal. See <a href="../../lib/pods/perlipc.html">perlipc</a> for more on signal handling.</p>

</dd>
<dt id="printf-FILEHANDLE-FORMAT-LIST">printf FILEHANDLE FORMAT, LIST </dt>
<dd>

</dd>
<dt id="printf-FILEHANDLE">printf FILEHANDLE</dt>
<dd>

</dd>
<dt id="printf-FORMAT-LIST">printf FORMAT, LIST</dt>
<dd>

</dd>
<dt id="printf">printf</dt>
<dd>

<p>Equivalent to <code><code>print FILEHANDLE sprintf(FORMAT, LIST)</code></code>, except that <code><code>$\</code></code> (the output record separator) is not appended. The first argument of the list will be interpreted as the <code><code>printf</code></code> format. See <a href="#sprintf-FORMAT-LIST">sprintf</a> for an explanation of the format argument. If you omit the LIST, <code><code>$_</code></code> is used; to use FILEHANDLE without a LIST, you must use a real filehandle like <code><code>FH</code></code>, not an indirect one like <code><code>$fh</code></code>. If <code><code>use locale</code></code> (including <code><code>use locale &#39;:not_characters&#39;</code></code>) is in effect and POSIX::setlocale() has been called, the character used for the decimal separator in formatted floating-point numbers is affected by the LC_NUMERIC locale setting. See <a href="../../lib/pods/perllocale.html">perllocale</a> and <a href="../../lib/POSIX.html">POSIX</a>.</p>

<p>Don&#39;t fall into the trap of using a <code><code>printf</code></code> when a simple <code><code>print</code></code> would do. The <code><code>print</code></code> is more efficient and less error prone.</p>

</dd>
<dt id="prototype-FUNCTION">prototype FUNCTION </dt>
<dd>

<p>Returns the prototype of a function as a string (or <code><code>undef</code></code> if the function has no prototype). FUNCTION is a reference to, or the name of, the function whose prototype you want to retrieve.</p>

<p>If FUNCTION is a string starting with <code><code>CORE::</code></code>, the rest is taken as a name for a Perl builtin. If the builtin is not <i>overridable</i> (such as <code><code>qw//</code></code>) or if its arguments cannot be adequately expressed by a prototype (such as <code><code>system</code></code>), prototype() returns <code><code>undef</code></code>, because the builtin does not really behave like a Perl function. Otherwise, the string describing the equivalent prototype is returned.</p>

</dd>
<dt id="push-ARRAY-LIST">push ARRAY,LIST  </dt>
<dd>

</dd>
<dt id="push-EXPR-LIST">push EXPR,LIST</dt>
<dd>

<p>Treats ARRAY as a stack by appending the values of LIST to the end of ARRAY. The length of ARRAY increases by the length of LIST. Has the same effect as</p>

<pre><code><code>    <span class="keyword">for</span> <span class="variable">$value</span> <span class="operator">(</span><span class="variable">LIST</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$ARRAY</span><span class="operator">[</span><span class="operator">++</span><span class="variable">$#ARRAY</span><span class="operator">]</span> <span class="operator">=</span> <span class="variable">$value</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>but is more efficient. Returns the number of elements in the array following the completed <code><code>push</code></code>.</p>

<p>Starting with Perl 5.14, <code><code>push</code></code> can take a scalar EXPR, which must hold a reference to an unblessed array. The argument will be dereferenced automatically. This aspect of <code><code>push</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so push/pop/etc work on scalars (experimental)</span>
</code></code></pre>

</dd>
<dt id="q-STRING-">q/STRING/</dt>
<dd>

</dd>
<dt id="qq-STRING-">qq/STRING/</dt>
<dd>

</dd>
<dt id="qw-STRING-">qw/STRING/</dt>
<dd>

</dd>
<dt id="qx-STRING-">qx/STRING/</dt>
<dd>

<p>Generalized quotes. See <a href="../../lib/pods/perlop.html#Quote-Like-Operators">&quot;Quote-Like Operators&quot; in perlop</a>.</p>

</dd>
<dt id="qr-STRING-">qr/STRING/</dt>
<dd>

<p>Regexp-like quote. See <a href="../../lib/pods/perlop.html#Regexp-Quote-Like-Operators">&quot;Regexp Quote-Like Operators&quot; in perlop</a>.</p>

</dd>
<dt id="quotemeta-EXPR">quotemeta EXPR  </dt>
<dd>

</dd>
<dt id="quotemeta">quotemeta</dt>
<dd>

<p>Returns the value of EXPR with all the ASCII non-&quot;word&quot; characters backslashed. (That is, all ASCII characters not matching <code><code>/[A-Za-z_0-9]/</code></code> will be preceded by a backslash in the returned string, regardless of any locale settings.) This is the internal function implementing the <code><code>\Q</code></code> escape in double-quoted strings. (See below for the behavior on non-ASCII code points.)</p>

<p>If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>quotemeta (and <code><code>\Q</code></code> ... <code><code>\E</code></code>) are useful when interpolating strings into regular expressions, because by default an interpolated variable will be considered a mini-regular expression. For example:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$sentence</span> <span class="operator">=</span> <span class="string">'The quick brown fox jumped over the lazy dog'</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$substring</span> <span class="operator">=</span> <span class="string">'quick.*?fox'</span><span class="operator">;</span>
    <span class="variable">$sentence</span> <span class="operator">=~</span> <span class="regex">s{</span><span class="variable">$substring</span><span class="regex">}{big bad wolf}</span><span class="operator">;</span>
</code></code></pre>

<p>Will cause <code><code>$sentence</code></code> to become <code><code>&#39;The big bad wolf jumped over...&#39;</code></code>.</p>

<p>On the other hand:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$sentence</span> <span class="operator">=</span> <span class="string">'The quick brown fox jumped over the lazy dog'</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$substring</span> <span class="operator">=</span> <span class="string">'quick.*?fox'</span><span class="operator">;</span>
    <span class="variable">$sentence</span> <span class="operator">=~</span> <span class="regex">s{\Q</span><span class="variable">$substring</span><span class="regex">\E}{big bad wolf}</span><span class="operator">;</span>
</code></code></pre>

<p>Or:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$sentence</span> <span class="operator">=</span> <span class="string">'The quick brown fox jumped over the lazy dog'</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$substring</span> <span class="operator">=</span> <span class="string">'quick.*?fox'</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$quoted_substring</span> <span class="operator">=</span> <span class="keyword">quotemeta</span><span class="operator">(</span><span class="variable">$substring</span><span class="operator">);</span>
    <span class="variable">$sentence</span> <span class="operator">=~</span> <span class="regex">s{</span><span class="variable">$quoted_substring</span><span class="regex">}{big bad wolf}</span><span class="operator">;</span>
</code></code></pre>

<p>Will both leave the sentence as is. Normally, when accepting literal string input from the user, quotemeta() or <code><code>\Q</code></code> must be used.</p>

<p>In Perl v5.14, all non-ASCII characters are quoted in non-UTF-8-encoded strings, but not quoted in UTF-8 strings.</p>

<p>Starting in Perl v5.16, Perl adopted a Unicode-defined strategy for quoting non-ASCII characters; the quoting of ASCII characters is unchanged.</p>

<p>Also unchanged is the quoting of non-UTF-8 strings when outside the scope of a <code><code>use feature &#39;unicode_strings&#39;</code></code>, which is to quote all characters in the upper Latin1 range. This provides complete backwards compatibility for old programs which do not use Unicode. (Note that <code><code>unicode_strings</code></code> is automatically enabled within the scope of a <span style="white-space: nowrap;"><code><code>use v5.12</code></code></span> or greater.)</p>

<p>Within the scope of <code><code>use locale</code></code>, all non-ASCII Latin1 code points are quoted whether the string is encoded as UTF-8 or not. As mentioned above, locale does not affect the quoting of ASCII-range characters. This protects against those locales where characters such as <code><code>&quot;|&quot;</code></code> are considered to be word characters.</p>

<p>Otherwise, Perl quotes non-ASCII characters using an adaptation from Unicode (see <a href="http://www.unicode.org/reports/tr31/">http://www.unicode.org/reports/tr31/</a>.) The only code points that are quoted are those that have any of the Unicode properties: Pattern_Syntax, Pattern_White_Space, White_Space, Default_Ignorable_Code_Point, or General_Category=Control.</p>

<p>Of these properties, the two important ones are Pattern_Syntax and Pattern_White_Space. They have been set up by Unicode for exactly this purpose of deciding which characters in a regular expression pattern should be quoted. No character that can be in an identifier has these properties.</p>

<p>Perl promises, that if we ever add regular expression pattern metacharacters to the dozen already defined (<code><code>\ | ( ) [ { ^ $ * + ? .</code></code>), that we will only use ones that have the Pattern_Syntax property. Perl also promises, that if we ever add characters that are considered to be white space in regular expressions (currently mostly affected by <code><code>/x</code></code>), they will all have the Pattern_White_Space property.</p>

<p>Unicode promises that the set of code points that have these two properties will never change, so something that is not quoted in v5.16 will never need to be quoted in any future Perl release. (Not all the code points that match Pattern_Syntax have actually had characters assigned to them; so there is room to grow, but they are quoted whether assigned or not. Perl, of course, would never use an unassigned code point as an actual metacharacter.)</p>

<p>Quoting characters that have the other 3 properties is done to enhance the readability of the regular expression and not because they actually need to be quoted for regular expression purposes (characters with the White_Space property are likely to be indistinguishable on the page or screen from those with the Pattern_White_Space property; and the other two properties contain non-printing characters).</p>

</dd>
<dt id="rand-EXPR">rand EXPR  </dt>
<dd>

</dd>
<dt id="rand">rand</dt>
<dd>

<p>Returns a random fractional number greater than or equal to <code><code>0</code></code> and less than the value of EXPR. (EXPR should be positive.) If EXPR is omitted, the value <code><code>1</code></code> is used. Currently EXPR with the value <code><code>0</code></code> is also special-cased as <code><code>1</code></code> (this was undocumented before Perl 5.8.0 and is subject to change in future versions of Perl). Automatically calls <code><code>srand</code></code> unless <code><code>srand</code></code> has already been called. See also <code><code>srand</code></code>.</p>

<p>Apply <code><code>int()</code></code> to the value returned by <code><code>rand()</code></code> if you want random integers instead of random fractional numbers. For example,</p>

<pre><code><code>    int(rand(10))</code></code></pre>

<p>returns a random integer between <code><code>0</code></code> and <code><code>9</code></code>, inclusive.</p>

<p>(Note: If your rand function consistently returns numbers that are too large or too small, then your version of Perl was probably compiled with the wrong number of RANDBITS.)</p>

<p><b><code><code>rand()</code></code> is not cryptographically secure. You should not rely on it in security-sensitive situations.</b> As of this writing, a number of third-party CPAN modules offer random number generators intended by their authors to be cryptographically secure, including: <a>Data::Entropy</a>, <a>Crypt::Random</a>, <a>Math::Random::Secure</a>, and <a>Math::TrulyRandom</a>.</p>

</dd>
<dt id="read-FILEHANDLE-SCALAR-LENGTH-OFFSET">read FILEHANDLE,SCALAR,LENGTH,OFFSET  </dt>
<dd>

</dd>
<dt id="read-FILEHANDLE-SCALAR-LENGTH">read FILEHANDLE,SCALAR,LENGTH</dt>
<dd>

<p>Attempts to read LENGTH <i>characters</i> of data into variable SCALAR from the specified FILEHANDLE. Returns the number of characters actually read, <code><code>0</code></code> at end of file, or undef if there was an error (in the latter case <code><code>$!</code></code> is also set). SCALAR will be grown or shrunk so that the last character actually read is the last character of the scalar after the read.</p>

<p>An OFFSET may be specified to place the read data at some place in the string other than the beginning. A negative OFFSET specifies placement at that many characters counting backwards from the end of the string. A positive OFFSET greater than the length of SCALAR results in the string being padded to the required size with <code><code>&quot;\0&quot;</code></code> bytes before the result of the read is appended.</p>

<p>The call is implemented in terms of either Perl&#39;s or your system&#39;s native fread(3) library function. To get a true read(2) system call, see <a href="#sysread-FILEHANDLE-SCALAR-LENGTH-OFFSET">sysread</a>.</p>

<p>Note the <i>characters</i>: depending on the status of the filehandle, either (8-bit) bytes or characters are read. By default, all filehandles operate on bytes, but for example if the filehandle has been opened with the <code><code>:utf8</code></code> I/O layer (see <a href="#open">&quot;open&quot;</a>, and the <code><code>open</code></code> pragma, <a href="../../lib/open.html">open</a>), the I/O will operate on UTF8-encoded Unicode characters, not bytes. Similarly for the <code><code>:encoding</code></code> pragma: in that case pretty much any characters can be read.</p>

</dd>
<dt id="readdir-DIRHANDLE">readdir DIRHANDLE </dt>
<dd>

<p>Returns the next directory entry for a directory opened by <code><code>opendir</code></code>. If used in list context, returns all the rest of the entries in the directory. If there are no more entries, returns the undefined value in scalar context and the empty list in list context.</p>

<p>If you&#39;re planning to filetest the return values out of a <code><code>readdir</code></code>, you&#39;d better prepend the directory in question. Otherwise, because we didn&#39;t <code><code>chdir</code></code> there, it would have been testing the wrong file.</p>

<pre><code><code>    <span class="keyword">opendir</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$dh</span><span class="operator">,</span> <span class="variable">$some_dir</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">die</span> <span class="string">"can't opendir </span><span class="variable">$some_dir</span><span class="string">: $!"</span><span class="operator">;</span>
    <span class="variable">@dots</span> <span class="operator">=</span> <span class="keyword">grep</span> <span class="operator">{</span> <span class="regex">/^\./</span> <span class="operator">&amp;&amp;</span> <span class="keyword">-f</span> <span class="string">"</span><span class="variable">$some_dir</span><span class="string">/</span><span class="variable">$_</span><span class="string">"</span> <span class="operator">}</span> <span class="keyword">readdir</span><span class="operator">(</span><span class="variable">$dh</span><span class="operator">);</span>
    <span class="keyword">closedir</span> <span class="variable">$dh</span><span class="operator">;</span>
</code></code></pre>

<p>As of Perl 5.11.2 you can use a bare <code><code>readdir</code></code> in a <code><code>while</code></code> loop, which will set <code><code>$_</code></code> on every iteration.</p>

<pre><code><code>    <span class="keyword">opendir</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$dh</span><span class="operator">,</span> <span class="variable">$some_dir</span><span class="operator">)</span> <span class="operator">||</span> <span class="keyword">die</span><span class="operator">;</span>
    <span class="keyword">while</span><span class="operator">(</span><span class="keyword">readdir</span> <span class="variable">$dh</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"</span><span class="variable">$some_dir</span><span class="string">/</span><span class="variable">$_</span><span class="string">\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">closedir</span> <span class="variable">$dh</span><span class="operator">;</span>
</code></code></pre>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious failures, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.012</span><span class="operator">;</span> <span class="comment"># so readdir assigns to $_ in a lone while test</span>
</code></code></pre>

</dd>
<dt id="readline-EXPR">readline EXPR</dt>
<dd>

</dd>
<dt id="readline">readline   </dt>
<dd>

<p>Reads from the filehandle whose typeglob is contained in EXPR (or from <code><code>*ARGV</code></code> if EXPR is not provided). In scalar context, each call reads and returns the next line until end-of-file is reached, whereupon the subsequent call returns <code><code>undef</code></code>. In list context, reads until end-of-file is reached and returns a list of lines. Note that the notion of &quot;line&quot; used here is whatever you may have defined with <code><code>$/</code></code> or <code><code>$INPUT_RECORD_SEPARATOR</code></code>). See <a href="../../lib/pods/perlvar.html#pod-">&quot;$/&quot; in perlvar</a>.</p>

<p>When <code><code>$/</code></code> is set to <code><code>undef</code></code>, when <code><code>readline</code></code> is in scalar context (i.e., file slurp mode), and when an empty file is read, it returns <code><code>&#39;&#39;</code></code> the first time, followed by <code><code>undef</code></code> subsequently.</p>

<p>This is the internal function implementing the <code><code>&lt;EXPR&gt;</code></code> operator, but you can use it directly. The <code><code>&lt;EXPR&gt;</code></code> operator is discussed in more detail in <a href="../../lib/pods/perlop.html#I-O-Operators">&quot;I/O Operators&quot; in perlop</a>.</p>

<pre><code><code>    <span class="variable">$line</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;;</span>
    <span class="variable">$line</span> <span class="operator">=</span> <span class="keyword">readline</span><span class="operator">(</span><span class="variable">*STDIN</span><span class="operator">);</span>    <span class="comment"># same thing</span>
</code></code></pre>

<p>If <code><code>readline</code></code> encounters an operating system error, <code><code>$!</code></code> will be set with the corresponding error message. It can be helpful to check <code><code>$!</code></code> when you are reading from filehandles you don&#39;t trust, such as a tty or a socket. The following example uses the operator form of <code><code>readline</code></code> and dies if the result is not defined.</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">(</span> <span class="operator">!</span> <span class="keyword">eof</span><span class="operator">(</span><span class="variable">$fh</span><span class="operator">)</span> <span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">defined</span><span class="operator">(</span> <span class="variable">$_</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">$fh</span><span class="operator">&gt;</span> <span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"readline failed: $!"</span><span class="operator">;</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Note that you have can&#39;t handle <code><code>readline</code></code> errors that way with the <code><code>ARGV</code></code> filehandle. In that case, you have to open each element of <code><code>@ARGV</code></code> yourself since <code><code>eof</code></code> handles <code><code>ARGV</code></code> differently.</p>

<pre><code><code>    <span class="keyword">foreach</span> <span class="keyword">my</span> <span class="variable">$arg</span> <span class="operator">(</span><span class="variable">@ARGV</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">open</span><span class="operator">(</span><span class="keyword">my</span> <span class="variable">$fh</span><span class="operator">,</span> <span class="variable">$arg</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">warn</span> <span class="string">"Can't open </span><span class="variable">$arg</span><span class="string">: $!"</span><span class="operator">;</span>
    
        <span class="keyword">while</span> <span class="operator">(</span> <span class="operator">!</span> <span class="keyword">eof</span><span class="operator">(</span><span class="variable">$fh</span><span class="operator">)</span> <span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">defined</span><span class="operator">(</span> <span class="variable">$_</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">$fh</span><span class="operator">&gt;</span> <span class="operator">)</span>
                <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"readline failed for </span><span class="variable">$arg</span><span class="string">: $!"</span><span class="operator">;</span>
            <span class="operator">...</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="readlink-EXPR">readlink EXPR </dt>
<dd>

</dd>
<dt id="readlink">readlink</dt>
<dd>

<p>Returns the value of a symbolic link, if symbolic links are implemented. If not, raises an exception. If there is a system error, returns the undefined value and sets <code><code>$!</code></code> (errno). If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#readlink">&quot;readlink&quot; in perlport</a>.</p>

</dd>
<dt id="readpipe-EXPR">readpipe EXPR</dt>
<dd>

</dd>
<dt id="readpipe">readpipe </dt>
<dd>

<p>EXPR is executed as a system command. The collected standard output of the command is returned. In scalar context, it comes back as a single (potentially multi-line) string. In list context, returns a list of lines (however you&#39;ve defined lines with <code><code>$/</code></code> or <code><code>$INPUT_RECORD_SEPARATOR</code></code>). This is the internal function implementing the <code><code>qx/EXPR/</code></code> operator, but you can use it directly. The <code><code>qx/EXPR/</code></code> operator is discussed in more detail in <a href="../../lib/pods/perlop.html#I-O-Operators">&quot;I/O Operators&quot; in perlop</a>. If EXPR is omitted, uses <code><code>$_</code></code>.</p>

</dd>
<dt id="recv-SOCKET-SCALAR-LENGTH-FLAGS">recv SOCKET,SCALAR,LENGTH,FLAGS </dt>
<dd>

<p>Receives a message on a socket. Attempts to receive LENGTH characters of data into variable SCALAR from the specified SOCKET filehandle. SCALAR will be grown or shrunk to the length actually read. Takes the same flags as the system call of the same name. Returns the address of the sender if SOCKET&#39;s protocol supports this; returns an empty string otherwise. If there&#39;s an error, returns the undefined value. This call is actually implemented in terms of recvfrom(2) system call. See <a href="../../lib/pods/perlipc.html#UDP:-Message-Passing">&quot;UDP: Message Passing&quot; in perlipc</a> for examples.</p>

<p>Note the <i>characters</i>: depending on the status of the socket, either (8-bit) bytes or characters are received. By default all sockets operate on bytes, but for example if the socket has been changed using binmode() to operate with the <code><code>:encoding(utf8)</code></code> I/O layer (see the <code><code>open</code></code> pragma, <a href="../../lib/open.html">open</a>), the I/O will operate on UTF8-encoded Unicode characters, not bytes. Similarly for the <code><code>:encoding</code></code> pragma: in that case pretty much any characters can be read.</p>

</dd>
<dt id="redo-LABEL">redo LABEL </dt>
<dd>

</dd>
<dt id="redo">redo</dt>
<dd>

<p>The <code><code>redo</code></code> command restarts the loop block without evaluating the conditional again. The <code><code>continue</code></code> block, if any, is not executed. If the LABEL is omitted, the command refers to the innermost enclosing loop. Programs that want to lie to themselves about what was just input normally use this command:</p>

<pre><code><code>    <span class="comment"># a simpleminded Pascal comment stripper</span>
    <span class="comment"># (warning: assumes no { or } in strings)</span>
    <span class="variable">LINE</span><span class="operator">:</span> <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
        <span class="keyword">while</span> <span class="operator">(</span><span class="regex">s|({.*}.*){.*}|$1 |</span><span class="operator">)</span> <span class="operator">{}</span>
        <span class="regex">s|{.*}| |</span><span class="operator">;</span>
        <span class="keyword">if</span> <span class="operator">(</span><span class="regex">s|{.*| |</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="variable">$front</span> <span class="operator">=</span> <span class="variable">$_</span><span class="operator">;</span>
            <span class="keyword">while</span> <span class="operator">(&lt;</span><span class="variable">STDIN</span><span class="operator">&gt;)</span> <span class="operator">{</span>
                <span class="keyword">if</span> <span class="operator">(</span><span class="regex">/}/</span><span class="operator">)</span> <span class="operator">{</span>  <span class="comment"># end of comment?</span>
                    <span class="regex">s|^|$front\{|</span><span class="operator">;</span>
                    <span class="keyword">redo</span> <span class="variable">LINE</span><span class="operator">;</span>
                <span class="operator">}</span>
            <span class="operator">}</span>
        <span class="operator">}</span>
        <span class="keyword">print</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p><code><code>redo</code></code> cannot be used to retry a block that returns a value such as <code><code><span class="keyword">eval</span> <span class="operator">{}</span>
</code></code>, <code><code><span class="keyword">sub</span><span class="variable"> </span><span class="operator">{}</span>
</code></code>, or <code><code><span class="keyword">do</span> <span class="operator">{}</span>
</code></code>, and should not be used to exit a grep() or map() operation.</p>

<p>Note that a block by itself is semantically identical to a loop that executes once. Thus <code><code>redo</code></code> inside such a block will effectively turn it into a looping construct.</p>

<p>See also <a href="#continue">&quot;continue&quot;</a> for an illustration of how <code><code>last</code></code>, <code><code>next</code></code>, and <code><code>redo</code></code> work.</p>

</dd>
<dt id="ref-EXPR">ref EXPR  </dt>
<dd>

</dd>
<dt id="ref">ref</dt>
<dd>

<p>Returns a non-empty string if EXPR is a reference, the empty string otherwise. If EXPR is not specified, <code><code>$_</code></code> will be used. The value returned depends on the type of thing the reference is a reference to. Builtin types include:</p>

<pre><code><code>    SCALAR
    ARRAY
    HASH
    CODE
    REF
    GLOB
    LVALUE
    FORMAT
    IO
    VSTRING
    Regexp</code></code></pre>

<p>If the referenced object has been blessed into a package, then that package name is returned instead. You can think of <code><code>ref</code></code> as a <code><code>typeof</code></code> operator.</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">ref</span><span class="operator">(</span><span class="variable">$r</span><span class="operator">)</span> <span class="keyword">eq</span> <span class="string">"HASH"</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"r is a reference to a hash.\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">unless</span> <span class="operator">(</span><span class="keyword">ref</span><span class="operator">(</span><span class="variable">$r</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"r is not a reference at all.\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>The return value <code><code>LVALUE</code></code> indicates a reference to an lvalue that is not a variable. You get this from taking the reference of function calls like <code><code>pos()</code></code> or <code><code>substr()</code></code>. <code><code>VSTRING</code></code> is returned if the reference points to a <a href="../../lib/pods/perldata.html#Version-Strings">version string</a>.</p>

<p>The result <code><code>Regexp</code></code> indicates that the argument is a regular expression resulting from <code><code>qr//</code></code>.</p>

<p>See also <a href="../../lib/pods/perlref.html">perlref</a>.</p>

</dd>
<dt id="rename-OLDNAME-NEWNAME">rename OLDNAME,NEWNAME    </dt>
<dd>

<p>Changes the name of a file; an existing file NEWNAME will be clobbered. Returns true for success, false otherwise.</p>

<p>Behavior of this function varies wildly depending on your system implementation. For example, it will usually not work across file system boundaries, even though the system <i>mv</i> command sometimes compensates for this. Other restrictions include whether it works on directories, open files, or pre-existing files. Check <a href="../../lib/pods/perlport.html">perlport</a> and either the rename(2) manpage or equivalent system documentation for details.</p>

<p>For a platform independent <code><code>move</code></code> function look at the <a href="../../lib/File/Copy.html">File::Copy</a> module.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#rename">&quot;rename&quot; in perlport</a>.</p>

</dd>
<dt id="require-VERSION">require VERSION </dt>
<dd>

</dd>
<dt id="require-EXPR">require EXPR</dt>
<dd>

</dd>
<dt id="require">require</dt>
<dd>

<p>Demands a version of Perl specified by VERSION, or demands some semantics specified by EXPR or by <code><code>$_</code></code> if EXPR is not supplied.</p>

<p>VERSION may be either a numeric argument such as 5.006, which will be compared to <code><code>$]</code></code>, or a literal of the form v5.6.1, which will be compared to <code><code>$^V</code></code> (aka $PERL_VERSION). An exception is raised if VERSION is greater than the version of the current Perl interpreter. Compare with <a href="#use">&quot;use&quot;</a>, which can do a similar check at compile time.</p>

<p>Specifying VERSION as a literal of the form v5.6.1 should generally be avoided, because it leads to misleading error messages under earlier versions of Perl that do not support this syntax. The equivalent numeric version should be used instead.</p>

<pre><code><code>    <span class="keyword">require</span> <span class="variable">v5</span><span class="number">.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>     <span class="comment"># run time version check</span>
    <span class="keyword">require</span> <span class="number">5.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>      <span class="comment"># ditto</span>
    <span class="keyword">require</span> <span class="number">5.006_001</span><span class="operator">;</span>  <span class="comment"># ditto; preferred for backwards compatibility</span>
</code></code></pre>

<p>Otherwise, <code><code>require</code></code> demands that a library file be included if it hasn&#39;t already been included. The file is included via the do-FILE mechanism, which is essentially just a variety of <code><code>eval</code></code> with the caveat that lexical variables in the invoking script will be invisible to the included code. Has semantics similar to the following subroutine:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> require </span><span class="operator">{</span>
       <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
       <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">exists</span> <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span><span class="operator">)</span> <span class="operator">{</span>
           <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span><span class="operator">;</span>
           <span class="keyword">die</span> <span class="string">"Compilation failed in require"</span><span class="operator">;</span>
       <span class="operator">}</span>
       <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$realfilename</span><span class="operator">,</span><span class="variable">$result</span><span class="operator">);</span>
       <span class="variable">ITER</span><span class="operator">:</span> <span class="operator">{</span>
           <span class="keyword">foreach</span> <span class="variable">$prefix</span> <span class="operator">(</span><span class="variable">@INC</span><span class="operator">)</span> <span class="operator">{</span>
               <span class="variable">$realfilename</span> <span class="operator">=</span> <span class="string">"</span><span class="variable">$prefix</span><span class="string">/</span><span class="variable">$filename</span><span class="string">"</span><span class="operator">;</span>
               <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">-f</span> <span class="variable">$realfilename</span><span class="operator">)</span> <span class="operator">{</span>
                   <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span> <span class="operator">=</span> <span class="variable">$realfilename</span><span class="operator">;</span>
                   <span class="variable">$result</span> <span class="operator">=</span> <span class="keyword">do</span> <span class="variable">$realfilename</span><span class="operator">;</span>
                   <span class="keyword">last</span> <span class="variable">ITER</span><span class="operator">;</span>
               <span class="operator">}</span>
           <span class="operator">}</span>
           <span class="keyword">die</span> <span class="string">"Can't find </span><span class="variable">$filename</span><span class="string"> in \@INC"</span><span class="operator">;</span>
       <span class="operator">}</span>
       <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$@</span><span class="operator">)</span> <span class="operator">{</span>
           <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">undef</span><span class="operator">;</span>
           <span class="keyword">die</span> <span class="variable">$@</span><span class="operator">;</span>
       <span class="operator">}</span> <span class="keyword">elsif</span> <span class="operator">(!</span><span class="variable">$result</span><span class="operator">)</span> <span class="operator">{</span>
           <span class="keyword">delete</span> <span class="variable">$INC</span><span class="operator">{</span><span class="variable">$filename</span><span class="operator">}</span><span class="operator">;</span>
           <span class="keyword">die</span> <span class="string">"</span><span class="variable">$filename</span><span class="string"> did not return true value"</span><span class="operator">;</span>
       <span class="operator">}</span> <span class="keyword">else</span> <span class="operator">{</span>
           <span class="keyword">return</span> <span class="variable">$result</span><span class="operator">;</span>
       <span class="operator">}</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Note that the file will not be included twice under the same specified name.</p>

<p>The file must return true as the last statement to indicate successful execution of any initialization code, so it&#39;s customary to end such a file with <code><code><span class="number">1</span><span class="operator">;</span>
</code></code> unless you&#39;re sure it&#39;ll return true otherwise. But it&#39;s better just to put the <code><code><span class="number">1</span><span class="operator">;</span>
</code></code>, in case you add more statements.</p>

<p>If EXPR is a bareword, the require assumes a &quot;<i>.pm</i>&quot; extension and replaces &quot;<i>::</i>&quot; with &quot;<i>/</i>&quot; in the filename for you, to make it easy to load standard modules. This form of loading of modules does not risk altering your namespace.</p>

<p>In other words, if you try this:</p>

<pre><code><code>        <span class="keyword">require</span> <span class="variable">Foo::Bar</span><span class="operator">;</span>     <span class="comment"># a splendid bareword</span>
</code></code></pre>

<p>The require function will actually look for the &quot;<i>Foo/Bar.pm</i>&quot; file in the directories specified in the <code><code>@INC</code></code> array.</p>

<p>But if you try this:</p>

<pre><code><code>        <span class="variable">$class</span> <span class="operator">=</span> <span class="string">'Foo::Bar'</span><span class="operator">;</span>
        <span class="keyword">require</span> <span class="variable">$class</span><span class="operator">;</span>       <span class="comment"># $class is not a bareword</span>
            <span class="comment">#or</span>
        <span class="keyword">require</span> <span class="string">"Foo::Bar"</span><span class="operator">;</span>   <span class="comment"># not a bareword because of the ""</span>
</code></code></pre>

<p>The require function will look for the &quot;<i>Foo::Bar</i>&quot; file in the @INC array and will complain about not finding &quot;<i>Foo::Bar</i>&quot; there. In this case you can do:</p>

<pre><code><code>        <span class="keyword">eval</span> <span class="string">"require </span><span class="variable">$class</span><span class="string">"</span><span class="operator">;</span>
</code></code></pre>

<p>Now that you understand how <code><code>require</code></code> looks for files with a bareword argument, there is a little extra functionality going on behind the scenes. Before <code><code>require</code></code> looks for a &quot;<i>.pm</i>&quot; extension, it will first look for a similar filename with a &quot;<i>.pmc</i>&quot; extension. If this file is found, it will be loaded in place of any file ending in a &quot;<i>.pm</i>&quot; extension.</p>

<p>You can also insert hooks into the import facility by putting Perl code directly into the @INC array. There are three forms of hooks: subroutine references, array references, and blessed objects.</p>

<p>Subroutine references are the simplest case. When the inclusion system walks through @INC and encounters a subroutine, this subroutine gets called with two parameters, the first a reference to itself, and the second the name of the file to be included (e.g., &quot;<i>Foo/Bar.pm</i>&quot;). The subroutine should return either nothing or else a list of up to three values in the following order:</p>

<ol>

<li><p>A filehandle, from which the file will be read.</p>

</li>
<li><p>A reference to a subroutine. If there is no filehandle (previous item), then this subroutine is expected to generate one line of source code per call, writing the line into <code><code>$_</code></code> and returning 1, then finally at end of file returning 0. If there is a filehandle, then the subroutine will be called to act as a simple source filter, with the line as read in <code><code>$_</code></code>. Again, return 1 for each valid line, and 0 after all lines have been returned.</p>

</li>
<li><p>Optional state for the subroutine. The state is passed in as <code><code>$_[1]</code></code>. A reference to the subroutine itself is passed in as <code><code>$_[0]</code></code>.</p>

</li>
</ol>

<p>If an empty list, <code><code>undef</code></code>, or nothing that matches the first 3 values above is returned, then <code><code>require</code></code> looks at the remaining elements of @INC. Note that this filehandle must be a real filehandle (strictly a typeglob or reference to a typeglob, whether blessed or unblessed); tied filehandles will be ignored and processing will stop there.</p>

<p>If the hook is an array reference, its first element must be a subroutine reference. This subroutine is called as above, but the first parameter is the array reference. This lets you indirectly pass arguments to the subroutine.</p>

<p>In other words, you can write:</p>

<pre><code><code>    <span class="keyword">push</span> <span class="variable">@INC</span><span class="operator">,</span> <span class="operator">\&amp;</span><span class="variable">my_sub</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> my_sub </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$coderef</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>  <span class="comment"># $coderef is \&amp;my_sub</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
</code></code></pre>

<p>or:</p>

<pre><code><code>    <span class="keyword">push</span> <span class="variable">@INC</span><span class="operator">,</span> <span class="operator">[</span> <span class="operator">\&amp;</span><span class="variable">my_sub</span><span class="operator">,</span> <span class="variable">$x</span><span class="operator">,</span> <span class="variable">$y</span><span class="operator">,</span> <span class="operator">...</span> <span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> my_sub </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$arrayref</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="comment"># Retrieve $x, $y, ...</span>
        <span class="keyword">my</span> <span class="variable">@parameters</span> <span class="operator">=</span> <span class="variable">@$arrayref</span><span class="operator">[</span><span class="number">1</span><span class="operator">..</span><span class="variable">$#$arrayref</span><span class="operator">]</span><span class="operator">;</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
</code></code></pre>

<p>If the hook is an object, it must provide an INC method that will be called as above, the first parameter being the object itself. (Note that you must fully qualify the sub&#39;s name, as unqualified <code><code>INC</code></code> is always forced into package <code><code>main</code></code>.) Here is a typical code layout:</p>

<pre><code><code>    <span class="comment"># In Foo.pm</span>
    <span class="keyword">package</span> <span class="variable">Foo</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> new </span><span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
    <span class="keyword">sub</span><span class="variable"> Foo::INC </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="operator">(</span><span class="variable">$self</span><span class="operator">,</span> <span class="variable">$filename</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="operator">...</span>
    <span class="operator">}</span>
    
    <span class="comment"># In the main program</span>
    <span class="keyword">push</span> <span class="variable">@INC</span><span class="operator">,</span> <span class="variable">Foo</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(...);</span>
</code></code></pre>

<p>These hooks are also permitted to set the %INC entry corresponding to the files they have loaded. See <a href="../../lib/pods/perlvar.html#INC">&quot;%INC&quot; in perlvar</a>.</p>

<p>For a yet-more-powerful import facility, see <a href="#use">&quot;use&quot;</a> and <a href="../../lib/pods/perlmod.html">perlmod</a>.</p>

</dd>
<dt id="reset-EXPR">reset EXPR </dt>
<dd>

</dd>
<dt id="reset">reset</dt>
<dd>

<p>Generally used in a <code><code>continue</code></code> block at the end of a loop to clear variables and reset <code><code>??</code></code> searches so that they work again. The expression is interpreted as a list of single characters (hyphens allowed for ranges). All variables and arrays beginning with one of those letters are reset to their pristine state. If the expression is omitted, one-match searches (<code><code>?pattern?</code></code>) are reset to match again. Only resets variables or searches in the current package. Always returns 1. Examples:</p>

<pre><code><code>    <span class="keyword">reset</span> <span class="string">'X'</span><span class="operator">;</span>      <span class="comment"># reset all X variables</span>
    <span class="keyword">reset</span> <span class="string">'a-z'</span><span class="operator">;</span>    <span class="comment"># reset lower case variables</span>
    <span class="keyword">reset</span><span class="operator">;</span>          <span class="comment"># just reset ?one-time? searches</span>
</code></code></pre>

<p>Resetting <code><code>&quot;A-Z&quot;</code></code> is not recommended because you&#39;ll wipe out your <code><code>@ARGV</code></code> and <code><code>@INC</code></code> arrays and your <code><code>%ENV</code></code> hash. Resets only package variables; lexical variables are unaffected, but they clean themselves up on scope exit anyway, so you&#39;ll probably want to use them instead. See <a href="#my">&quot;my&quot;</a>.</p>

</dd>
<dt id="return-EXPR">return EXPR </dt>
<dd>

</dd>
<dt id="return">return</dt>
<dd>

<p>Returns from a subroutine, <code><code>eval</code></code>, or <code><code>do FILE</code></code> with the value given in EXPR. Evaluation of EXPR may be in list, scalar, or void context, depending on how the return value will be used, and the context may vary from one execution to the next (see <a href="#wantarray">&quot;wantarray&quot;</a>). If no EXPR is given, returns an empty list in list context, the undefined value in scalar context, and (of course) nothing at all in void context.</p>

<p>(In the absence of an explicit <code><code>return</code></code>, a subroutine, eval, or do FILE automatically returns the value of the last expression evaluated.)</p>

</dd>
<dt id="reverse-LIST">reverse LIST   </dt>
<dd>

<p>In list context, returns a list value consisting of the elements of LIST in the opposite order. In scalar context, concatenates the elements of LIST and returns a string value with all characters in the opposite order.</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">", "</span><span class="operator">,</span> <span class="keyword">reverse</span> <span class="string">"world"</span><span class="operator">,</span> <span class="string">"Hello"</span><span class="operator">);</span> <span class="comment"># Hello, world</span>
    
    <span class="keyword">print</span> <span class="keyword">scalar</span> <span class="keyword">reverse</span> <span class="string">"dlrow ,"</span><span class="operator">,</span> <span class="string">"olleH"</span><span class="operator">;</span>    <span class="comment"># Hello, world</span>
</code></code></pre>

<p>Used without arguments in scalar context, reverse() reverses <code><code>$_</code></code>.</p>

<pre><code><code>    <span class="variable">$_</span> <span class="operator">=</span> <span class="string">"dlrow ,olleH"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="keyword">reverse</span><span class="operator">;</span>                              <span class="comment"># No output, list context</span>
    <span class="keyword">print</span> <span class="keyword">scalar</span> <span class="keyword">reverse</span><span class="operator">;</span>                       <span class="comment"># Hello, world</span>
</code></code></pre>

<p>Note that reversing an array to itself (as in <code><code>@a = reverse @a</code></code>) will preserve non-existent elements whenever possible, i.e., for non magical arrays or tied arrays with <code><code>EXISTS</code></code> and <code><code>DELETE</code></code> methods.</p>

<p>This operator is also handy for inverting a hash, although there are some caveats. If a value is duplicated in the original hash, only one of those can be represented as a key in the inverted hash. Also, this has to unwind one hash and build a whole new one, which may take some time on a large hash, such as from a DBM file.</p>

<pre><code><code>    <span class="variable">%by_name</span> <span class="operator">=</span> <span class="keyword">reverse</span> <span class="variable">%by_address</span><span class="operator">;</span>  <span class="comment"># Invert the hash</span>
</code></code></pre>

</dd>
<dt id="rewinddir-DIRHANDLE">rewinddir DIRHANDLE </dt>
<dd>

<p>Sets the current position to the beginning of the directory for the <code><code>readdir</code></code> routine on DIRHANDLE.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#rewinddir">&quot;rewinddir&quot; in perlport</a>.</p>

</dd>
<dt id="rindex-STR-SUBSTR-POSITION">rindex STR,SUBSTR,POSITION </dt>
<dd>

</dd>
<dt id="rindex-STR-SUBSTR">rindex STR,SUBSTR</dt>
<dd>

<p>Works just like index() except that it returns the position of the <i>last</i> occurrence of SUBSTR in STR. If POSITION is specified, returns the last occurrence beginning at or before that position.</p>

</dd>
<dt id="rmdir-FILENAME">rmdir FILENAME   </dt>
<dd>

</dd>
<dt id="rmdir">rmdir</dt>
<dd>

<p>Deletes the directory specified by FILENAME if that directory is empty. If it succeeds it returns true; otherwise it returns false and sets <code><code>$!</code></code> (errno). If FILENAME is omitted, uses <code><code>$_</code></code>.</p>

<p>To remove a directory tree recursively (<code><code>rm -rf</code></code> on Unix) look at the <code><code>rmtree</code></code> function of the <a href="../../lib/File/Path.html">File::Path</a> module.</p>

</dd>
<dt id="s-">s///</dt>
<dd>

<p>The substitution operator. See <a href="../../lib/pods/perlop.html#Regexp-Quote-Like-Operators">&quot;Regexp Quote-Like Operators&quot; in perlop</a>.</p>

</dd>
<dt id="say-FILEHANDLE-LIST">say FILEHANDLE LIST </dt>
<dd>

</dd>
<dt id="say-FILEHANDLE">say FILEHANDLE</dt>
<dd>

</dd>
<dt id="say-LIST">say LIST</dt>
<dd>

</dd>
<dt id="say">say</dt>
<dd>

<p>Just like <code><code>print</code></code>, but implicitly appends a newline. <code><code>say LIST</code></code> is simply an abbreviation for <code><code><span class="operator">{</span> <span class="keyword">local</span> <span class="variable">$\</span> <span class="operator">=</span> <span class="string">"\n"</span><span class="operator">;</span> <span class="keyword">print</span> <span class="variable">LIST</span> <span class="operator">}</span>
</code></code>. To use FILEHANDLE without a LIST to print the contents of <code><code>$_</code></code> to it, you must use a real filehandle like <code><code>FH</code></code>, not an indirect one like <code><code>$fh</code></code>.</p>

<p>This keyword is available only when the <code><code>&quot;say&quot;</code></code> feature is enabled, or when prefixed with <code><code>CORE::</code></code>; see <a href="../../lib/feature.html">feature</a>. Alternately, include a <code><code>use v5.10</code></code> or later to the current scope.</p>

</dd>
<dt id="scalar-EXPR">scalar EXPR  </dt>
<dd>

<p>Forces EXPR to be interpreted in scalar context and returns the value of EXPR.</p>

<pre><code><code>    <span class="variable">@counts</span> <span class="operator">=</span> <span class="operator">(</span> <span class="keyword">scalar</span> <span class="variable">@a</span><span class="operator">,</span> <span class="keyword">scalar</span> <span class="variable">@b</span><span class="operator">,</span> <span class="keyword">scalar</span> <span class="variable">@c</span> <span class="operator">);</span>
</code></code></pre>

<p>There is no equivalent operator to force an expression to be interpolated in list context because in practice, this is never needed. If you really wanted to do so, however, you could use the construction <code><code><span class="variable">@</span><span class="operator">{[</span> <span class="operator">(</span><span class="variable">some</span> <span class="variable">expression</span><span class="operator">)</span> <span class="operator">]}</span>
</code></code>, but usually a simple <code><code>(some expression)</code></code> suffices.</p>

<p>Because <code><code>scalar</code></code> is a unary operator, if you accidentally use a parenthesized list for the EXPR, this behaves as a scalar comma expression, evaluating all but the last element in void context and returning the final element evaluated in scalar context. This is seldom what you want.</p>

<p>The following single statement:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">uc</span><span class="operator">(</span><span class="keyword">scalar</span><span class="operator">(&amp;</span><span class="variable">foo</span><span class="operator">,</span><span class="variable">$bar</span><span class="operator">)),</span><span class="variable">$baz</span><span class="operator">;</span>
</code></code></pre>

<p>is the moral equivalent of these two:</p>

<pre><code><code>    <span class="operator">&amp;</span><span class="variable">foo</span><span class="operator">;</span>
    <span class="keyword">print</span><span class="operator">(</span><span class="keyword">uc</span><span class="operator">(</span><span class="variable">$bar</span><span class="operator">),</span><span class="variable">$baz</span><span class="operator">);</span>
</code></code></pre>

<p>See <a href="../../lib/pods/perlop.html">perlop</a> for more details on unary operators and the comma operator.</p>

</dd>
<dt id="seek-FILEHANDLE-POSITION-WHENCE">seek FILEHANDLE,POSITION,WHENCE   </dt>
<dd>

<p>Sets FILEHANDLE&#39;s position, just like the <code><code>fseek</code></code> call of <code><code>stdio</code></code>. FILEHANDLE may be an expression whose value gives the name of the filehandle. The values for WHENCE are <code><code>0</code></code> to set the new position <i>in bytes</i> to POSITION; <code><code>1</code></code> to set it to the current position plus POSITION; and <code><code>2</code></code> to set it to EOF plus POSITION, typically negative. For WHENCE you may use the constants <code><code>SEEK_SET</code></code>, <code><code>SEEK_CUR</code></code>, and <code><code>SEEK_END</code></code> (start of the file, current position, end of the file) from the <a href="../../lib/Fcntl.html">Fcntl</a> module. Returns <code><code>1</code></code> on success, false otherwise.</p>

<p>Note the <i>in bytes</i>: even if the filehandle has been set to operate on characters (for example by using the <code><code>:encoding(utf8)</code></code> open layer), tell() will return byte offsets, not character offsets (because implementing that would render seek() and tell() rather slow).</p>

<p>If you want to position the file for <code><code>sysread</code></code> or <code><code>syswrite</code></code>, don&#39;t use <code><code>seek</code></code>, because buffering makes its effect on the file&#39;s read-write position unpredictable and non-portable. Use <code><code>sysseek</code></code> instead.</p>

<p>Due to the rules and rigors of ANSI C, on some systems you have to do a seek whenever you switch between reading and writing. Amongst other things, this may have the effect of calling stdio&#39;s clearerr(3). A WHENCE of <code><code>1</code></code> (<code><code>SEEK_CUR</code></code>) is useful for not moving the file position:</p>

<pre><code><code>    <span class="keyword">seek</span><span class="operator">(</span><span class="variable">TEST</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="number">1</span><span class="operator">);</span>
</code></code></pre>

<p>This is also useful for applications emulating <code><code>tail -f</code></code>. Once you hit EOF on your read and then sleep for a while, you (probably) have to stick in a dummy seek() to reset things. The <code><code>seek</code></code> doesn&#39;t change the position, but it <i>does</i> clear the end-of-file condition on the handle, so that the next <code><code>&lt;FILE&gt;</code></code> makes Perl try again to read something. (We hope.)</p>

<p>If that doesn&#39;t work (some I/O implementations are particularly cantankerous), you might need something like this:</p>

<pre><code><code>    <span class="keyword">for</span> <span class="operator">(;;)</span> <span class="operator">{</span>
        <span class="keyword">for</span> <span class="operator">(</span><span class="variable">$curpos</span> <span class="operator">=</span> <span class="keyword">tell</span><span class="operator">(</span><span class="variable">FILE</span><span class="operator">);</span> <span class="variable">$_</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="variable">FILE</span><span class="operator">&gt;;</span>
             <span class="variable">$curpos</span> <span class="operator">=</span> <span class="keyword">tell</span><span class="operator">(</span><span class="variable">FILE</span><span class="operator">))</span> <span class="operator">{</span>
            <span class="comment"># search for some stuff and put it into files</span>
        <span class="operator">}</span>
        <span class="keyword">sleep</span><span class="operator">(</span><span class="variable">$for_a_while</span><span class="operator">);</span>
        <span class="keyword">seek</span><span class="operator">(</span><span class="variable">FILE</span><span class="operator">,</span> <span class="variable">$curpos</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="seekdir-DIRHANDLE-POS">seekdir DIRHANDLE,POS </dt>
<dd>

<p>Sets the current position for the <code><code>readdir</code></code> routine on DIRHANDLE. POS must be a value returned by <code><code>telldir</code></code>. <code><code>seekdir</code></code> also has the same caveats about possible directory compaction as the corresponding system library routine.</p>

</dd>
<dt id="select-FILEHANDLE">select FILEHANDLE  </dt>
<dd>

</dd>
<dt id="select">select</dt>
<dd>

<p>Returns the currently selected filehandle. If FILEHANDLE is supplied, sets the new current default filehandle for output. This has two effects: first, a <code><code>write</code></code> or a <code><code>print</code></code> without a filehandle default to this FILEHANDLE. Second, references to variables related to output will refer to this output channel.</p>

<p>For example, to set the top-of-form format for more than one output channel, you might do the following:</p>

<pre><code><code>    <span class="keyword">select</span><span class="operator">(</span><span class="variable">REPORT1</span><span class="operator">);</span>
    <span class="variable">$^</span> <span class="operator">=</span> <span class="string">'report1_top'</span><span class="operator">;</span>
    <span class="keyword">select</span><span class="operator">(</span><span class="variable">REPORT2</span><span class="operator">);</span>
    <span class="variable">$^</span> <span class="operator">=</span> <span class="string">'report2_top'</span><span class="operator">;</span>
</code></code></pre>

<p>FILEHANDLE may be an expression whose value gives the name of the actual filehandle. Thus:</p>

<pre><code><code>    <span class="variable">$oldfh</span> <span class="operator">=</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">STDERR</span><span class="operator">);</span> <span class="variable">$|</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">$oldfh</span><span class="operator">);</span>
</code></code></pre>

<p>Some programmers may prefer to think of filehandles as objects with methods, preferring to write the last example as:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">IO::Handle</span><span class="operator">;</span>
    <span class="variable">STDERR</span><span class="operator">-&gt;</span><span class="variable">autoflush</span><span class="operator">(</span><span class="number">1</span><span class="operator">);</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#select">&quot;select&quot; in perlport</a>.</p>

</dd>
<dt id="select-RBITS-WBITS-EBITS-TIMEOUT">select RBITS,WBITS,EBITS,TIMEOUT </dt>
<dd>

<p>This calls the select(2) syscall with the bit masks specified, which can be constructed using <code><code>fileno</code></code> and <code><code>vec</code></code>, along these lines:</p>

<pre><code><code>    <span class="variable">$rin</span> <span class="operator">=</span> <span class="variable">$win</span> <span class="operator">=</span> <span class="variable">$ein</span> <span class="operator">=</span> <span class="string">''</span><span class="operator">;</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$rin</span><span class="operator">,</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">STDIN</span><span class="operator">),</span>  <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$win</span><span class="operator">,</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">),</span> <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
    <span class="variable">$ein</span> <span class="operator">=</span> <span class="variable">$rin</span> <span class="operator">|</span> <span class="variable">$win</span><span class="operator">;</span>
</code></code></pre>

<p>If you want to select on many filehandles, you may wish to write a subroutine like this:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> fhbits </span><span class="operator">{</span>
        <span class="keyword">my</span> <span class="variable">@fhlist</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="keyword">my</span> <span class="variable">$bits</span> <span class="operator">=</span> <span class="string">""</span><span class="operator">;</span>
        <span class="keyword">for</span> <span class="keyword">my</span> <span class="variable">$fh</span> <span class="operator">(</span><span class="variable">@fhlist</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$bits</span><span class="operator">,</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">$fh</span><span class="operator">),</span> <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
        <span class="operator">}</span>
        <span class="keyword">return</span> <span class="variable">$bits</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="variable">$rin</span> <span class="operator">=</span> <span class="variable">fhbits</span><span class="operator">(</span><span class="variable">*STDIN</span><span class="operator">,</span> <span class="variable">*TTY</span><span class="operator">,</span> <span class="variable">*MYSOCK</span><span class="operator">);</span>
</code></code></pre>

<p>The usual idiom is:</p>

<pre><code><code>    <span class="operator">(</span><span class="variable">$nfound</span><span class="operator">,</span><span class="variable">$timeleft</span><span class="operator">)</span> <span class="operator">=</span>
      <span class="keyword">select</span><span class="operator">(</span><span class="variable">$rout</span><span class="operator">=</span><span class="variable">$rin</span><span class="operator">,</span> <span class="variable">$wout</span><span class="operator">=</span><span class="variable">$win</span><span class="operator">,</span> <span class="variable">$eout</span><span class="operator">=</span><span class="variable">$ein</span><span class="operator">,</span> <span class="variable">$timeout</span><span class="operator">);</span>
</code></code></pre>

<p>or to block until something becomes ready just do this</p>

<pre><code><code>    <span class="variable">$nfound</span> <span class="operator">=</span> <span class="keyword">select</span><span class="operator">(</span><span class="variable">$rout</span><span class="operator">=</span><span class="variable">$rin</span><span class="operator">,</span> <span class="variable">$wout</span><span class="operator">=</span><span class="variable">$win</span><span class="operator">,</span> <span class="variable">$eout</span><span class="operator">=</span><span class="variable">$ein</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">);</span>
</code></code></pre>

<p>Most systems do not bother to return anything useful in $timeleft, so calling select() in scalar context just returns $nfound.</p>

<p>Any of the bit masks can also be undef. The timeout, if specified, is in seconds, which may be fractional. Note: not all implementations are capable of returning the $timeleft. If not, they always return $timeleft equal to the supplied $timeout.</p>

<p>You can effect a sleep of 250 milliseconds this way:</p>

<pre><code><code>    <span class="keyword">select</span><span class="operator">(</span><span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="number">0</span><span class="operator">.</span><span class="number">25</span><span class="operator">);</span>
</code></code></pre>

<p>Note that whether <code><code>select</code></code> gets restarted after signals (say, SIGALRM) is implementation-dependent. See also <a href="../../lib/pods/perlport.html">perlport</a> for notes on the portability of <code><code>select</code></code>.</p>

<p>On error, <code><code>select</code></code> behaves just like select(2): it returns -1 and sets <code><code>$!</code></code>.</p>

<p>On some Unixes, select(2) may report a socket file descriptor as &quot;ready for reading&quot; even when no data is available, and thus any subsequent <code><code>read</code></code> would block. This can be avoided if you always use O_NONBLOCK on the socket. See select(2) and fcntl(2) for further details.</p>

<p>The standard <code><code>IO::Select</code></code> module provides a user-friendlier interface to <code><code>select</code></code>, mostly because it does all the bit-mask work for you.</p>

<p><b>WARNING</b>: One should not attempt to mix buffered I/O (like <code><code>read</code></code> or &lt;FH&gt;) with <code><code>select</code></code>, except as permitted by POSIX, and even then only on POSIX systems. You have to use <code><code>sysread</code></code> instead.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#select">&quot;select&quot; in perlport</a>.</p>

</dd>
<dt id="semctl-ID-SEMNUM-CMD-ARG">semctl ID,SEMNUM,CMD,ARG </dt>
<dd>

<p>Calls the System V IPC function semctl(2). You&#39;ll probably have to say</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">IPC::SysV</span><span class="operator">;</span>
</code></code></pre>

<p>first to get the correct constant definitions. If CMD is IPC_STAT or GETALL, then ARG must be a variable that will hold the returned semid_ds structure or semaphore value array. Returns like <code><code>ioctl</code></code>: the undefined value for error, &quot;<code><code>0 but true</code></code>&quot; for zero, or the actual return value otherwise. The ARG must consist of a vector of native short integers, which may be created with <code><code>pack(&quot;s!&quot;,(0)x$nsem)</code></code>. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a>, <code><code>IPC::SysV</code></code>, <code><code>IPC::Semaphore</code></code> documentation.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#semctl">&quot;semctl&quot; in perlport</a>.</p>

</dd>
<dt id="semget-KEY-NSEMS-FLAGS">semget KEY,NSEMS,FLAGS </dt>
<dd>

<p>Calls the System V IPC function semget(2). Returns the semaphore id, or the undefined value on error. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a>, <code><code>IPC::SysV</code></code>, <code><code>IPC::SysV::Semaphore</code></code> documentation.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#semget">&quot;semget&quot; in perlport</a>.</p>

</dd>
<dt id="semop-KEY-OPSTRING">semop KEY,OPSTRING </dt>
<dd>

<p>Calls the System V IPC function semop(2) for semaphore operations such as signalling and waiting. OPSTRING must be a packed array of semop structures. Each semop structure can be generated with <code><code>pack(&quot;s!3&quot;, $semnum, $semop, $semflag)</code></code>. The length of OPSTRING implies the number of semaphore operations. Returns true if successful, false on error. As an example, the following code waits on semaphore $semnum of semaphore id $semid:</p>

<pre><code><code>    <span class="variable">$semop</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"s!3"</span><span class="operator">,</span> <span class="variable">$semnum</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="keyword">die</span> <span class="string">"Semaphore trouble: $!\n"</span> <span class="keyword">unless</span> <span class="keyword">semop</span><span class="operator">(</span><span class="variable">$semid</span><span class="operator">,</span> <span class="variable">$semop</span><span class="operator">);</span>
</code></code></pre>

<p>To signal the semaphore, replace <code><code>-1</code></code> with <code><code>1</code></code>. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a>, <code><code>IPC::SysV</code></code>, and <code><code>IPC::SysV::Semaphore</code></code> documentation.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#semop">&quot;semop&quot; in perlport</a>.</p>

</dd>
<dt id="send-SOCKET-MSG-FLAGS-TO">send SOCKET,MSG,FLAGS,TO </dt>
<dd>

</dd>
<dt id="send-SOCKET-MSG-FLAGS">send SOCKET,MSG,FLAGS</dt>
<dd>

<p>Sends a message on a socket. Attempts to send the scalar MSG to the SOCKET filehandle. Takes the same flags as the system call of the same name. On unconnected sockets, you must specify a destination to <i>send to</i>, in which case it does a sendto(2) syscall. Returns the number of characters sent, or the undefined value on error. The sendmsg(2) syscall is currently unimplemented. See <a href="../../lib/pods/perlipc.html#UDP:-Message-Passing">&quot;UDP: Message Passing&quot; in perlipc</a> for examples.</p>

<p>Note the <i>characters</i>: depending on the status of the socket, either (8-bit) bytes or characters are sent. By default all sockets operate on bytes, but for example if the socket has been changed using binmode() to operate with the <code><code>:encoding(utf8)</code></code> I/O layer (see <a href="#open">&quot;open&quot;</a>, or the <code><code>open</code></code> pragma, <a href="../../lib/open.html">open</a>), the I/O will operate on UTF-8 encoded Unicode characters, not bytes. Similarly for the <code><code>:encoding</code></code> pragma: in that case pretty much any characters can be sent.</p>

</dd>
<dt id="setpgrp-PID-PGRP">setpgrp PID,PGRP  </dt>
<dd>

<p>Sets the current process group for the specified PID, <code><code>0</code></code> for the current process. Raises an exception when used on a machine that doesn&#39;t implement POSIX setpgid(2) or BSD setpgrp(2). If the arguments are omitted, it defaults to <code><code>0,0</code></code>. Note that the BSD 4.2 version of <code><code>setpgrp</code></code> does not accept any arguments, so only <code><code>setpgrp(0,0)</code></code> is portable. See also <code><code>POSIX::setsid()</code></code>.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#setpgrp">&quot;setpgrp&quot; in perlport</a>.</p>

</dd>
<dt id="setpriority-WHICH-WHO-PRIORITY">setpriority WHICH,WHO,PRIORITY    </dt>
<dd>

<p>Sets the current priority for a process, a process group, or a user. (See setpriority(2).) Raises an exception when used on a machine that doesn&#39;t implement setpriority(2).</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#setpriority">&quot;setpriority&quot; in perlport</a>.</p>

</dd>
<dt id="setsockopt-SOCKET-LEVEL-OPTNAME-OPTVAL">setsockopt SOCKET,LEVEL,OPTNAME,OPTVAL </dt>
<dd>

<p>Sets the socket option requested. Returns <code><code>undef</code></code> on error. Use integer constants provided by the <code><code>Socket</code></code> module for LEVEL and OPNAME. Values for LEVEL can also be obtained from getprotobyname. OPTVAL might either be a packed string or an integer. An integer OPTVAL is shorthand for pack(&quot;i&quot;, OPTVAL).</p>

<p>An example disabling Nagle&#39;s algorithm on a socket:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span> <span class="string">qw(IPPROTO_TCP TCP_NODELAY)</span><span class="operator">;</span>
    <span class="keyword">setsockopt</span><span class="operator">(</span><span class="variable">$socket</span><span class="operator">,</span> <span class="variable">IPPROTO_TCP</span><span class="operator">,</span> <span class="variable">TCP_NODELAY</span><span class="operator">,</span> <span class="number">1</span><span class="operator">);</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#setsockopt">&quot;setsockopt&quot; in perlport</a>.</p>

</dd>
<dt id="shift-ARRAY">shift ARRAY </dt>
<dd>

</dd>
<dt id="shift-EXPR">shift EXPR</dt>
<dd>

</dd>
<dt id="shift">shift</dt>
<dd>

<p>Shifts the first value of the array off and returns it, shortening the array by 1 and moving everything down. If there are no elements in the array, returns the undefined value. If ARRAY is omitted, shifts the <code><code>@_</code></code> array within the lexical scope of subroutines and formats, and the <code><code>@ARGV</code></code> array outside a subroutine and also within the lexical scopes established by the <code><code>eval STRING</code></code>, <code><code><span class="keyword">BEGIN</span> <span class="operator">{}</span>
</code></code>, <code><code><span class="keyword">INIT</span> <span class="operator">{}</span>
</code></code>, <code><code><span class="keyword">CHECK</span> <span class="operator">{}</span>
</code></code>, <code><code><span class="keyword">UNITCHECK</span> <span class="operator">{}</span>
</code></code>, and <code><code><span class="keyword">END</span> <span class="operator">{}</span>
</code></code> constructs.</p>

<p>Starting with Perl 5.14, <code><code>shift</code></code> can take a scalar EXPR, which must hold a reference to an unblessed array. The argument will be dereferenced automatically. This aspect of <code><code>shift</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so push/pop/etc work on scalars (experimental)</span>
</code></code></pre>

<p>See also <code><code>unshift</code></code>, <code><code>push</code></code>, and <code><code>pop</code></code>. <code><code>shift</code></code> and <code><code>unshift</code></code> do the same thing to the left end of an array that <code><code>pop</code></code> and <code><code>push</code></code> do to the right end.</p>

</dd>
<dt id="shmctl-ID-CMD-ARG">shmctl ID,CMD,ARG </dt>
<dd>

<p>Calls the System V IPC function shmctl. You&#39;ll probably have to say</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">IPC::SysV</span><span class="operator">;</span>
</code></code></pre>

<p>first to get the correct constant definitions. If CMD is <code><code>IPC_STAT</code></code>, then ARG must be a variable that will hold the returned <code><code>shmid_ds</code></code> structure. Returns like ioctl: <code><code>undef</code></code> for error; &quot;<code><code>0</code></code> but true&quot; for zero; and the actual return value otherwise. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a> and <code><code>IPC::SysV</code></code> documentation.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#shmctl">&quot;shmctl&quot; in perlport</a>.</p>

</dd>
<dt id="shmget-KEY-SIZE-FLAGS">shmget KEY,SIZE,FLAGS </dt>
<dd>

<p>Calls the System V IPC function shmget. Returns the shared memory segment id, or <code><code>undef</code></code> on error. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a> and <code><code>IPC::SysV</code></code> documentation.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#shmget">&quot;shmget&quot; in perlport</a>.</p>

</dd>
<dt id="shmread-ID-VAR-POS-SIZE">shmread ID,VAR,POS,SIZE  </dt>
<dd>

</dd>
<dt id="shmwrite-ID-STRING-POS-SIZE">shmwrite ID,STRING,POS,SIZE</dt>
<dd>

<p>Reads or writes the System V shared memory segment ID starting at position POS for size SIZE by attaching to it, copying in/out, and detaching from it. When reading, VAR must be a variable that will hold the data read. When writing, if STRING is too long, only SIZE bytes are used; if STRING is too short, nulls are written to fill out SIZE bytes. Return true if successful, false on error. shmread() taints the variable. See also <a href="../../lib/pods/perlipc.html#SysV-IPC">&quot;SysV IPC&quot; in perlipc</a>, <code><code>IPC::SysV</code></code>, and the <code><code>IPC::Shareable</code></code> module from CPAN.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#shmread">&quot;shmread&quot; in perlport</a> and <a href="../../lib/pods/perlport.html#shmwrite">&quot;shmwrite&quot; in perlport</a>.</p>

</dd>
<dt id="shutdown-SOCKET-HOW">shutdown SOCKET,HOW </dt>
<dd>

<p>Shuts down a socket connection in the manner indicated by HOW, which has the same interpretation as in the syscall of the same name.</p>

<pre><code><code>    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">SOCKET</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>    <span class="comment"># I/we have stopped reading data</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">SOCKET</span><span class="operator">,</span> <span class="number">1</span><span class="operator">);</span>    <span class="comment"># I/we have stopped writing data</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">SOCKET</span><span class="operator">,</span> <span class="number">2</span><span class="operator">);</span>    <span class="comment"># I/we have stopped using this socket</span>
</code></code></pre>

<p>This is useful with sockets when you want to tell the other side you&#39;re done writing but not done reading, or vice versa. It&#39;s also a more insistent form of close because it also disables the file descriptor in any forked copies in other processes.</p>

<p>Returns <code><code>1</code></code> for success; on error, returns <code><code>undef</code></code> if the first argument is not a valid filehandle, or returns <code><code>0</code></code> and sets <code><code>$!</code></code> for any other failure.</p>

</dd>
<dt id="sin-EXPR">sin EXPR    </dt>
<dd>

</dd>
<dt id="sin">sin</dt>
<dd>

<p>Returns the sine of EXPR (expressed in radians). If EXPR is omitted, returns sine of <code><code>$_</code></code>.</p>

<p>For the inverse sine operation, you may use the <code><code>Math::Trig::asin</code></code> function, or use this relation:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> asin </span><span class="operator">{</span> <span class="keyword">atan2</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">,</span> <span class="keyword">sqrt</span><span class="operator">(</span><span class="number">1</span> <span class="operator">-</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">*</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">))</span> <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="sleep-EXPR">sleep EXPR  </dt>
<dd>

</dd>
<dt id="sleep">sleep</dt>
<dd>

<p>Causes the script to sleep for (integer) EXPR seconds, or forever if no argument is given. Returns the integer number of seconds actually slept.</p>

<p>May be interrupted if the process receives a signal such as <code><code>SIGALRM</code></code>.</p>

<pre><code><code>    <span class="keyword">eval</span> <span class="operator">{</span>
        <span class="keyword">local</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">ALARM</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="keyword">die</span> <span class="string">"Alarm!\n"</span> <span class="operator">};</span>
        <span class="keyword">sleep</span><span class="operator">;</span>
    <span class="operator">};</span>
    <span class="keyword">die</span> <span class="variable">$@</span> <span class="keyword">unless</span> <span class="variable">$@</span> <span class="keyword">eq</span> <span class="string">"Alarm!\n"</span><span class="operator">;</span>
</code></code></pre>

<p>You probably cannot mix <code><code>alarm</code></code> and <code><code>sleep</code></code> calls, because <code><code>sleep</code></code> is often implemented using <code><code>alarm</code></code>.</p>

<p>On some older systems, it may sleep up to a full second less than what you requested, depending on how it counts seconds. Most modern systems always sleep the full amount. They may appear to sleep longer than that, however, because your process might not be scheduled right away in a busy multitasking system.</p>

<p>For delays of finer granularity than one second, the Time::HiRes module (from CPAN, and starting from Perl 5.8 part of the standard distribution) provides usleep(). You may also use Perl&#39;s four-argument version of select() leaving the first three arguments undefined, or you might be able to use the <code><code>syscall</code></code> interface to access setitimer(2) if your system supports it. See <a href="../../lib/pods/perlfaq8.html">perlfaq8</a> for details.</p>

<p>See also the POSIX module&#39;s <code><code>pause</code></code> function.</p>

</dd>
<dt id="socket-SOCKET-DOMAIN-TYPE-PROTOCOL">socket SOCKET,DOMAIN,TYPE,PROTOCOL </dt>
<dd>

<p>Opens a socket of the specified kind and attaches it to filehandle SOCKET. DOMAIN, TYPE, and PROTOCOL are specified the same as for the syscall of the same name. You should <code><code>use Socket</code></code> first to get the proper definitions imported. See the examples in <a href="../../lib/pods/perlipc.html#Sockets:-Client-Server-Communication">&quot;Sockets: Client/Server Communication&quot; in perlipc</a>.</p>

<p>On systems that support a close-on-exec flag on files, the flag will be set for the newly opened file descriptor, as determined by the value of $^F. See <a href="../../lib/pods/perlvar.html#F">&quot;$^F&quot; in perlvar</a>.</p>

</dd>
<dt id="socketpair-SOCKET1-SOCKET2-DOMAIN-TYPE-PROTOCOL">socketpair SOCKET1,SOCKET2,DOMAIN,TYPE,PROTOCOL </dt>
<dd>

<p>Creates an unnamed pair of sockets in the specified domain, of the specified type. DOMAIN, TYPE, and PROTOCOL are specified the same as for the syscall of the same name. If unimplemented, raises an exception. Returns true if successful.</p>

<p>On systems that support a close-on-exec flag on files, the flag will be set for the newly opened file descriptors, as determined by the value of $^F. See <a href="../../lib/pods/perlvar.html#F">&quot;$^F&quot; in perlvar</a>.</p>

<p>Some systems defined <code><code>pipe</code></code> in terms of <code><code>socketpair</code></code>, in which a call to <code><code>pipe(Rdr, Wtr)</code></code> is essentially:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Socket</span><span class="operator">;</span>
    <span class="keyword">socketpair</span><span class="operator">(</span><span class="variable">Rdr</span><span class="operator">,</span> <span class="variable">Wtr</span><span class="operator">,</span> <span class="variable">AF_UNIX</span><span class="operator">,</span> <span class="variable">SOCK_STREAM</span><span class="operator">,</span> <span class="variable">PF_UNSPEC</span><span class="operator">);</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">Rdr</span><span class="operator">,</span> <span class="number">1</span><span class="operator">);</span>        <span class="comment"># no more writing for reader</span>
    <span class="keyword">shutdown</span><span class="operator">(</span><span class="variable">Wtr</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>        <span class="comment"># no more reading for writer</span>
</code></code></pre>

<p>See <a href="../../lib/pods/perlipc.html">perlipc</a> for an example of socketpair use. Perl 5.8 and later will emulate socketpair using IP sockets to localhost if your system implements sockets but not socketpair.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#socketpair">&quot;socketpair&quot; in perlport</a>.</p>

</dd>
<dt id="sort-SUBNAME-LIST">sort SUBNAME LIST    </dt>
<dd>

</dd>
<dt id="sort-BLOCK-LIST">sort BLOCK LIST</dt>
<dd>

</dd>
<dt id="sort-LIST">sort LIST</dt>
<dd>

<p>In list context, this sorts the LIST and returns the sorted list value. In scalar context, the behaviour of <code><code>sort()</code></code> is undefined.</p>

<p>If SUBNAME or BLOCK is omitted, <code><code>sort</code></code>s in standard string comparison order. If SUBNAME is specified, it gives the name of a subroutine that returns an integer less than, equal to, or greater than <code><code>0</code></code>, depending on how the elements of the list are to be ordered. (The <code><code>&lt;=&gt;</code></code> and <code><code>cmp</code></code> operators are extremely useful in such routines.) SUBNAME may be a scalar variable name (unsubscripted), in which case the value provides the name of (or a reference to) the actual subroutine to use. In place of a SUBNAME, you can provide a BLOCK as an anonymous, in-line sort subroutine.</p>

<p>If the subroutine&#39;s prototype is <code><code>($$)</code></code>, the elements to be compared are passed by reference in <code><code>@_</code></code>, as for a normal subroutine. This is slower than unprototyped subroutines, where the elements to be compared are passed into the subroutine as the package global variables $a and $b (see example below). Note that in the latter case, it is usually highly counter-productive to declare $a and $b as lexicals.</p>

<p>If the subroutine is an XSUB, the elements to be compared are pushed on to the stack, the way arguments are usually passed to XSUBs. $a and $b are not set.</p>

<p>The values to be compared are always passed by reference and should not be modified.</p>

<p>You also cannot exit out of the sort block or subroutine using any of the loop control operators described in <a href="../../lib/pods/perlsyn.html">perlsyn</a> or with <code><code>goto</code></code>.</p>

<p>When <code><code>use locale</code></code> (but not <code><code>use locale &#39;not_characters&#39;</code></code>) is in effect, <code><code>sort LIST</code></code> sorts LIST according to the current collation locale. See <a href="../../lib/pods/perllocale.html">perllocale</a>.</p>

<p>sort() returns aliases into the original list, much as a for loop&#39;s index variable aliases the list elements. That is, modifying an element of a list returned by sort() (for example, in a <code><code>foreach</code></code>, <code><code>map</code></code> or <code><code>grep</code></code>) actually modifies the element in the original list. This is usually something to be avoided when writing clear code.</p>

<p>Perl 5.6 and earlier used a quicksort algorithm to implement sort. That algorithm was not stable, so <i>could</i> go quadratic. (A <i>stable</i> sort preserves the input order of elements that compare equal. Although quicksort&#39;s run time is O(NlogN) when averaged over all arrays of length N, the time can be O(N**2), <i>quadratic</i> behavior, for some inputs.) In 5.7, the quicksort implementation was replaced with a stable mergesort algorithm whose worst-case behavior is O(NlogN). But benchmarks indicated that for some inputs, on some platforms, the original quicksort was faster. 5.8 has a sort pragma for limited control of the sort. Its rather blunt control of the underlying algorithm may not persist into future Perls, but the ability to characterize the input or output in implementation independent ways quite probably will. See <a href="../../lib/sort.html">the sort pragma</a>.</p>

<p>Examples:</p>

<pre><code><code>    <span class="comment"># sort lexically</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">@files</span><span class="operator">;</span>
    
    <span class="comment"># same thing, but with explicit sort routine</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$a</span> <span class="keyword">cmp</span> <span class="variable">$b</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
    
    <span class="comment"># now case-insensitively</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">fc</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">)</span> <span class="keyword">cmp</span> <span class="variable">fc</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">)}</span> <span class="variable">@files</span><span class="operator">;</span>
    
    <span class="comment"># same thing in reversed order</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$b</span> <span class="keyword">cmp</span> <span class="variable">$a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
    
    <span class="comment"># sort numerically ascending</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$a</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$b</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
    
    <span class="comment"># sort numerically descending</span>
    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$b</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
    
    <span class="comment"># this sorts the %age hash by value instead of key</span>
    <span class="comment"># using an in-line function</span>
    <span class="variable">@eldest</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$age</span><span class="operator">{</span><span class="variable">$b</span><span class="operator">}</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$age</span><span class="operator">{</span><span class="variable">$a</span><span class="operator">}</span> <span class="operator">}</span> <span class="keyword">keys</span> <span class="variable">%age</span><span class="operator">;</span>
    
    <span class="comment"># sort using explicit subroutine name</span>
    <span class="keyword">sub</span><span class="variable"> byage </span><span class="operator">{</span>
        <span class="variable">$age</span><span class="operator">{</span><span class="variable">$a</span><span class="operator">}</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$age</span><span class="operator">{</span><span class="variable">$b</span><span class="operator">}</span><span class="operator">;</span>  <span class="comment"># presuming numeric</span>
    <span class="operator">}</span>
    <span class="variable">@sortedclass</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">byage</span> <span class="variable">@class</span><span class="operator">;</span>
    
    <span class="keyword">sub</span><span class="variable"> backwards </span><span class="operator">{</span> <span class="variable">$b</span> <span class="keyword">cmp</span> <span class="variable">$a</span> <span class="operator">}</span>
    <span class="variable">@harry</span>  <span class="operator">=</span> <span class="string">qw(dog cat x Cain Abel)</span><span class="operator">;</span>
    <span class="variable">@george</span> <span class="operator">=</span> <span class="string">qw(gone chased yz Punished Axed)</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="keyword">sort</span> <span class="variable">@harry</span><span class="operator">;</span>
        <span class="comment"># prints AbelCaincatdogx</span>
    <span class="keyword">print</span> <span class="keyword">sort</span> <span class="variable">backwards</span> <span class="variable">@harry</span><span class="operator">;</span>
        <span class="comment"># prints xdogcatCainAbel</span>
    <span class="keyword">print</span> <span class="keyword">sort</span> <span class="variable">@george</span><span class="operator">,</span> <span class="string">'to'</span><span class="operator">,</span> <span class="variable">@harry</span><span class="operator">;</span>
        <span class="comment"># prints AbelAxedCainPunishedcatchaseddoggonetoxyz</span>
    
    <span class="comment"># inefficiently sort by descending numeric compare using</span>
    <span class="comment"># the first integer after the first = sign, or the</span>
    <span class="comment"># whole record case-insensitively otherwise</span>
    
    <span class="keyword">my</span> <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span>
        <span class="operator">(</span><span class="variable">$b</span> <span class="operator">=~</span> <span class="regex">/=(\d+)/</span><span class="operator">)</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">&lt;=&gt;</span> <span class="operator">(</span><span class="variable">$a</span> <span class="operator">=~</span> <span class="regex">/=(\d+)/</span><span class="operator">)</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span>
                            <span class="operator">||</span>
                    <span class="variable">fc</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">)</span>  <span class="keyword">cmp</span>  <span class="variable">fc</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">)</span>
    <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
    
    <span class="comment"># same thing, but much more efficiently;</span>
    <span class="comment"># we'll build auxiliary indices instead</span>
    <span class="comment"># for speed</span>
    <span class="keyword">my</span> <span class="variable">@nums</span> <span class="operator">=</span> <span class="variable">@caps</span> <span class="operator">=</span> <span class="operator">();</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="variable">@old</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">push</span> <span class="variable">@nums</span><span class="operator">,</span> <span class="operator">(</span> <span class="regex">/=(\d+)/</span> <span class="operator">?</span> <span class="variable">$1</span> <span class="operator">:</span> <span class="keyword">undef</span> <span class="operator">);</span>
        <span class="keyword">push</span> <span class="variable">@caps</span><span class="operator">,</span> <span class="variable">fc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">);</span>
    <span class="operator">}</span>
    
    <span class="keyword">my</span> <span class="variable">@new</span> <span class="operator">=</span> <span class="variable">@old</span><span class="operator">[</span> <span class="keyword">sort</span> <span class="operator">{</span>
                           <span class="variable">$nums</span><span class="operator">[</span><span class="variable">$b</span><span class="operator">]</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$nums</span><span class="operator">[</span><span class="variable">$a</span><span class="operator">]</span>
                                    <span class="operator">||</span>
                           <span class="variable">$caps</span><span class="operator">[</span><span class="variable">$a</span><span class="operator">]</span> <span class="keyword">cmp</span> <span class="variable">$caps</span><span class="operator">[</span><span class="variable">$b</span><span class="operator">]</span>
                         <span class="operator">}</span> <span class="number">0</span><span class="operator">..</span><span class="variable">$#old</span>
                  <span class="operator">]</span><span class="operator">;</span>
    
    <span class="comment"># same thing, but without any temps</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="variable">$_</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">}</span>
           <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$b</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$a</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span>
                           <span class="operator">||</span>
                  <span class="variable">$a</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span> <span class="keyword">cmp</span> <span class="variable">$b</span><span class="operator">-&gt;</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span>
           <span class="operator">}</span> <span class="keyword">map</span> <span class="operator">{</span> <span class="operator">[</span><span class="variable">$_</span><span class="operator">,</span> <span class="regex">/=(\d+)/</span><span class="operator">,</span> <span class="variable">fc</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">)</span><span class="operator">]</span> <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
    
    <span class="comment"># using a prototype allows you to use any comparison subroutine</span>
    <span class="comment"># as a sort subroutine (including other package's subroutines)</span>
    <span class="keyword">package</span> <span class="variable">other</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> backwards </span><span class="operator">(</span>$$<span class="operator">)</span> <span class="operator">{</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">1</span><span class="operator">]</span> <span class="keyword">cmp</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">;</span> <span class="operator">}</span>  <span class="comment"># $a and $b are not set here</span>
    
    <span class="keyword">package</span> <span class="variable">main</span><span class="operator">;</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">other::backwards</span> <span class="variable">@old</span><span class="operator">;</span>
    
    <span class="comment"># guarantee stability, regardless of algorithm</span>
    <span class="keyword">use</span> <span class="keyword">sort</span> <span class="string">'stable'</span><span class="operator">;</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="keyword">cmp</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
    
    <span class="comment"># force use of mergesort (not portable outside Perl 5.8)</span>
    <span class="keyword">use</span> <span class="keyword">sort</span> <span class="string">'_mergesort'</span><span class="operator">;</span>  <span class="comment"># note discouraging _</span>
    <span class="variable">@new</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="keyword">cmp</span> <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$b</span><span class="operator">,</span> <span class="number">3</span><span class="operator">,</span> <span class="number">5</span><span class="operator">)</span> <span class="operator">}</span> <span class="variable">@old</span><span class="operator">;</span>
</code></code></pre>

<p>Warning: syntactical care is required when sorting the list returned from a function. If you want to sort the list returned by the function call <code><code>find_records(@key)</code></code>, you can use:</p>

<pre><code><code>    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$a</span> <span class="keyword">cmp</span> <span class="variable">$b</span> <span class="operator">}</span> <span class="variable">find_records</span> <span class="variable">@key</span><span class="operator">;</span>
    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">+</span><span class="variable">find_records</span><span class="operator">(</span><span class="variable">@key</span><span class="operator">);</span>
    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">&amp;</span><span class="variable">find_records</span><span class="operator">(</span><span class="variable">@key</span><span class="operator">);</span>
    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span><span class="operator">(</span><span class="variable">find_records</span><span class="operator">(</span><span class="variable">@key</span><span class="operator">));</span>
</code></code></pre>

<p>If instead you want to sort the array @key with the comparison routine <code><code>find_records()</code></code> then you can use:</p>

<pre><code><code>    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">find_records</span><span class="operator">()</span> <span class="operator">}</span> <span class="variable">@key</span><span class="operator">;</span>
    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="variable">find_records</span><span class="operator">(</span><span class="variable">@key</span><span class="operator">);</span>
    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span><span class="operator">(</span><span class="variable">find_records</span> <span class="variable">@key</span><span class="operator">);</span>
    <span class="variable">@contact</span> <span class="operator">=</span> <span class="keyword">sort</span><span class="operator">(</span><span class="variable">find_records</span> <span class="operator">(</span><span class="variable">@key</span><span class="operator">));</span>
</code></code></pre>

<p>If you&#39;re using strict, you <i>must not</i> declare $a and $b as lexicals. They are package globals. That means that if you&#39;re in the <code><code>main</code></code> package and type</p>

<pre><code><code>    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$b</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</code></code></pre>

<p>then <code><code>$a</code></code> and <code><code>$b</code></code> are <code><code>$main::a</code></code> and <code><code>$main::b</code></code> (or <code><code>$::a</code></code> and <code><code>$::b</code></code>), but if you&#39;re in the <code><code>FooPack</code></code> package, it&#39;s the same as typing</p>

<pre><code><code>    <span class="variable">@articles</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span><span class="variable">$FooPack::b</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$FooPack::a</span><span class="operator">}</span> <span class="variable">@files</span><span class="operator">;</span>
</code></code></pre>

<p>The comparison function is required to behave. If it returns inconsistent results (sometimes saying <code><code>$x[1]</code></code> is less than <code><code>$x[2]</code></code> and sometimes saying the opposite, for example) the results are not well-defined.</p>

<p>Because <code><code>&lt;=&gt;</code></code> returns <code><code>undef</code></code> when either operand is <code><code>NaN</code></code> (not-a-number), be careful when sorting with a comparison function like <code><code>$a &lt;=&gt; $b</code></code> any lists that might contain a <code><code>NaN</code></code>. The following example takes advantage that <code><code>NaN != NaN</code></code> to eliminate any <code><code>NaN</code></code>s from the input list.</p>

<pre><code><code>    <span class="variable">@result</span> <span class="operator">=</span> <span class="keyword">sort</span> <span class="operator">{</span> <span class="variable">$a</span> <span class="operator">&lt;=&gt;</span> <span class="variable">$b</span> <span class="operator">}</span> <span class="keyword">grep</span> <span class="operator">{</span> <span class="variable">$_</span> <span class="operator">==</span> <span class="variable">$_</span> <span class="operator">}</span> <span class="variable">@input</span><span class="operator">;</span>
</code></code></pre>

</dd>
<dt id="splice-ARRAY-or-EXPR-OFFSET-LENGTH-LIST">splice ARRAY or EXPR,OFFSET,LENGTH,LIST </dt>
<dd>

</dd>
<dt id="splice-ARRAY-or-EXPR-OFFSET-LENGTH">splice ARRAY or EXPR,OFFSET,LENGTH</dt>
<dd>

</dd>
<dt id="splice-ARRAY-or-EXPR-OFFSET">splice ARRAY or EXPR,OFFSET</dt>
<dd>

</dd>
<dt id="splice-ARRAY-or-EXPR">splice ARRAY or EXPR</dt>
<dd>

<p>Removes the elements designated by OFFSET and LENGTH from an array, and replaces them with the elements of LIST, if any. In list context, returns the elements removed from the array. In scalar context, returns the last element removed, or <code><code>undef</code></code> if no elements are removed. The array grows or shrinks as necessary. If OFFSET is negative then it starts that far from the end of the array. If LENGTH is omitted, removes everything from OFFSET onward. If LENGTH is negative, removes the elements from OFFSET onward except for -LENGTH elements at the end of the array. If both OFFSET and LENGTH are omitted, removes everything. If OFFSET is past the end of the array, Perl issues a warning, and splices at the end of the array.</p>

<p>The following equivalences hold (assuming <code><code>$#a &gt;= $i</code></code> )</p>

<pre><code><code>    push(@a,$x,$y)      splice(@a,@a,0,$x,$y)
    pop(@a)             splice(@a,-1)
    shift(@a)           splice(@a,0,1)
    unshift(@a,$x,$y)   splice(@a,0,0,$x,$y)
    $a[$i] = $y         splice(@a,$i,1,$y)</code></code></pre>

<p>Example, assuming array lengths are passed before arrays:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> aeq </span><span class="operator">{</span>  <span class="comment"># compare two list values</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">@a</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">splice</span><span class="operator">(</span><span class="variable">@_</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="keyword">shift</span><span class="operator">);</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">@b</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">splice</span><span class="operator">(</span><span class="variable">@_</span><span class="operator">,</span><span class="number">0</span><span class="operator">,</span><span class="keyword">shift</span><span class="operator">);</span>
        <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">unless</span> <span class="variable">@a</span> <span class="operator">==</span> <span class="variable">@b</span><span class="operator">;</span>  <span class="comment"># same len?</span>
        <span class="keyword">while</span> <span class="operator">(</span><span class="variable">@a</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@a</span><span class="operator">)</span> <span class="keyword">ne</span> <span class="keyword">pop</span><span class="operator">(</span><span class="variable">@b</span><span class="operator">);</span>
        <span class="operator">}</span>
        <span class="keyword">return</span> <span class="number">1</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">if</span> <span class="operator">(&amp;</span><span class="variable">aeq</span><span class="operator">(</span><span class="variable">$len</span><span class="operator">,</span><span class="variable">@foo</span><span class="operator">[</span><span class="number">1</span><span class="operator">..</span><span class="variable">$len</span><span class="operator">]</span><span class="operator">,</span><span class="number">0</span><span class="operator">+</span><span class="variable">@bar</span><span class="operator">,</span><span class="variable">@bar</span><span class="operator">))</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
</code></code></pre>

<p>Starting with Perl 5.14, <code><code>splice</code></code> can take scalar EXPR, which must hold a reference to an unblessed array. The argument will be dereferenced automatically. This aspect of <code><code>splice</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so push/pop/etc work on scalars (experimental)</span>
</code></code></pre>

</dd>
<dt id="split-PATTERN-EXPR-LIMIT">split /PATTERN/,EXPR,LIMIT </dt>
<dd>

</dd>
<dt id="split-PATTERN-EXPR">split /PATTERN/,EXPR</dt>
<dd>

</dd>
<dt id="split-PATTERN-">split /PATTERN/</dt>
<dd>

</dd>
<dt id="split">split</dt>
<dd>

<p>Splits the string EXPR into a list of strings and returns the list in list context, or the size of the list in scalar context.</p>

<p>If only PATTERN is given, EXPR defaults to <code><code>$_</code></code>.</p>

<p>Anything in EXPR that matches PATTERN is taken to be a separator that separates the EXPR into substrings (called &quot;<i>fields</i>&quot;) that do <b>not</b> include the separator. Note that a separator may be longer than one character or even have no characters at all (the empty string, which is a zero-width match).</p>

<p>The PATTERN need not be constant; an expression may be used to specify a pattern that varies at runtime.</p>

<p>If PATTERN matches the empty string, the EXPR is split at the match position (between characters). As an example, the following:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="string">'b'</span><span class="operator">,</span> <span class="string">'abc'</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>uses the &#39;b&#39; in &#39;abc&#39; as a separator to produce the output &#39;a:c&#39;. However, this:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="string">''</span><span class="operator">,</span> <span class="string">'abc'</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>uses empty string matches as separators to produce the output &#39;a:b:c&#39;; thus, the empty string may be used to split EXPR into a list of its component characters.</p>

<p>As a special case for <code><code>split</code></code>, the empty pattern given in <a href="../../lib/pods/perlop.html#m-PATTERN-msixpodualgc">match operator</a> syntax (<code><code>//</code></code>) specifically matches the empty string, which is contrary to its usual interpretation as the last successful match.</p>

<p>If PATTERN is <code><code>/^/</code></code>, then it is treated as if it used the <a href="../../lib/pods/perlreref.html#OPERATORS">multiline modifier</a> (<code><code>/^/m</code></code>), since it isn&#39;t much use otherwise.</p>

<p>As another special case, <code><code>split</code></code> emulates the default behavior of the command line tool <b>awk</b> when the PATTERN is either omitted or a <i>literal string</i> composed of a single space character (such as <span style="white-space: nowrap;"><code><code>&#39; &#39;</code></code></span> or <span style="white-space: nowrap;"><code><code>&quot;\x20&quot;</code></code></span>, but not e.g. <span style="white-space: nowrap;"><code><code>/ /</code></code></span>). In this case, any leading whitespace in EXPR is removed before splitting occurs, and the PATTERN is instead treated as if it were <code><code>/\s+/</code></code>; in particular, this means that <i>any</i> contiguous whitespace (not just a single space character) is used as a separator. However, this special treatment can be avoided by specifying the pattern <span style="white-space: nowrap;"><code><code>/ /</code></code></span> instead of the string <span style="white-space: nowrap;"><code><code>&quot; &quot;</code></code></span>, thereby allowing only a single space character to be a separator.</p>

<p>If omitted, PATTERN defaults to a single space, <span style="white-space: nowrap;"><code><code>&quot; &quot;</code></code></span>, triggering the previously described <i>awk</i> emulation.</p>

<p>If LIMIT is specified and positive, it represents the maximum number of fields into which the EXPR may be split; in other words, LIMIT is one greater than the maximum number of times EXPR may be split. Thus, the LIMIT value <code><code>1</code></code> means that EXPR may be split a maximum of zero times, producing a maximum of one field (namely, the entire value of EXPR). For instance:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">'abc'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output &#39;abc&#39;, and this:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">'abc'</span><span class="operator">,</span> <span class="number">2</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output &#39;a:bc&#39;, and each of these:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">'abc'</span><span class="operator">,</span> <span class="number">3</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">'abc'</span><span class="operator">,</span> <span class="number">4</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output &#39;a:b:c&#39;.</p>

<p>If LIMIT is negative, it is treated as if it were instead arbitrarily large; as many fields as possible are produced.</p>

<p>If LIMIT is omitted (or, equivalently, zero), then it is usually treated as if it were instead negative but with the exception that trailing empty fields are stripped (empty leading fields are always preserved); if all fields are empty, then all fields are considered to be trailing (and are thus stripped in this case). Thus, the following:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="string">','</span><span class="operator">,</span> <span class="string">'a,b,c,,,'</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output &#39;a:b:c&#39;, but the following:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="string">','</span><span class="operator">,</span> <span class="string">'a,b,c,,,'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output &#39;a:b:c:::&#39;.</p>

<p>In time-critical applications, it is worthwhile to avoid splitting into more fields than necessary. Thus, when assigning to a list, if LIMIT is omitted (or zero), then LIMIT is treated as though it were one larger than the number of variables in the list; for the following, LIMIT is implicitly 4:</p>

<pre><code><code>    <span class="operator">(</span><span class="variable">$login</span><span class="operator">,</span> <span class="variable">$passwd</span><span class="operator">,</span> <span class="variable">$remainder</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/:/</span><span class="operator">);</span>
</code></code></pre>

<p>Note that splitting an EXPR that evaluates to the empty string always produces zero fields, regardless of the LIMIT specified.</p>

<p>An empty leading field is produced when there is a positive-width match at the beginning of EXPR. For instance:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">/ /</span><span class="operator">,</span> <span class="string">' abc'</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output &#39;:abc&#39;. However, a zero-width match at the beginning of EXPR never produces an empty field, so that:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">' abc'</span><span class="operator">));</span>
</code></code></pre>

<p>produces the output <span style="white-space: nowrap;">&#39; :a:b:c&#39;</span> (rather than <span style="white-space: nowrap;">&#39;: :a:b:c&#39;</span>).</p>

<p>An empty trailing field, on the other hand, is produced when there is a match at the end of EXPR, regardless of the length of the match (of course, unless a non-zero LIMIT is given explicitly, such fields are removed, as in the last example). Thus:</p>

<pre><code><code>    <span class="keyword">print</span> <span class="keyword">join</span><span class="operator">(</span><span class="string">':'</span><span class="operator">,</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="string">' abc'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">)),</span> <span class="string">"\n"</span><span class="operator">;</span>
</code></code></pre>

<p>produces the output <span style="white-space: nowrap;">&#39; :a:b:c:&#39;</span>.</p>

<p>If the PATTERN contains <a href="../../lib/pods/perlretut.html#Grouping-things-and-hierarchical-matching">capturing groups</a>, then for each separator, an additional field is produced for each substring captured by a group (in the order in which the groups are specified, as per <a href="../../lib/pods/perlretut.html#Backreferences">backreferences</a>); if any group does not match, then it captures the <code><code>undef</code></code> value instead of a substring. Also, note that any such additional field is produced whenever there is a separator (that is, whenever a split occurs), and such an additional field does <b>not</b> count towards the LIMIT. Consider the following expressions evaluated in list context (each returned list is provided in the associated comment):</p>

<pre><code><code>    split(/-|,/, &quot;1-10,20&quot;, 3)
    # (&#39;1&#39;, &#39;10&#39;, &#39;20&#39;)

    split(/(-|,)/, &quot;1-10,20&quot;, 3)
    # (&#39;1&#39;, &#39;-&#39;, &#39;10&#39;, &#39;,&#39;, &#39;20&#39;)

    split(/-|(,)/, &quot;1-10,20&quot;, 3)
    # (&#39;1&#39;, undef, &#39;10&#39;, &#39;,&#39;, &#39;20&#39;)

    split(/(-)|,/, &quot;1-10,20&quot;, 3)
    # (&#39;1&#39;, &#39;-&#39;, &#39;10&#39;, undef, &#39;20&#39;)

    split(/(-)|(,)/, &quot;1-10,20&quot;, 3)
    # (&#39;1&#39;, &#39;-&#39;, undef, &#39;10&#39;, undef, &#39;,&#39;, &#39;20&#39;)</code></code></pre>

</dd>
<dt id="sprintf-FORMAT-LIST">sprintf FORMAT, LIST </dt>
<dd>

<p>Returns a string formatted by the usual <code><code>printf</code></code> conventions of the C library function <code><code>sprintf</code></code>. See below for more details and see <a href="http://man.he.net/man3/sprintf">sprintf(3)</a> or <a href="http://man.he.net/man3/printf">printf(3)</a> on your system for an explanation of the general principles.</p>

<p>For example:</p>

<pre><code><code>        <span class="comment"># Format number with up to 8 leading zeroes</span>
        <span class="variable">$result</span> <span class="operator">=</span> <span class="keyword">sprintf</span><span class="operator">(</span><span class="string">"%08d"</span><span class="operator">,</span> <span class="variable">$number</span><span class="operator">);</span>
        
        <span class="comment"># Round number to 3 digits after decimal point</span>
        <span class="variable">$rounded</span> <span class="operator">=</span> <span class="keyword">sprintf</span><span class="operator">(</span><span class="string">"%.3f"</span><span class="operator">,</span> <span class="variable">$number</span><span class="operator">);</span>
</code></code></pre>

<p>Perl does its own <code><code>sprintf</code></code> formatting: it emulates the C function sprintf(3), but doesn&#39;t use it except for floating-point numbers, and even then only standard modifiers are allowed. Non-standard extensions in your local sprintf(3) are therefore unavailable from Perl.</p>

<p>Unlike <code><code>printf</code></code>, <code><code>sprintf</code></code> does not do what you probably mean when you pass it an array as your first argument. The array is given scalar context, and instead of using the 0th element of the array as the format, Perl will use the count of elements in the array as the format, which is almost never useful.</p>

<p>Perl&#39;s <code><code>sprintf</code></code> permits the following universally-known conversions:</p>

<pre><code><code>   %%    a percent sign
   %c    a character with the given number
   %s    a string
   %d    a signed integer, in decimal
   %u    an unsigned integer, in decimal
   %o    an unsigned integer, in octal
   %x    an unsigned integer, in hexadecimal
   %e    a floating-point number, in scientific notation
   %f    a floating-point number, in fixed decimal notation
   %g    a floating-point number, in %e or %f notation</code></code></pre>

<p>In addition, Perl permits the following widely-supported conversions:</p>

<pre><code><code>   %X    like %x, but using upper-case letters
   %E    like %e, but using an upper-case &quot;E&quot;
   %G    like %g, but with an upper-case &quot;E&quot; (if applicable)
   %b    an unsigned integer, in binary
   %B    like %b, but using an upper-case &quot;B&quot; with the # flag
   %p    a pointer (outputs the Perl value&#39;s address in hexadecimal)
   %n    special: *stores* the number of characters output so far
         into the next argument in the parameter list</code></code></pre>

<p>Finally, for backward (and we do mean &quot;backward&quot;) compatibility, Perl permits these unnecessary but widely-supported conversions:</p>

<pre><code><code>   %i    a synonym for %d
   %D    a synonym for %ld
   %U    a synonym for %lu
   %O    a synonym for %lo
   %F    a synonym for %f</code></code></pre>

<p>Note that the number of exponent digits in the scientific notation produced by <code><code>%e</code></code>, <code><code>%E</code></code>, <code><code>%g</code></code> and <code><code>%G</code></code> for numbers with the modulus of the exponent less than 100 is system-dependent: it may be three or less (zero-padded as necessary). In other words, 1.23 times ten to the 99th may be either &quot;1.23e99&quot; or &quot;1.23e099&quot;.</p>

<p>Between the <code><code>%</code></code> and the format letter, you may specify several additional attributes controlling the interpretation of the format. In order, these are:</p>

<dl>

<dt id="format-parameter-index">format parameter index</dt>
<dd>

<p>An explicit format parameter index, such as <code><code>2$</code></code>. By default sprintf will format the next unused argument in the list, but this allows you to take the arguments out of order:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'%2$d %1$d'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">;</span>      <span class="comment"># prints "34 12"</span>
  <span class="keyword">printf</span> <span class="string">'%3$d %d %1$d'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">2</span><span class="operator">,</span> <span class="number">3</span><span class="operator">;</span>  <span class="comment"># prints "3 1 1"</span>
</code></code></pre>

</dd>
<dt id="flags">flags</dt>
<dd>

<p>one or more of:</p>

<pre><code><code>   space   prefix non-negative number with a space
   +       prefix non-negative number with a plus sign
   -       left-justify within the field
   0       use zeros, not spaces, to right-justify
   #       ensure the leading &quot;0&quot; for any octal,
           prefix non-zero hexadecimal with &quot;0x&quot; or &quot;0X&quot;,
           prefix non-zero binary with &quot;0b&quot; or &quot;0B&quot;</code></code></pre>

<p>For example:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;% d&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt; 12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%+d&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;+12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%6s&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;    12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%-6s&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;12    &gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%06s&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;000012&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#o&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;014&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#x&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0xc&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#X&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0XC&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#b&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0b1100&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#B&gt;'</span><span class="operator">,</span>  <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0B1100&gt;"</span>
</code></code></pre>

<p>When a space and a plus sign are given as the flags at once, a plus sign is used to prefix a positive number.</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;%+ d&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;+12&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;% +d&gt;'</span><span class="operator">,</span> <span class="number">12</span><span class="operator">;</span>   <span class="comment"># prints "&lt;+12&gt;"</span>
</code></code></pre>

<p>When the # flag and a precision are given in the %o conversion, the precision is incremented if it&#39;s necessary for the leading &quot;0&quot;.</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;%#.5o&gt;'</span><span class="operator">,</span> <span class="number">012</span><span class="operator">;</span>      <span class="comment"># prints "&lt;00012&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.5o&gt;'</span><span class="operator">,</span> <span class="number">012345</span><span class="operator">;</span>   <span class="comment"># prints "&lt;012345&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.0o&gt;'</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>        <span class="comment"># prints "&lt;0&gt;"</span>
</code></code></pre>

</dd>
<dt id="vector-flag">vector flag</dt>
<dd>

<p>This flag tells Perl to interpret the supplied string as a vector of integers, one for each character in the string. Perl applies the format to each integer in turn, then joins the resulting strings with a separator (a dot <code><code>.</code></code> by default). This can be useful for displaying ordinal values of characters in arbitrary strings:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">"%vd"</span><span class="operator">,</span> <span class="string">"AB\x{100}"</span><span class="operator">;</span>           <span class="comment"># prints "65.66.256"</span>
  <span class="keyword">printf</span> <span class="string">"version is v%vd\n"</span><span class="operator">,</span> <span class="variable">$^V</span><span class="operator">;</span>     <span class="comment"># Perl's version</span>
</code></code></pre>

<p>Put an asterisk <code><code>*</code></code> before the <code><code>v</code></code> to override the string to use to separate the numbers:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">"address is %*vX\n"</span><span class="operator">,</span> <span class="string">":"</span><span class="operator">,</span> <span class="variable">$addr</span><span class="operator">;</span>   <span class="comment"># IPv6 address</span>
  <span class="keyword">printf</span> <span class="string">"bits are %0*v8b\n"</span><span class="operator">,</span> <span class="string">" "</span><span class="operator">,</span> <span class="variable">$bits</span><span class="operator">;</span>   <span class="comment"># random bitstring</span>
</code></code></pre>

<p>You can also explicitly specify the argument number to use for the join string using something like <code><code>*2$v</code></code>; for example:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'%*4$vX %*4$vX %*4$vX'</span><span class="operator">,</span> <span class="variable">@addr</span><span class="operator">[</span><span class="number">1</span><span class="operator">..</span><span class="number">3</span><span class="operator">]</span><span class="operator">,</span> <span class="string">":"</span><span class="operator">;</span>   <span class="comment"># 3 IPv6 addresses</span>
</code></code></pre>

</dd>
<dt id="minimum-width">(minimum) width</dt>
<dd>

<p>Arguments are usually formatted to be only as wide as required to display the given value. You can override the width by putting a number here, or get the width from the next argument (with <code><code>*</code></code>) or from a specified argument (e.g., with <code><code>*2$</code></code>):</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">"&lt;%s&gt;"</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">;</span>       <span class="comment"># prints "&lt;a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">"&lt;%6s&gt;"</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">;</span>      <span class="comment"># prints "&lt;     a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">"&lt;%*s&gt;"</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;     a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">"&lt;%*2</span><span class="variable">$s</span><span class="string">&gt;"</span><span class="operator">,</span> <span class="string">"a"</span><span class="operator">,</span> <span class="number">6</span><span class="operator">;</span> <span class="comment"># prints "&lt;     a&gt;"</span>
  <span class="keyword">printf</span> <span class="string">"&lt;%2s&gt;"</span><span class="operator">,</span> <span class="string">"long"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;long&gt;" (does not truncate)</span>
</code></code></pre>

<p>If a field width obtained through <code><code>*</code></code> is negative, it has the same effect as the <code><code>-</code></code> flag: left-justification.</p>

</dd>
<dt id="precision-or-maximum-width">precision, or maximum width </dt>
<dd>

<p>You can specify a precision (for numeric conversions) or a maximum width (for string conversions) by specifying a <code><code>.</code></code> followed by a number. For floating-point formats except <code><code>g</code></code> and <code><code>G</code></code>, this specifies how many places right of the decimal point to show (the default being 6). For example:</p>

<pre><code><code>  <span class="comment"># these examples are subject to system-specific variation</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%f&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;1.000000&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.1f&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>  <span class="comment"># prints "&lt;1.0&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.0f&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>  <span class="comment"># prints "&lt;1&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%e&gt;'</span><span class="operator">,</span> <span class="number">10</span><span class="operator">;</span>   <span class="comment"># prints "&lt;1.000000e+01&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.1e&gt;'</span><span class="operator">,</span> <span class="number">10</span><span class="operator">;</span> <span class="comment"># prints "&lt;1.0e+01&gt;"</span>
</code></code></pre>

<p>For &quot;g&quot; and &quot;G&quot;, this specifies the maximum number of digits to show, including those prior to the decimal point and those after it; for example:</p>

<pre><code><code>  <span class="comment"># These examples are subject to system-specific variation.</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%g&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>        <span class="comment"># prints "&lt;1&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.10g&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>     <span class="comment"># prints "&lt;1&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%g&gt;'</span><span class="operator">,</span> <span class="number">100</span><span class="operator">;</span>      <span class="comment"># prints "&lt;100&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.1g&gt;'</span><span class="operator">,</span> <span class="number">100</span><span class="operator">;</span>    <span class="comment"># prints "&lt;1e+02&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.2g&gt;'</span><span class="operator">,</span> <span class="number">100.01</span><span class="operator">;</span> <span class="comment"># prints "&lt;1e+02&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.5g&gt;'</span><span class="operator">,</span> <span class="number">100.01</span><span class="operator">;</span> <span class="comment"># prints "&lt;100.01&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.4g&gt;'</span><span class="operator">,</span> <span class="number">100.01</span><span class="operator">;</span> <span class="comment"># prints "&lt;100&gt;"</span>
</code></code></pre>

<p>For integer conversions, specifying a precision implies that the output of the number itself should be zero-padded to this width, where the 0 flag is ignored:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;%.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># prints "&lt;000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%+.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>     <span class="comment"># prints "&lt;+000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%-10.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;000001    &gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%10.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%010.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%+10.6d&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;   +000001&gt;"</span>
  
  <span class="keyword">printf</span> <span class="string">'&lt;%.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># prints "&lt;000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>     <span class="comment"># prints "&lt;0x000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%-10.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;000001    &gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%10.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%010.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;    000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%#10.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>   <span class="comment"># prints "&lt;  0x000001&gt;"</span>
</code></code></pre>

<p>For string conversions, specifying a precision truncates the string to fit the specified width:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;%.5s&gt;'</span><span class="operator">,</span> <span class="string">"truncated"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;trunc&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%10.5s&gt;'</span><span class="operator">,</span> <span class="string">"truncated"</span><span class="operator">;</span> <span class="comment"># prints "&lt;     trunc&gt;"</span>
</code></code></pre>

<p>You can also get the precision from the next argument using <code><code>.*</code></code>:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;%.6x&gt;'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>       <span class="comment"># prints "&lt;000001&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*x&gt;'</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="number">1</span><span class="operator">;</span>    <span class="comment"># prints "&lt;000001&gt;"</span>
</code></code></pre>

<p>If a precision obtained through <code><code>*</code></code> is negative, it counts as having no precision at all.</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span>  <span class="number">7</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;string&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span>  <span class="number">3</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;str&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*s&gt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="string">"string"</span><span class="operator">;</span>   <span class="comment"># prints "&lt;string&gt;"</span>
  
  <span class="keyword">printf</span> <span class="string">'&lt;%.*d&gt;'</span><span class="operator">,</span>  <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*d&gt;'</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>   <span class="comment"># prints "&lt;&gt;"</span>
  <span class="keyword">printf</span> <span class="string">'&lt;%.*d&gt;'</span><span class="operator">,</span> <span class="operator">-</span><span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">;</span>   <span class="comment"># prints "&lt;0&gt;"</span>
</code></code></pre>

<p>You cannot currently get the precision from a specified number, but it is intended that this will be possible in the future, for example using <code><code>.*2$</code></code>:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">"&lt;%.*2</span><span class="variable">$x</span><span class="string">&gt;"</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">6</span><span class="operator">;</span>   <span class="comment"># INVALID, but in future will print "&lt;000001&gt;"</span>
</code></code></pre>

</dd>
<dt id="size">size</dt>
<dd>

<p>For numeric conversions, you can specify the size to interpret the number as using <code><code>l</code></code>, <code><code>h</code></code>, <code><code>V</code></code>, <code><code>q</code></code>, <code><code>L</code></code>, or <code><code>ll</code></code>. For integer conversions (<code><code>d u o x X b i D U O</code></code>), numbers are usually assumed to be whatever the default integer size is on your platform (usually 32 or 64 bits), but you can override this to use instead one of the standard C types, as supported by the compiler used to build Perl:</p>

<pre><code><code>   hh          interpret integer as C type &quot;char&quot; or &quot;unsigned char&quot;
               on Perl 5.14 or later
   h           interpret integer as C type &quot;short&quot; or &quot;unsigned short&quot;
   j           interpret integer as C type &quot;intmax_t&quot; on Perl 5.14 
               or later, and only with a C99 compiler (unportable)
   l           interpret integer as C type &quot;long&quot; or &quot;unsigned long&quot;
   q, L, or ll interpret integer as C type &quot;long long&quot;, &quot;unsigned long long&quot;,
               or &quot;quad&quot; (typically 64-bit integers)
   t           interpret integer as C type &quot;ptrdiff_t&quot; on Perl 5.14 or later
   z           interpret integer as C type &quot;size_t&quot; on Perl 5.14 or later</code></code></pre>

<p>As of 5.14, none of these raises an exception if they are not supported on your platform. However, if warnings are enabled, a warning of the <code><code>printf</code></code> warning class is issued on an unsupported conversion flag. Should you instead prefer an exception, do this:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">warnings</span> <span class="string">FATAL</span> <span class="operator">=&gt;</span> <span class="string">"printf"</span><span class="operator">;</span>
</code></code></pre>

<p>If you would like to know about a version dependency before you start running the program, put something like this at its top:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># for hh/j/t/z/ printf modifiers</span>
</code></code></pre>

<p>You can find out whether your Perl supports quads via <a href="../../lib/Config.html">Config</a>:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$Config</span><span class="operator">{</span><span class="string">use64bitint</span><span class="operator">}</span> <span class="keyword">eq</span> <span class="string">"define"</span> <span class="operator">||</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longsize</span><span class="operator">}</span> <span class="operator">&gt;=</span> <span class="number">8</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"Nice quads!\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>For floating-point conversions (<code><code>e f g E F G</code></code>), numbers are usually assumed to be the default floating-point size on your platform (double or long double), but you can force &quot;long double&quot; with <code><code>q</code></code>, <code><code>L</code></code>, or <code><code>ll</code></code> if your platform supports them. You can find out whether your Perl supports long doubles via <a href="../../lib/Config.html">Config</a>:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="string">"long doubles\n"</span> <span class="keyword">if</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">d_longdbl</span><span class="operator">}</span> <span class="keyword">eq</span> <span class="string">"define"</span><span class="operator">;</span>
</code></code></pre>

<p>You can find out whether Perl considers &quot;long double&quot; to be the default floating-point size to use on your platform via <a href="../../lib/Config.html">Config</a>:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$Config</span><span class="operator">{</span><span class="string">uselongdouble</span><span class="operator">}</span> <span class="keyword">eq</span> <span class="string">"define"</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"long doubles by default\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>It can also be that long doubles and doubles are the same thing:</p>

<pre><code><code>        <span class="keyword">use</span> <span class="variable">Config</span><span class="operator">;</span>
        <span class="operator">(</span><span class="variable">$Config</span><span class="operator">{</span><span class="string">doublesize</span><span class="operator">}</span> <span class="operator">==</span> <span class="variable">$Config</span><span class="operator">{</span><span class="string">longdblsize</span><span class="operator">}</span><span class="operator">)</span> <span class="operator">&amp;&amp;</span>
                <span class="keyword">print</span> <span class="string">"doubles are long doubles\n"</span><span class="operator">;</span>
</code></code></pre>

<p>The size specifier <code><code>V</code></code> has no effect for Perl code, but is supported for compatibility with XS code. It means &quot;use the standard size for a Perl integer or floating-point number&quot;, which is the default.</p>

</dd>
<dt id="order-of-arguments">order of arguments</dt>
<dd>

<p>Normally, sprintf() takes the next unused argument as the value to format for each format specification. If the format specification uses <code><code>*</code></code> to require additional arguments, these are consumed from the argument list in the order they appear in the format specification <i>before</i> the value to format. Where an argument is specified by an explicit index, this does not affect the normal order for the arguments, even when the explicitly specified index would have been the next argument.</p>

<p>So:</p>

<pre><code><code>    <span class="keyword">printf</span> <span class="string">"&lt;%*.*s&gt;"</span><span class="operator">,</span> <span class="variable">$a</span><span class="operator">,</span> <span class="variable">$b</span><span class="operator">,</span> <span class="variable">$c</span><span class="operator">;</span>
</code></code></pre>

<p>uses <code><code>$a</code></code> for the width, <code><code>$b</code></code> for the precision, and <code><code>$c</code></code> as the value to format; while:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">"&lt;%*1$.*s&gt;"</span><span class="operator">,</span> <span class="variable">$a</span><span class="operator">,</span> <span class="variable">$b</span><span class="operator">;</span>
</code></code></pre>

<p>would use <code><code>$a</code></code> for the width and precision, and <code><code>$b</code></code> as the value to format.</p>

<p>Here are some more examples; be aware that when using an explicit index, the <code><code>$</code></code> may need escaping:</p>

<pre><code><code>  <span class="keyword">printf</span> <span class="string">"%2\$d %d\n"</span><span class="operator">,</span>    <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">;</span>        <span class="comment"># will print "34 12\n"</span>
  <span class="keyword">printf</span> <span class="string">"%2\$d %d %d\n"</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">;</span>        <span class="comment"># will print "34 12 34\n"</span>
  <span class="keyword">printf</span> <span class="string">"%3\$d %d %d\n"</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">,</span> <span class="number">56</span><span class="operator">;</span>    <span class="comment"># will print "56 12 34\n"</span>
  <span class="keyword">printf</span> <span class="string">"%2\$*3\$d %d\n"</span><span class="operator">,</span> <span class="number">12</span><span class="operator">,</span> <span class="number">34</span><span class="operator">,</span> <span class="number">3</span><span class="operator">;</span>    <span class="comment"># will print " 34 12\n"</span>
</code></code></pre>

</dd>
</dl>

<p>If <code><code>use locale</code></code> (including <code><code>use locale &#39;not_characters&#39;</code></code>) is in effect and POSIX::setlocale() has been called, the character used for the decimal separator in formatted floating-point numbers is affected by the LC_NUMERIC locale. See <a href="../../lib/pods/perllocale.html">perllocale</a> and <a href="../../lib/POSIX.html">POSIX</a>.</p>

</dd>
<dt id="sqrt-EXPR">sqrt EXPR   </dt>
<dd>

</dd>
<dt id="sqrt">sqrt</dt>
<dd>

<p>Return the positive square root of EXPR. If EXPR is omitted, uses <code><code>$_</code></code>. Works only for non-negative operands unless you&#39;ve loaded the <code><code>Math::Complex</code></code> module.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Math::Complex</span><span class="operator">;</span>
    <span class="keyword">print</span> <span class="keyword">sqrt</span><span class="operator">(-</span><span class="number">4</span><span class="operator">);</span>    <span class="comment"># prints 2i</span>
</code></code></pre>

</dd>
<dt id="srand-EXPR">srand EXPR   </dt>
<dd>

</dd>
<dt id="srand">srand</dt>
<dd>

<p>Sets and returns the random number seed for the <code><code>rand</code></code> operator.</p>

<p>The point of the function is to &quot;seed&quot; the <code><code>rand</code></code> function so that <code><code>rand</code></code> can produce a different sequence each time you run your program. When called with a parameter, <code><code>srand</code></code> uses that for the seed; otherwise it (semi-)randomly chooses a seed. In either case, starting with Perl 5.14, it returns the seed. To signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so srand returns the seed</span>
</code></code></pre>

<p>If <code><code>srand()</code></code> is not called explicitly, it is called implicitly without a parameter at the first use of the <code><code>rand</code></code> operator. However, this was not true of versions of Perl before 5.004, so if your script will run under older Perl versions, it should call <code><code>srand</code></code>; otherwise most programs won&#39;t call <code><code>srand()</code></code> at all.</p>

<p>But there are a few situations in recent Perls where programs are likely to want to call <code><code>srand</code></code>. One is for generating predictable results generally for testing or debugging. There, you use <code><code>srand($seed)</code></code>, with the same <code><code>$seed</code></code> each time. Another case is that you may want to call <code><code>srand()</code></code> after a <code><code>fork()</code></code> to avoid child processes sharing the same seed value as the parent (and consequently each other).</p>

<p>Do <b>not</b> call <code><code>srand()</code></code> (i.e., without an argument) more than once per process. The internal state of the random number generator should contain more entropy than can be provided by any seed, so calling <code><code>srand()</code></code> again actually <i>loses</i> randomness.</p>

<p>Most implementations of <code><code>srand</code></code> take an integer and will silently truncate decimal numbers. This means <code><code>srand(42)</code></code> will usually produce the same results as <code><code>srand(42.1)</code></code>. To be safe, always pass <code><code>srand</code></code> an integer.</p>

<p>In versions of Perl prior to 5.004 the default seed was just the current <code><code>time</code></code>. This isn&#39;t a particularly good seed, so many old programs supply their own seed value (often <code><code>time ^ $$</code></code> or <code><code>time ^ ($$ + ($$ &lt;&lt; 15))</code></code>), but that isn&#39;t necessary any more.</p>

<p>Frequently called programs (like CGI scripts) that simply use</p>

<pre><code><code>    time ^ $$</code></code></pre>

<p>for a seed can fall prey to the mathematical property that</p>

<pre><code><code>    a^b == (a+1)^(b+1)</code></code></pre>

<p>one-third of the time. So don&#39;t do that.</p>

<p>A typical use of the returned seed is for a test program which has too many combinations to test comprehensively in the time available to it each run. It can test a random subset each time, and should there be a failure, log the seed used for that run so that it can later be used to reproduce the same results.</p>

<p><b><code><code>rand()</code></code> is not cryptographically secure. You should not rely on it in security-sensitive situations.</b> As of this writing, a number of third-party CPAN modules offer random number generators intended by their authors to be cryptographically secure, including: <a>Data::Entropy</a>, <a>Crypt::Random</a>, <a>Math::Random::Secure</a>, and <a>Math::TrulyRandom</a>.</p>

</dd>
<dt id="stat-FILEHANDLE">stat FILEHANDLE   </dt>
<dd>

</dd>
<dt id="stat-EXPR">stat EXPR</dt>
<dd>

</dd>
<dt id="stat-DIRHANDLE">stat DIRHANDLE</dt>
<dd>

</dd>
<dt id="stat">stat</dt>
<dd>

<p>Returns a 13-element list giving the status info for a file, either the file opened via FILEHANDLE or DIRHANDLE, or named by EXPR. If EXPR is omitted, it stats <code><code>$_</code></code> (not <code><code>_</code></code>!). Returns the empty list if <code><code>stat</code></code> fails. Typically used as follows:</p>

<pre><code><code>    <span class="operator">(</span><span class="variable">$dev</span><span class="operator">,</span><span class="variable">$ino</span><span class="operator">,</span><span class="variable">$mode</span><span class="operator">,</span><span class="variable">$nlink</span><span class="operator">,</span><span class="variable">$uid</span><span class="operator">,</span><span class="variable">$gid</span><span class="operator">,</span><span class="variable">$rdev</span><span class="operator">,</span><span class="variable">$size</span><span class="operator">,</span>
       <span class="variable">$atime</span><span class="operator">,</span><span class="variable">$mtime</span><span class="operator">,</span><span class="variable">$ctime</span><span class="operator">,</span><span class="variable">$blksize</span><span class="operator">,</span><span class="variable">$blocks</span><span class="operator">)</span>
           <span class="operator">=</span> <span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">);</span>
</code></code></pre>

<p>Not all fields are supported on all filesystem types. Here are the meanings of the fields:</p>

<pre><code><code>  0 dev      device number of filesystem
  1 ino      inode number
  2 mode     file mode  (type and permissions)
  3 nlink    number of (hard) links to the file
  4 uid      numeric user ID of file&#39;s owner
  5 gid      numeric group ID of file&#39;s owner
  6 rdev     the device identifier (special files only)
  7 size     total size of file, in bytes
  8 atime    last access time in seconds since the epoch
  9 mtime    last modify time in seconds since the epoch
 10 ctime    inode change time in seconds since the epoch (*)
 11 blksize  preferred block size for file system I/O
 12 blocks   actual number of blocks allocated</code></code></pre>

<p>(The epoch was at 00:00 January 1, 1970 GMT.)</p>

<p>(*) Not all fields are supported on all filesystem types. Notably, the ctime field is non-portable. In particular, you cannot expect it to be a &quot;creation time&quot;; see <a href="../../lib/pods/perlport.html#Files-and-Filesystems">&quot;Files and Filesystems&quot; in perlport</a> for details.</p>

<p>If <code><code>stat</code></code> is passed the special filehandle consisting of an underline, no stat is done, but the current contents of the stat structure from the last <code><code>stat</code></code>, <code><code>lstat</code></code>, or filetest are returned. Example:</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="keyword">-x</span> <span class="variable">$file</span> <span class="operator">&amp;&amp;</span> <span class="operator">((</span><span class="variable">$d</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">stat</span><span class="operator">(</span><span class="variable">_</span><span class="operator">))</span> <span class="operator">&amp;&amp;</span> <span class="variable">$d</span> <span class="operator">&lt;</span> <span class="number">0</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"</span><span class="variable">$file</span><span class="string"> is executable NFS file\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>(This works on machines only for which the device number is negative under NFS.)</p>

<p>Because the mode contains both the file type and its permissions, you should mask off the file type portion and (s)printf using a <code><code>&quot;%o&quot;</code></code> if you want to see the real permissions.</p>

<pre><code><code>    <span class="variable">$mode</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">))</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">;</span>
    <span class="keyword">printf</span> <span class="string">"Permissions are %04o\n"</span><span class="operator">,</span> <span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">;</span>
</code></code></pre>

<p>In scalar context, <code><code>stat</code></code> returns a boolean value indicating success or failure, and, if successful, sets the information associated with the special filehandle <code><code>_</code></code>.</p>

<p>The <a href="../../lib/File/stat.html">File::stat</a> module provides a convenient, by-name access mechanism:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">File::stat</span><span class="operator">;</span>
    <span class="variable">$sb</span> <span class="operator">=</span> <span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">);</span>
    <span class="keyword">printf</span> <span class="string">"File is %s, size is %s, perm %04o, mtime %s\n"</span><span class="operator">,</span>
           <span class="variable">$filename</span><span class="operator">,</span> <span class="variable">$sb</span><span class="operator">-&gt;</span><span class="variable">size</span><span class="operator">,</span> <span class="variable">$sb</span><span class="operator">-&gt;</span><span class="variable">mode</span> <span class="operator">&amp;</span> <span class="number">07777</span><span class="operator">,</span>
           <span class="keyword">scalar</span> <span class="keyword">localtime</span> <span class="variable">$sb</span><span class="operator">-&gt;</span><span class="variable">mtime</span><span class="operator">;</span>
</code></code></pre>

<p>You can import symbolic mode constants (<code><code>S_IF*</code></code>) and functions (<code><code>S_IS*</code></code>) from the Fcntl module:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">':mode'</span><span class="operator">;</span>
    
    <span class="variable">$mode</span> <span class="operator">=</span> <span class="operator">(</span><span class="keyword">stat</span><span class="operator">(</span><span class="variable">$filename</span><span class="operator">))</span><span class="operator">[</span><span class="number">2</span><span class="operator">]</span><span class="operator">;</span>
    
    <span class="variable">$user_rwx</span>      <span class="operator">=</span> <span class="operator">(</span><span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_IRWXU</span><span class="operator">)</span> <span class="operator">&gt;&gt;</span> <span class="number">6</span><span class="operator">;</span>
    <span class="variable">$group_read</span>    <span class="operator">=</span> <span class="operator">(</span><span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_IRGRP</span><span class="operator">)</span> <span class="operator">&gt;&gt;</span> <span class="number">3</span><span class="operator">;</span>
    <span class="variable">$other_execute</span> <span class="operator">=</span>  <span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_IXOTH</span><span class="operator">;</span>
    
    <span class="keyword">printf</span> <span class="string">"Permissions are %04o\n"</span><span class="operator">,</span> <span class="variable">S_IMODE</span><span class="operator">(</span><span class="variable">$mode</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    
    <span class="variable">$is_setuid</span>     <span class="operator">=</span>  <span class="variable">$mode</span> <span class="operator">&amp;</span> <span class="variable">S_ISUID</span><span class="operator">;</span>
    <span class="variable">$is_directory</span>  <span class="operator">=</span>  <span class="variable">S_ISDIR</span><span class="operator">(</span><span class="variable">$mode</span><span class="operator">);</span>
</code></code></pre>

<p>You could write the last two using the <code><code>-u</code></code> and <code><code>-d</code></code> operators. Commonly available <code><code>S_IF*</code></code> constants are:</p>

<pre><code><code>    # Permissions: read, write, execute, for user, group, others.

    S_IRWXU S_IRUSR S_IWUSR S_IXUSR
    S_IRWXG S_IRGRP S_IWGRP S_IXGRP
    S_IRWXO S_IROTH S_IWOTH S_IXOTH

    # Setuid/Setgid/Stickiness/SaveText.
    # Note that the exact meaning of these is system-dependent.

    S_ISUID S_ISGID S_ISVTX S_ISTXT

    # File types.  Not all are necessarily available on
    # your system.

    S_IFREG S_IFDIR S_IFLNK S_IFBLK S_IFCHR
    S_IFIFO S_IFSOCK S_IFWHT S_ENFMT

    # The following are compatibility aliases for S_IRUSR,
    # S_IWUSR, and S_IXUSR.

    S_IREAD S_IWRITE S_IEXEC</code></code></pre>

<p>and the <code><code>S_IF*</code></code> functions are</p>

<pre><code><code>    S_IMODE($mode)    the part of $mode containing the permission
                      bits and the setuid/setgid/sticky bits

    S_IFMT($mode)     the part of $mode containing the file type
                      which can be bit-anded with (for example)
                      S_IFREG or with the following functions

    # The operators -f, -d, -l, -b, -c, -p, and -S.

    S_ISREG($mode) S_ISDIR($mode) S_ISLNK($mode)
    S_ISBLK($mode) S_ISCHR($mode) S_ISFIFO($mode) S_ISSOCK($mode)

    # No direct -X operator counterpart, but for the first one
    # the -g operator is often equivalent.  The ENFMT stands for
    # record flocking enforcement, a platform-dependent feature.

    S_ISENFMT($mode) S_ISWHT($mode)</code></code></pre>

<p>See your native chmod(2) and stat(2) documentation for more details about the <code><code>S_*</code></code> constants. To get status info for a symbolic link instead of the target file behind the link, use the <code><code>lstat</code></code> function.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#stat">&quot;stat&quot; in perlport</a>.</p>

</dd>
<dt id="state-EXPR">state EXPR </dt>
<dd>

</dd>
<dt id="state-TYPE-EXPR">state TYPE EXPR</dt>
<dd>

</dd>
<dt id="state-EXPR-:-ATTRS">state EXPR : ATTRS</dt>
<dd>

</dd>
<dt id="state-TYPE-EXPR-:-ATTRS">state TYPE EXPR : ATTRS</dt>
<dd>

<p><code><code>state</code></code> declares a lexically scoped variable, just like <code><code>my</code></code>. However, those variables will never be reinitialized, contrary to lexical variables that are reinitialized each time their enclosing block is entered. See <a href="../../lib/pods/perlsub.html#Persistent-Private-Variables">&quot;Persistent Private Variables&quot; in perlsub</a> for details.</p>

<p><code><code>state</code></code> variables are enabled only when the <code><code>use feature &quot;state&quot;</code></code> pragma is in effect, unless the keyword is written as <code><code>CORE::state</code></code>. See also <a href="../../lib/feature.html">feature</a>.</p>

</dd>
<dt id="study-SCALAR">study SCALAR </dt>
<dd>

</dd>
<dt id="study">study</dt>
<dd>

<p>Takes extra time to study SCALAR (<code><code>$_</code></code> if unspecified) in anticipation of doing many pattern matches on the string before it is next modified. This may or may not save time, depending on the nature and number of patterns you are searching and the distribution of character frequencies in the string to be searched; you probably want to compare run times with and without it to see which is faster. Those loops that scan for many short constant strings (including the constant parts of more complex patterns) will benefit most. (The way <code><code>study</code></code> works is this: a linked list of every character in the string to be searched is made, so we know, for example, where all the <code><code>&#39;k&#39;</code></code> characters are. From each search string, the rarest character is selected, based on some static frequency tables constructed from some C programs and English text. Only those places that contain this &quot;rarest&quot; character are examined.)</p>

<p>For example, here is a loop that inserts index producing entries before any line containing a certain pattern:</p>

<pre><code><code>    <span class="keyword">while</span> <span class="operator">(&lt;&gt;)</span> <span class="operator">{</span>
        <span class="keyword">study</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="string">".IX foo\n"</span>    <span class="keyword">if</span> <span class="regex">/\bfoo\b/</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="string">".IX bar\n"</span>    <span class="keyword">if</span> <span class="regex">/\bbar\b/</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="string">".IX blurfl\n"</span> <span class="keyword">if</span> <span class="regex">/\bblurfl\b/</span><span class="operator">;</span>
        <span class="comment"># ...</span>
        <span class="keyword">print</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>In searching for <code><code>/\bfoo\b/</code></code>, only locations in <code><code>$_</code></code> that contain <code><code>f</code></code> will be looked at, because <code><code>f</code></code> is rarer than <code><code>o</code></code>. In general, this is a big win except in pathological cases. The only question is whether it saves you more time than it took to build the linked list in the first place.</p>

<p>Note that if you have to look for strings that you don&#39;t know till runtime, you can build an entire loop as a string and <code><code>eval</code></code> that to avoid recompiling all your patterns all the time. Together with undefining <code><code>$/</code></code> to input entire files as one record, this can be quite fast, often faster than specialized programs like fgrep(1). The following scans a list of files (<code><code>@files</code></code>) for a list of words (<code><code>@words</code></code>), and prints out the names of those files that contain a match:</p>

<pre><code><code>    <span class="variable">$search</span> <span class="operator">=</span> <span class="string">'while (&lt;&gt;) { study;'</span><span class="operator">;</span>
    <span class="keyword">foreach</span> <span class="variable">$word</span> <span class="operator">(</span><span class="variable">@words</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$search</span> <span class="operator">.=</span> <span class="string">"++\$seen{\$ARGV} if /\\b</span><span class="variable">$word</span><span class="string">\\b/;\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="variable">$search</span> <span class="operator">.=</span> <span class="string">"}"</span><span class="operator">;</span>
    <span class="variable">@ARGV</span> <span class="operator">=</span> <span class="variable">@files</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">$/</span><span class="operator">;</span>
    <span class="keyword">eval</span> <span class="variable">$search</span><span class="operator">;</span>        <span class="comment"># this screams</span>
    <span class="variable">$/</span> <span class="operator">=</span> <span class="string">"\n"</span><span class="operator">;</span>        <span class="comment"># put back to normal input delimiter</span>
    <span class="keyword">foreach</span> <span class="variable">$file</span> <span class="operator">(</span><span class="keyword">sort</span> <span class="keyword">keys</span><span class="operator">(</span><span class="variable">%seen</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$file</span><span class="operator">,</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

</dd>
<dt id="sub-NAME-BLOCK">sub NAME BLOCK </dt>
<dd>

</dd>
<dt id="sub-NAME-PROTO-BLOCK">sub NAME (PROTO) BLOCK</dt>
<dd>

</dd>
<dt id="sub-NAME-:-ATTRS-BLOCK">sub NAME : ATTRS BLOCK</dt>
<dd>

</dd>
<dt id="sub-NAME-PROTO-:-ATTRS-BLOCK">sub NAME (PROTO) : ATTRS BLOCK</dt>
<dd>

<p>This is subroutine definition, not a real function <i>per se</i>. Without a BLOCK it&#39;s just a forward declaration. Without a NAME, it&#39;s an anonymous function declaration, so does return a value: the CODE ref of the closure just created.</p>

<p>See <a href="../../lib/pods/perlsub.html">perlsub</a> and <a href="../../lib/pods/perlref.html">perlref</a> for details about subroutines and references; see <a href="../../lib/attributes.html">attributes</a> and <a href="../../lib/Attribute/Handlers.html">Attribute::Handlers</a> for more information about attributes.</p>

</dd>
<dt id="SUB__">__SUB__ </dt>
<dd>

<p>A special token that returns the a reference to the current subroutine, or <code><code>undef</code></code> outside of a subroutine.</p>

<p>This token is only available under <code><code>use v5.16</code></code> or the &quot;current_sub&quot; feature. See <a href="../../lib/feature.html">feature</a>.</p>

</dd>
<dt id="substr-EXPR-OFFSET-LENGTH-REPLACEMENT">substr EXPR,OFFSET,LENGTH,REPLACEMENT     </dt>
<dd>

</dd>
<dt id="substr-EXPR-OFFSET-LENGTH">substr EXPR,OFFSET,LENGTH</dt>
<dd>

</dd>
<dt id="substr-EXPR-OFFSET">substr EXPR,OFFSET</dt>
<dd>

<p>Extracts a substring out of EXPR and returns it. First character is at offset zero. If OFFSET is negative, starts that far back from the end of the string. If LENGTH is omitted, returns everything through the end of the string. If LENGTH is negative, leaves that many characters off the end of the string.</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$s</span> <span class="operator">=</span> <span class="string">"The black cat climbed the green tree"</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$color</span>  <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="number">5</span><span class="operator">;</span>      <span class="comment"># black</span>
    <span class="keyword">my</span> <span class="variable">$middle</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">4</span><span class="operator">,</span> <span class="operator">-</span><span class="number">11</span><span class="operator">;</span>    <span class="comment"># black cat climbed the</span>
    <span class="keyword">my</span> <span class="variable">$end</span>    <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">14</span><span class="operator">;</span>        <span class="comment"># climbed the green tree</span>
    <span class="keyword">my</span> <span class="variable">$tail</span>   <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="operator">-</span><span class="number">4</span><span class="operator">;</span>        <span class="comment"># tree</span>
    <span class="keyword">my</span> <span class="variable">$z</span>      <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="operator">-</span><span class="number">4</span><span class="operator">,</span> <span class="number">2</span><span class="operator">;</span>     <span class="comment"># tr</span>
</code></code></pre>

<p>You can use the substr() function as an lvalue, in which case EXPR must itself be an lvalue. If you assign something shorter than LENGTH, the string will shrink, and if you assign something longer than LENGTH, the string will grow to accommodate it. To keep the string the same length, you may need to pad or chop your value using <code><code>sprintf</code></code>.</p>

<p>If OFFSET and LENGTH specify a substring that is partly outside the string, only the part within the string is returned. If the substring is beyond either end of the string, substr() returns the undefined value and produces a warning. When used as an lvalue, specifying a substring that is entirely outside the string raises an exception. Here&#39;s an example showing the behavior for boundary cases:</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$name</span> <span class="operator">=</span> <span class="string">'fred'</span><span class="operator">;</span>
    <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">,</span> <span class="number">4</span><span class="operator">)</span> <span class="operator">=</span> <span class="string">'dy'</span><span class="operator">;</span>         <span class="comment"># $name is now 'freddy'</span>
    <span class="keyword">my</span> <span class="variable">$null</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$name</span><span class="operator">,</span> <span class="number">6</span><span class="operator">,</span> <span class="number">2</span><span class="operator">;</span>   <span class="comment"># returns "" (no warning)</span>
    <span class="keyword">my</span> <span class="variable">$oops</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$name</span><span class="operator">,</span> <span class="number">7</span><span class="operator">;</span>      <span class="comment"># returns undef, with warning</span>
    <span class="keyword">substr</span><span class="operator">(</span><span class="variable">$name</span><span class="operator">,</span> <span class="number">7</span><span class="operator">)</span> <span class="operator">=</span> <span class="string">'gap'</span><span class="operator">;</span>        <span class="comment"># raises an exception</span>
</code></code></pre>

<p>An alternative to using substr() as an lvalue is to specify the replacement string as the 4th argument. This allows you to replace parts of the EXPR and return what was there before in one operation, just as you can with splice().</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$s</span> <span class="operator">=</span> <span class="string">"The black cat climbed the green tree"</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$z</span> <span class="operator">=</span> <span class="keyword">substr</span> <span class="variable">$s</span><span class="operator">,</span> <span class="number">14</span><span class="operator">,</span> <span class="number">7</span><span class="operator">,</span> <span class="string">"jumped from"</span><span class="operator">;</span>    <span class="comment"># climbed</span>
    <span class="comment"># $s is now "The black cat jumped from the green tree"</span>
</code></code></pre>

<p>Note that the lvalue returned by the three-argument version of substr() acts as a &#39;magic bullet&#39;; each time it is assigned to, it remembers which part of the original string is being modified; for example:</p>

<pre><code><code>    <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'1234'</span><span class="operator">;</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">substr</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span><span class="number">1</span><span class="operator">,</span><span class="number">2</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'a'</span><span class="operator">;</span>   <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>    <span class="comment"># prints 1a4</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'xyz'</span><span class="operator">;</span> <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>    <span class="comment"># prints 1xyz4</span>
        <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'56789'</span><span class="operator">;</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'pq'</span><span class="operator">;</span>  <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>    <span class="comment"># prints 5pq9</span>
    <span class="operator">}</span>
</code></code></pre>

<p>With negative offsets, it remembers its position from the end of the string when the target string is modified:</p>

<pre><code><code>    <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'1234'</span><span class="operator">;</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">substr</span><span class="operator">(</span><span class="variable">$x</span><span class="operator">,</span> <span class="operator">-</span><span class="number">3</span><span class="operator">,</span> <span class="number">2</span><span class="operator">))</span> <span class="operator">{</span>
        <span class="variable">$_</span> <span class="operator">=</span> <span class="string">'a'</span><span class="operator">;</span>   <span class="keyword">print</span> <span class="variable">$x</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>    <span class="comment"># prints 1a4, as above</span>
        <span class="variable">$x</span> <span class="operator">=</span> <span class="string">'abcdefg'</span><span class="operator">;</span>
        <span class="keyword">print</span> <span class="variable">$_</span><span class="operator">,</span><span class="string">"\n"</span><span class="operator">;</span>                <span class="comment"># prints f</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Prior to Perl version 5.10, the result of using an lvalue multiple times was unspecified. Prior to 5.16, the result with negative offsets was unspecified.</p>

</dd>
<dt id="symlink-OLDFILE-NEWFILE">symlink OLDFILE,NEWFILE    </dt>
<dd>

<p>Creates a new filename symbolically linked to the old filename. Returns <code><code>1</code></code> for success, <code><code>0</code></code> otherwise. On systems that don&#39;t support symbolic links, raises an exception. To check for that, use eval:</p>

<pre><code><code>    <span class="variable">$symlink_exists</span> <span class="operator">=</span> <span class="keyword">eval</span> <span class="operator">{</span> <span class="keyword">symlink</span><span class="operator">(</span><span class="string">""</span><span class="operator">,</span><span class="string">""</span><span class="operator">);</span> <span class="number">1</span> <span class="operator">};</span>
</code></code></pre>

<p>Portability issues: <a href="../../lib/pods/perlport.html#symlink">&quot;symlink&quot; in perlport</a>.</p>

</dd>
<dt id="syscall-NUMBER-LIST">syscall NUMBER, LIST  </dt>
<dd>

<p>Calls the system call specified as the first element of the list, passing the remaining elements as arguments to the system call. If unimplemented, raises an exception. The arguments are interpreted as follows: if a given argument is numeric, the argument is passed as an int. If not, the pointer to the string value is passed. You are responsible to make sure a string is pre-extended long enough to receive any result that might be written into a string. You can&#39;t use a string literal (or other read-only string) as an argument to <code><code>syscall</code></code> because Perl has to assume that any string pointer might be written through. If your integer arguments are not literals and have never been interpreted in a numeric context, you may need to add <code><code>0</code></code> to them to force them to look like numbers. This emulates the <code><code>syswrite</code></code> function (or vice versa):</p>

<pre><code><code>    <span class="keyword">require</span> <span class="string">'syscall.ph'</span><span class="operator">;</span>        <span class="comment"># may need to run h2ph</span>
    <span class="variable">$s</span> <span class="operator">=</span> <span class="string">"hi there\n"</span><span class="operator">;</span>
    <span class="keyword">syscall</span><span class="operator">(&amp;</span><span class="variable">SYS_write</span><span class="operator">,</span> <span class="keyword">fileno</span><span class="operator">(</span><span class="variable">STDOUT</span><span class="operator">),</span> <span class="variable">$s</span><span class="operator">,</span> <span class="keyword">length</span> <span class="variable">$s</span><span class="operator">);</span>
</code></code></pre>

<p>Note that Perl supports passing of up to only 14 arguments to your syscall, which in practice should (usually) suffice.</p>

<p>Syscall returns whatever value returned by the system call it calls. If the system call fails, <code><code>syscall</code></code> returns <code><code>-1</code></code> and sets <code><code>$!</code></code> (errno). Note that some system calls <i>can</i> legitimately return <code><code>-1</code></code>. The proper way to handle such calls is to assign <code><code>$!=0</code></code> before the call, then check the value of <code><code>$!</code></code> if <code><code>syscall</code></code> returns <code><code>-1</code></code>.</p>

<p>There&#39;s a problem with <code><code>syscall(&amp;SYS_pipe)</code></code>: it returns the file number of the read end of the pipe it creates, but there is no way to retrieve the file number of the other end. You can avoid this problem by using <code><code>pipe</code></code> instead.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#syscall">&quot;syscall&quot; in perlport</a>.</p>

</dd>
<dt id="sysopen-FILEHANDLE-FILENAME-MODE">sysopen FILEHANDLE,FILENAME,MODE </dt>
<dd>

</dd>
<dt id="sysopen-FILEHANDLE-FILENAME-MODE-PERMS">sysopen FILEHANDLE,FILENAME,MODE,PERMS</dt>
<dd>

<p>Opens the file whose filename is given by FILENAME, and associates it with FILEHANDLE. If FILEHANDLE is an expression, its value is used as the real filehandle wanted; an undefined scalar will be suitably autovivified. This function calls the underlying operating system&#39;s <i>open</i>(2) function with the parameters FILENAME, MODE, and PERMS.</p>

<p>The possible values and flag bits of the MODE parameter are system-dependent; they are available via the standard module <code><code>Fcntl</code></code>. See the documentation of your operating system&#39;s <i>open</i>(2) syscall to see which values and flag bits are available. You may combine several flags using the <code><code>|</code></code>-operator.</p>

<p>Some of the most common values are <code><code>O_RDONLY</code></code> for opening the file in read-only mode, <code><code>O_WRONLY</code></code> for opening the file in write-only mode, and <code><code>O_RDWR</code></code> for opening the file in read-write mode.   </p>

<p>For historical reasons, some values work on almost every system supported by Perl: 0 means read-only, 1 means write-only, and 2 means read/write. We know that these values do <i>not</i> work under OS/390 &amp; VM/ESA Unix and on the Macintosh; you probably don&#39;t want to use them in new code.</p>

<p>If the file named by FILENAME does not exist and the <code><code>open</code></code> call creates it (typically because MODE includes the <code><code>O_CREAT</code></code> flag), then the value of PERMS specifies the permissions of the newly created file. If you omit the PERMS argument to <code><code>sysopen</code></code>, Perl uses the octal value <code><code>0666</code></code>. These permission values need to be in octal, and are modified by your process&#39;s current <code><code>umask</code></code>. </p>

<p>In many systems the <code><code>O_EXCL</code></code> flag is available for opening files in exclusive mode. This is <b>not</b> locking: exclusiveness means here that if the file already exists, sysopen() fails. <code><code>O_EXCL</code></code> may not work on network filesystems, and has no effect unless the <code><code>O_CREAT</code></code> flag is set as well. Setting <code><code>O_CREAT|O_EXCL</code></code> prevents the file from being opened if it is a symbolic link. It does not protect against symbolic links in the file&#39;s path. </p>

<p>Sometimes you may want to truncate an already-existing file. This can be done using the <code><code>O_TRUNC</code></code> flag. The behavior of <code><code>O_TRUNC</code></code> with <code><code>O_RDONLY</code></code> is undefined. </p>

<p>You should seldom if ever use <code><code>0644</code></code> as argument to <code><code>sysopen</code></code>, because that takes away the user&#39;s option to have a more permissive umask. Better to omit it. See the perlfunc(1) entry on <code><code>umask</code></code> for more on this.</p>

<p>Note that <code><code>sysopen</code></code> depends on the fdopen() C library function. On many Unix systems, fdopen() is known to fail when file descriptors exceed a certain value, typically 255. If you need more file descriptors than that, consider rebuilding Perl to use the <code><code>sfio</code></code> library, or perhaps using the POSIX::open() function.</p>

<p>See <a href="../../lib/pods/perlopentut.html">perlopentut</a> for a kinder, gentler explanation of opening files.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#sysopen">&quot;sysopen&quot; in perlport</a>.</p>

</dd>
<dt id="sysread-FILEHANDLE-SCALAR-LENGTH-OFFSET">sysread FILEHANDLE,SCALAR,LENGTH,OFFSET </dt>
<dd>

</dd>
<dt id="sysread-FILEHANDLE-SCALAR-LENGTH">sysread FILEHANDLE,SCALAR,LENGTH</dt>
<dd>

<p>Attempts to read LENGTH bytes of data into variable SCALAR from the specified FILEHANDLE, using the read(2). It bypasses buffered IO, so mixing this with other kinds of reads, <code><code>print</code></code>, <code><code>write</code></code>, <code><code>seek</code></code>, <code><code>tell</code></code>, or <code><code>eof</code></code> can cause confusion because the perlio or stdio layers usually buffers data. Returns the number of bytes actually read, <code><code>0</code></code> at end of file, or undef if there was an error (in the latter case <code><code>$!</code></code> is also set). SCALAR will be grown or shrunk so that the last byte actually read is the last byte of the scalar after the read.</p>

<p>An OFFSET may be specified to place the read data at some place in the string other than the beginning. A negative OFFSET specifies placement at that many characters counting backwards from the end of the string. A positive OFFSET greater than the length of SCALAR results in the string being padded to the required size with <code><code>&quot;\0&quot;</code></code> bytes before the result of the read is appended.</p>

<p>There is no syseof() function, which is ok, since eof() doesn&#39;t work well on device files (like ttys) anyway. Use sysread() and check for a return value for 0 to decide whether you&#39;re done.</p>

<p>Note that if the filehandle has been marked as <code><code>:utf8</code></code> Unicode characters are read instead of bytes (the LENGTH, OFFSET, and the return value of sysread() are in Unicode characters). The <code><code>:encoding(...)</code></code> layer implicitly introduces the <code><code>:utf8</code></code> layer. See <a href="#binmode">&quot;binmode&quot;</a>, <a href="#open">&quot;open&quot;</a>, and the <code><code>open</code></code> pragma, <a href="../../lib/open.html">open</a>.</p>

</dd>
<dt id="sysseek-FILEHANDLE-POSITION-WHENCE">sysseek FILEHANDLE,POSITION,WHENCE  </dt>
<dd>

<p>Sets FILEHANDLE&#39;s system position in bytes using lseek(2). FILEHANDLE may be an expression whose value gives the name of the filehandle. The values for WHENCE are <code><code>0</code></code> to set the new position to POSITION; <code><code>1</code></code> to set the it to the current position plus POSITION; and <code><code>2</code></code> to set it to EOF plus POSITION, typically negative.</p>

<p>Note the <i>in bytes</i>: even if the filehandle has been set to operate on characters (for example by using the <code><code>:encoding(utf8)</code></code> I/O layer), tell() will return byte offsets, not character offsets (because implementing that would render sysseek() unacceptably slow).</p>

<p>sysseek() bypasses normal buffered IO, so mixing it with reads other than <code><code>sysread</code></code> (for example <code><code>&lt;&gt;</code></code> or read()) <code><code>print</code></code>, <code><code>write</code></code>, <code><code>seek</code></code>, <code><code>tell</code></code>, or <code><code>eof</code></code> may cause confusion.</p>

<p>For WHENCE, you may also use the constants <code><code>SEEK_SET</code></code>, <code><code>SEEK_CUR</code></code>, and <code><code>SEEK_END</code></code> (start of the file, current position, end of the file) from the Fcntl module. Use of the constants is also more portable than relying on 0, 1, and 2. For example to define a &quot;systell&quot; function:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Fcntl</span> <span class="string">'SEEK_CUR'</span><span class="operator">;</span>
    <span class="keyword">sub</span><span class="variable"> systell </span><span class="operator">{</span> <span class="keyword">sysseek</span><span class="operator">(</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="variable">SEEK_CUR</span><span class="operator">)</span> <span class="operator">}</span>
</code></code></pre>

<p>Returns the new position, or the undefined value on failure. A position of zero is returned as the string <code><code>&quot;0 but true&quot;</code></code>; thus <code><code>sysseek</code></code> returns true on success and false on failure, yet you can still easily determine the new position.</p>

</dd>
<dt id="system-LIST">system LIST  </dt>
<dd>

</dd>
<dt id="system-PROGRAM-LIST">system PROGRAM LIST</dt>
<dd>

<p>Does exactly the same thing as <code><code>exec LIST</code></code>, except that a fork is done first and the parent process waits for the child process to exit. Note that argument processing varies depending on the number of arguments. If there is more than one argument in LIST, or if LIST is an array with more than one value, starts the program given by the first element of the list with arguments given by the rest of the list. If there is only one scalar argument, the argument is checked for shell metacharacters, and if there are any, the entire argument is passed to the system&#39;s command shell for parsing (this is <code><code>/bin/sh -c</code></code> on Unix platforms, but varies on other platforms). If there are no shell metacharacters in the argument, it is split into words and passed directly to <code><code>execvp</code></code>, which is more efficient.</p>

<p>Beginning with v5.6.0, Perl will attempt to flush all files opened for output before any operation that may do a fork, but this may not be supported on some platforms (see <a href="../../lib/pods/perlport.html">perlport</a>). To be safe, you may need to set <code><code>$|</code></code> ($AUTOFLUSH in English) or call the <code><code>autoflush()</code></code> method of <code><code>IO::Handle</code></code> on any open handles.</p>

<p>The return value is the exit status of the program as returned by the <code><code>wait</code></code> call. To get the actual exit value, shift right by eight (see below). See also <a href="#exec">&quot;exec&quot;</a>. This is <i>not</i> what you want to use to capture the output from a command; for that you should use merely backticks or <code><code>qx//</code></code>, as described in <a href="../../lib/pods/perlop.html#STRING-">&quot;`STRING`&quot; in perlop</a>. Return value of -1 indicates a failure to start the program or an error of the wait(2) system call (inspect $! for the reason).</p>

<p>If you&#39;d like to make <code><code>system</code></code> (and many other bits of Perl) die on error, have a look at the <a href="../../lib/autodie.html">autodie</a> pragma.</p>

<p>Like <code><code>exec</code></code>, <code><code>system</code></code> allows you to lie to a program about its name if you use the <code><code>system PROGRAM LIST</code></code> syntax. Again, see <a href="#exec">&quot;exec&quot;</a>.</p>

<p>Since <code><code>SIGINT</code></code> and <code><code>SIGQUIT</code></code> are ignored during the execution of <code><code>system</code></code>, if you expect your program to terminate on receipt of these signals you will need to arrange to do so yourself based on the return value.</p>

<pre><code><code>    <span class="variable">@args</span> <span class="operator">=</span> <span class="operator">(</span><span class="string">"command"</span><span class="operator">,</span> <span class="string">"arg1"</span><span class="operator">,</span> <span class="string">"arg2"</span><span class="operator">);</span>
    <span class="keyword">system</span><span class="operator">(</span><span class="variable">@args</span><span class="operator">)</span> <span class="operator">==</span> <span class="number">0</span>
        <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"system </span><span class="variable">@args</span><span class="string"> failed: $?"</span>
</code></code></pre>

<p>If you&#39;d like to manually inspect <code><code>system</code></code>&#39;s failure, you can check all possible failure modes by inspecting <code><code>$?</code></code> like this:</p>

<pre><code><code>    <span class="keyword">if</span> <span class="operator">(</span><span class="variable">$?</span> <span class="operator">==</span> <span class="operator">-</span><span class="number">1</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="string">"failed to execute: $!\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">elsif</span> <span class="operator">(</span><span class="variable">$?</span> <span class="operator">&amp;</span> <span class="number">127</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">printf</span> <span class="string">"child died with signal %d, %s coredump\n"</span><span class="operator">,</span>
            <span class="operator">(</span><span class="variable">$?</span> <span class="operator">&amp;</span> <span class="number">127</span><span class="operator">),</span>  <span class="operator">(</span><span class="variable">$?</span> <span class="operator">&amp;</span> <span class="number">128</span><span class="operator">)</span> <span class="operator">?</span> <span class="string">'with'</span> <span class="operator">:</span> <span class="string">'without'</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">else</span> <span class="operator">{</span>
        <span class="keyword">printf</span> <span class="string">"child exited with value %d\n"</span><span class="operator">,</span> <span class="variable">$?</span> <span class="operator">&gt;&gt;</span> <span class="number">8</span><span class="operator">;</span>
    <span class="operator">}</span>
</code></code></pre>

<p>Alternatively, you may inspect the value of <code><code><span class="operator">${^</span><span class="variable">CHILD_ERROR_NATIVE</span><span class="operator">}</span>
</code></code> with the <code><code>W*()</code></code> calls from the POSIX module.</p>

<p>When <code><code>system</code></code>&#39;s arguments are executed indirectly by the shell, results and return codes are subject to its quirks. See <a href="../../lib/pods/perlop.html#STRING-">&quot;`STRING`&quot; in perlop</a> and <a href="#exec">&quot;exec&quot;</a> for details.</p>

<p>Since <code><code>system</code></code> does a <code><code>fork</code></code> and <code><code>wait</code></code> it may affect a <code><code>SIGCHLD</code></code> handler. See <a href="../../lib/pods/perlipc.html">perlipc</a> for details.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#system">&quot;system&quot; in perlport</a>.</p>

</dd>
<dt id="syswrite-FILEHANDLE-SCALAR-LENGTH-OFFSET">syswrite FILEHANDLE,SCALAR,LENGTH,OFFSET </dt>
<dd>

</dd>
<dt id="syswrite-FILEHANDLE-SCALAR-LENGTH">syswrite FILEHANDLE,SCALAR,LENGTH</dt>
<dd>

</dd>
<dt id="syswrite-FILEHANDLE-SCALAR">syswrite FILEHANDLE,SCALAR</dt>
<dd>

<p>Attempts to write LENGTH bytes of data from variable SCALAR to the specified FILEHANDLE, using write(2). If LENGTH is not specified, writes whole SCALAR. It bypasses buffered IO, so mixing this with reads (other than <code><code>sysread())</code></code>, <code><code>print</code></code>, <code><code>write</code></code>, <code><code>seek</code></code>, <code><code>tell</code></code>, or <code><code>eof</code></code> may cause confusion because the perlio and stdio layers usually buffer data. Returns the number of bytes actually written, or <code><code>undef</code></code> if there was an error (in this case the errno variable <code><code>$!</code></code> is also set). If the LENGTH is greater than the data available in the SCALAR after the OFFSET, only as much data as is available will be written.</p>

<p>An OFFSET may be specified to write the data from some part of the string other than the beginning. A negative OFFSET specifies writing that many characters counting backwards from the end of the string. If SCALAR is of length zero, you can only use an OFFSET of 0.</p>

<p><b>WARNING</b>: If the filehandle is marked <code><code>:utf8</code></code>, Unicode characters encoded in UTF-8 are written instead of bytes, and the LENGTH, OFFSET, and return value of syswrite() are in (UTF8-encoded Unicode) characters. The <code><code>:encoding(...)</code></code> layer implicitly introduces the <code><code>:utf8</code></code> layer. Alternately, if the handle is not marked with an encoding but you attempt to write characters with code points over 255, raises an exception. See <a href="#binmode">&quot;binmode&quot;</a>, <a href="#open">&quot;open&quot;</a>, and the <code><code>open</code></code> pragma, <a href="../../lib/open.html">open</a>.</p>

</dd>
<dt id="tell-FILEHANDLE">tell FILEHANDLE </dt>
<dd>

</dd>
<dt id="tell">tell</dt>
<dd>

<p>Returns the current position <i>in bytes</i> for FILEHANDLE, or -1 on error. FILEHANDLE may be an expression whose value gives the name of the actual filehandle. If FILEHANDLE is omitted, assumes the file last read.</p>

<p>Note the <i>in bytes</i>: even if the filehandle has been set to operate on characters (for example by using the <code><code>:encoding(utf8)</code></code> open layer), tell() will return byte offsets, not character offsets (because that would render seek() and tell() rather slow).</p>

<p>The return value of tell() for the standard streams like the STDIN depends on the operating system: it may return -1 or something else. tell() on pipes, fifos, and sockets usually returns -1.</p>

<p>There is no <code><code>systell</code></code> function. Use <code><code>sysseek(FH, 0, 1)</code></code> for that.</p>

<p>Do not use tell() (or other buffered I/O operations) on a filehandle that has been manipulated by sysread(), syswrite(), or sysseek(). Those functions ignore the buffering, while tell() does not.</p>

</dd>
<dt id="telldir-DIRHANDLE">telldir DIRHANDLE </dt>
<dd>

<p>Returns the current position of the <code><code>readdir</code></code> routines on DIRHANDLE. Value may be given to <code><code>seekdir</code></code> to access a particular location in a directory. <code><code>telldir</code></code> has the same caveats about possible directory compaction as the corresponding system library routine.</p>

</dd>
<dt id="tie-VARIABLE-CLASSNAME-LIST">tie VARIABLE,CLASSNAME,LIST </dt>
<dd>

<p>This function binds a variable to a package class that will provide the implementation for the variable. VARIABLE is the name of the variable to be enchanted. CLASSNAME is the name of a class implementing objects of correct type. Any additional arguments are passed to the <code><code>new</code></code> method of the class (meaning <code><code>TIESCALAR</code></code>, <code><code>TIEHANDLE</code></code>, <code><code>TIEARRAY</code></code>, or <code><code>TIEHASH</code></code>). Typically these are arguments such as might be passed to the <code><code>dbm_open()</code></code> function of C. The object returned by the <code><code>new</code></code> method is also returned by the <code><code>tie</code></code> function, which would be useful if you want to access other methods in CLASSNAME.</p>

<p>Note that functions such as <code><code>keys</code></code> and <code><code>values</code></code> may return huge lists when used on large objects, like DBM files. You may prefer to use the <code><code>each</code></code> function to iterate over such. Example:</p>

<pre><code><code>    <span class="comment"># print out history file offsets</span>
    <span class="keyword">use</span> <span class="variable">NDBM_File</span><span class="operator">;</span>
    <span class="keyword">tie</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">,</span> <span class="string">'NDBM_File'</span><span class="operator">,</span> <span class="string">'/usr/lib/news/history'</span><span class="operator">,</span> <span class="number">1</span><span class="operator">,</span> <span class="number">0</span><span class="operator">);</span>
    <span class="keyword">while</span> <span class="operator">((</span><span class="variable">$key</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">each</span> <span class="variable">%HIST</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">print</span> <span class="variable">$key</span><span class="operator">,</span> <span class="string">' = '</span><span class="operator">,</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">'L'</span><span class="operator">,</span><span class="variable">$val</span><span class="operator">),</span> <span class="string">"\n"</span><span class="operator">;</span>
    <span class="operator">}</span>
    <span class="keyword">untie</span><span class="operator">(</span><span class="variable">%HIST</span><span class="operator">);</span>
</code></code></pre>

<p>A class implementing a hash should have the following methods:</p>

<pre><code><code>    TIEHASH classname, LIST
    FETCH this, key
    STORE this, key, value
    DELETE this, key
    CLEAR this
    EXISTS this, key
    FIRSTKEY this
    NEXTKEY this, lastkey
    SCALAR this
    DESTROY this
    UNTIE this</code></code></pre>

<p>A class implementing an ordinary array should have the following methods:</p>

<pre><code><code>    TIEARRAY classname, LIST
    FETCH this, key
    STORE this, key, value
    FETCHSIZE this
    STORESIZE this, count
    CLEAR this
    PUSH this, LIST
    POP this
    SHIFT this
    UNSHIFT this, LIST
    SPLICE this, offset, length, LIST
    EXTEND this, count
    DESTROY this
    UNTIE this</code></code></pre>

<p>A class implementing a filehandle should have the following methods:</p>

<pre><code><code>    TIEHANDLE classname, LIST
    READ this, scalar, length, offset
    READLINE this
    GETC this
    WRITE this, scalar, length, offset
    PRINT this, LIST
    PRINTF this, format, LIST
    BINMODE this
    EOF this
    FILENO this
    SEEK this, position, whence
    TELL this
    OPEN this, mode, LIST
    CLOSE this
    DESTROY this
    UNTIE this</code></code></pre>

<p>A class implementing a scalar should have the following methods:</p>

<pre><code><code>    TIESCALAR classname, LIST
    FETCH this,
    STORE this, value
    DESTROY this
    UNTIE this</code></code></pre>

<p>Not all methods indicated above need be implemented. See <a href="../../lib/pods/perltie.html">perltie</a>, <a href="../../lib/Tie/Hash.html">Tie::Hash</a>, <a href="../../lib/Tie/Array.html">Tie::Array</a>, <a href="../../lib/Tie/Scalar.html">Tie::Scalar</a>, and <a href="../../lib/Tie/Handle.html">Tie::Handle</a>.</p>

<p>Unlike <code><code>dbmopen</code></code>, the <code><code>tie</code></code> function will not <code><code>use</code></code> or <code><code>require</code></code> a module for you; you need to do that explicitly yourself. See <a>DB_File</a> or the <i>Config</i> module for interesting <code><code>tie</code></code> implementations.</p>

<p>For further details see <a href="../../lib/pods/perltie.html">perltie</a>, <a href="#tied-VARIABLE">&quot;tied VARIABLE&quot;</a>.</p>

</dd>
<dt id="tied-VARIABLE">tied VARIABLE </dt>
<dd>

<p>Returns a reference to the object underlying VARIABLE (the same value that was originally returned by the <code><code>tie</code></code> call that bound the variable to a package.) Returns the undefined value if VARIABLE isn&#39;t tied to a package.</p>

</dd>
<dt id="time">time  </dt>
<dd>

<p>Returns the number of non-leap seconds since whatever time the system considers to be the epoch, suitable for feeding to <code><code>gmtime</code></code> and <code><code>localtime</code></code>. On most systems the epoch is 00:00:00 UTC, January 1, 1970; a prominent exception being Mac OS Classic which uses 00:00:00, January 1, 1904 in the current local time zone for its epoch.</p>

<p>For measuring time in better granularity than one second, use the <a href="../../lib/Time/HiRes.html">Time::HiRes</a> module from Perl 5.8 onwards (or from CPAN before then), or, if you have gettimeofday(2), you may be able to use the <code><code>syscall</code></code> interface of Perl. See <a href="../../lib/pods/perlfaq8.html">perlfaq8</a> for details.</p>

<p>For date and time processing look at the many related modules on CPAN. For a comprehensive date and time representation look at the <a href="../../lib/ActiveState/DateTime.html">DateTime</a> module.</p>

</dd>
<dt id="times">times </dt>
<dd>

<p>Returns a four-element list giving the user and system times in seconds for this process and any exited children of this process.</p>

<pre><code><code>    <span class="operator">(</span><span class="variable">$user</span><span class="operator">,</span><span class="variable">$system</span><span class="operator">,</span><span class="variable">$cuser</span><span class="operator">,</span><span class="variable">$csystem</span><span class="operator">)</span> <span class="operator">=</span> <span class="keyword">times</span><span class="operator">;</span>
</code></code></pre>

<p>In scalar context, <code><code>times</code></code> returns <code><code>$user</code></code>.</p>

<p>Children&#39;s times are only included for terminated children.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#times">&quot;times&quot; in perlport</a>.</p>

</dd>
<dt id="tr-">tr///</dt>
<dd>

<p>The transliteration operator. Same as <code><code>y///</code></code>. See <a href="../../lib/pods/perlop.html#Quote-and-Quote-like-Operators">&quot;Quote and Quote-like Operators&quot; in perlop</a>.</p>

</dd>
<dt id="truncate-FILEHANDLE-LENGTH">truncate FILEHANDLE,LENGTH </dt>
<dd>

</dd>
<dt id="truncate-EXPR-LENGTH">truncate EXPR,LENGTH</dt>
<dd>

<p>Truncates the file opened on FILEHANDLE, or named by EXPR, to the specified length. Raises an exception if truncate isn&#39;t implemented on your system. Returns true if successful, <code><code>undef</code></code> on error.</p>

<p>The behavior is undefined if LENGTH is greater than the length of the file.</p>

<p>The position in the file of FILEHANDLE is left unchanged. You may want to call <a href="#seek-FILEHANDLE-POSITION-WHENCE">seek</a> before writing to the file.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#truncate">&quot;truncate&quot; in perlport</a>.</p>

</dd>
<dt id="uc-EXPR">uc EXPR   </dt>
<dd>

</dd>
<dt id="uc">uc</dt>
<dd>

<p>Returns an uppercased version of EXPR. This is the internal function implementing the <code><code>\U</code></code> escape in double-quoted strings. It does not attempt to do titlecase mapping on initial letters. See <a href="#ucfirst">&quot;ucfirst&quot;</a> for that.</p>

<p>If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>This function behaves the same way under various pragma, such as in a locale, as <a href="#lc">&quot;lc&quot;</a> does.</p>

</dd>
<dt id="ucfirst-EXPR">ucfirst EXPR  </dt>
<dd>

</dd>
<dt id="ucfirst">ucfirst</dt>
<dd>

<p>Returns the value of EXPR with the first character in uppercase (titlecase in Unicode). This is the internal function implementing the <code><code>\u</code></code> escape in double-quoted strings.</p>

<p>If EXPR is omitted, uses <code><code>$_</code></code>.</p>

<p>This function behaves the same way under various pragma, such as in a locale, as <a href="#lc">&quot;lc&quot;</a> does.</p>

</dd>
<dt id="umask-EXPR">umask EXPR </dt>
<dd>

</dd>
<dt id="umask">umask</dt>
<dd>

<p>Sets the umask for the process to EXPR and returns the previous value. If EXPR is omitted, merely returns the current umask.</p>

<p>The Unix permission <code><code>rwxr-x---</code></code> is represented as three sets of three bits, or three octal digits: <code><code>0750</code></code> (the leading 0 indicates octal and isn&#39;t one of the digits). The <code><code>umask</code></code> value is such a number representing disabled permissions bits. The permission (or &quot;mode&quot;) values you pass <code><code>mkdir</code></code> or <code><code>sysopen</code></code> are modified by your umask, so even if you tell <code><code>sysopen</code></code> to create a file with permissions <code><code>0777</code></code>, if your umask is <code><code>0022</code></code>, then the file will actually be created with permissions <code><code>0755</code></code>. If your <code><code>umask</code></code> were <code><code>0027</code></code> (group can&#39;t write; others can&#39;t read, write, or execute), then passing <code><code>sysopen</code></code> <code><code>0666</code></code> would create a file with mode <code><code>0640</code></code> (because <code><code>0666 &amp;~ 027</code></code> is <code><code>0640</code></code>).</p>

<p>Here&#39;s some advice: supply a creation mode of <code><code>0666</code></code> for regular files (in <code><code>sysopen</code></code>) and one of <code><code>0777</code></code> for directories (in <code><code>mkdir</code></code>) and executable files. This gives users the freedom of choice: if they want protected files, they might choose process umasks of <code><code>022</code></code>, <code><code>027</code></code>, or even the particularly antisocial mask of <code><code>077</code></code>. Programs should rarely if ever make policy decisions better left to the user. The exception to this is when writing files that should be kept private: mail files, web browser cookies, <i>.rhosts</i> files, and so on.</p>

<p>If umask(2) is not implemented on your system and you are trying to restrict access for <i>yourself</i> (i.e., <code><code>(EXPR &amp; 0700) &gt; 0</code></code>), raises an exception. If umask(2) is not implemented and you are not trying to restrict access for yourself, returns <code><code>undef</code></code>.</p>

<p>Remember that a umask is a number, usually given in octal; it is <i>not</i> a string of octal digits. See also <a href="#oct">&quot;oct&quot;</a>, if all you have is a string.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#umask">&quot;umask&quot; in perlport</a>.</p>

</dd>
<dt id="undef-EXPR">undef EXPR  </dt>
<dd>

</dd>
<dt id="undef">undef</dt>
<dd>

<p>Undefines the value of EXPR, which must be an lvalue. Use only on a scalar value, an array (using <code><code>@</code></code>), a hash (using <code><code>%</code></code>), a subroutine (using <code><code>&amp;</code></code>), or a typeglob (using <code><code>*</code></code>). Saying <code><code><span class="keyword">undef</span> <span class="variable">$hash</span><span class="operator">{</span><span class="variable">$key</span><span class="operator">}</span>
</code></code> will probably not do what you expect on most predefined variables or DBM list values, so don&#39;t do that; see <a href="#delete">&quot;delete&quot;</a>. Always returns the undefined value. You can omit the EXPR, in which case nothing is undefined, but you still get an undefined value that you could, for instance, return from a subroutine, assign to a variable, or pass as a parameter. Examples:</p>

<pre><code><code>    <span class="keyword">undef</span> <span class="variable">$foo</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">$bar</span><span class="operator">{</span><span class="string">'blurfl'</span><span class="operator">}</span><span class="operator">;</span>      <span class="comment"># Compare to: delete $bar{'blurfl'};</span>
    <span class="keyword">undef</span> <span class="variable">@ary</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">%hash</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="operator">&amp;</span><span class="variable">mysub</span><span class="operator">;</span>
    <span class="keyword">undef</span> <span class="variable">*xyz</span><span class="operator">;</span>       <span class="comment"># destroys $xyz, @xyz, %xyz, &amp;xyz, etc.</span>
    <span class="keyword">return</span> <span class="operator">(</span><span class="keyword">wantarray</span> <span class="operator">?</span> <span class="operator">(</span><span class="keyword">undef</span><span class="operator">,</span> <span class="variable">$errmsg</span><span class="operator">)</span> <span class="operator">:</span> <span class="keyword">undef</span><span class="operator">)</span> <span class="keyword">if</span> <span class="variable">$they_blew_it</span><span class="operator">;</span>
    <span class="keyword">select</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="number">0</span><span class="operator">.</span><span class="number">25</span><span class="operator">;</span>
    <span class="operator">(</span><span class="variable">$a</span><span class="operator">,</span> <span class="variable">$b</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="variable">$c</span><span class="operator">)</span> <span class="operator">=</span> <span class="operator">&amp;</span><span class="variable">foo</span><span class="operator">;</span>       <span class="comment"># Ignore third value returned</span>
</code></code></pre>

<p>Note that this is a unary operator, not a list operator.</p>

</dd>
<dt id="unlink-LIST">unlink LIST     </dt>
<dd>

</dd>
<dt id="unlink">unlink</dt>
<dd>

<p>Deletes a list of files. On success, it returns the number of files it successfully deleted. On failure, it returns false and sets <code><code>$!</code></code> (errno):</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$unlinked</span> <span class="operator">=</span> <span class="keyword">unlink</span> <span class="string">'a'</span><span class="operator">,</span> <span class="string">'b'</span><span class="operator">,</span> <span class="string">'c'</span><span class="operator">;</span>
    <span class="keyword">unlink</span> <span class="variable">@goners</span><span class="operator">;</span>
    <span class="keyword">unlink</span> <span class="keyword">glob</span> <span class="string">"*.bak"</span><span class="operator">;</span>
</code></code></pre>

<p>On error, <code><code>unlink</code></code> will not tell you which files it could not remove. If you want to know which files you could not remove, try them one at a time:</p>

<pre><code><code>     <span class="keyword">foreach</span> <span class="keyword">my</span> <span class="variable">$file</span> <span class="operator">(</span> <span class="variable">@goners</span> <span class="operator">)</span> <span class="operator">{</span>
         <span class="keyword">unlink</span> <span class="variable">$file</span> <span class="keyword">or</span> <span class="keyword">warn</span> <span class="string">"Could not unlink </span><span class="variable">$file</span><span class="string">: $!"</span><span class="operator">;</span>
     <span class="operator">}</span>
</code></code></pre>

<p>Note: <code><code>unlink</code></code> will not attempt to delete directories unless you are superuser and the <b>-U</b> flag is supplied to Perl. Even if these conditions are met, be warned that unlinking a directory can inflict damage on your filesystem. Finally, using <code><code>unlink</code></code> on directories is not supported on many operating systems. Use <code><code>rmdir</code></code> instead.</p>

<p>If LIST is omitted, <code><code>unlink</code></code> uses <code><code>$_</code></code>.</p>

</dd>
<dt id="unpack-TEMPLATE-EXPR">unpack TEMPLATE,EXPR </dt>
<dd>

</dd>
<dt id="unpack-TEMPLATE">unpack TEMPLATE</dt>
<dd>

<p><code><code>unpack</code></code> does the reverse of <code><code>pack</code></code>: it takes a string and expands it out into a list of values. (In scalar context, it returns merely the first value produced.)</p>

<p>If EXPR is omitted, unpacks the <code><code>$_</code></code> string. See <a href="../../lib/pods/perlpacktut.html">perlpacktut</a> for an introduction to this function.</p>

<p>The string is broken into chunks described by the TEMPLATE. Each chunk is converted separately to a value. Typically, either the string is a result of <code><code>pack</code></code>, or the characters of the string represent a C structure of some kind.</p>

<p>The TEMPLATE has the same format as in the <code><code>pack</code></code> function. Here&#39;s a subroutine that does substring:</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> substr </span><span class="operator">{</span>
        <span class="keyword">my</span><span class="operator">(</span><span class="variable">$what</span><span class="operator">,</span><span class="variable">$where</span><span class="operator">,</span><span class="variable">$howmuch</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">@_</span><span class="operator">;</span>
        <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"x</span><span class="variable">$where</span><span class="string"> a</span><span class="variable">$howmuch</span><span class="string">"</span><span class="operator">,</span> <span class="variable">$what</span><span class="operator">);</span>
    <span class="operator">}</span>
</code></code></pre>

<p>and then there&#39;s</p>

<pre><code><code>    <span class="keyword">sub</span><span class="variable"> ordinal </span><span class="operator">{</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"W"</span><span class="operator">,</span><span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span><span class="operator">);</span> <span class="operator">}</span> <span class="comment"># same as ord()</span>
</code></code></pre>

<p>In addition to fields allowed in pack(), you may prefix a field with a %&lt;number&gt; to indicate that you want a &lt;number&gt;-bit checksum of the items instead of the items themselves. Default is a 16-bit checksum. Checksum is calculated by summing numeric values of expanded values (for string fields the sum of <code><code>ord($char)</code></code> is taken; for bit fields the sum of zeroes and ones).</p>

<p>For example, the following computes the same number as the System V sum program:</p>

<pre><code><code>    <span class="variable">$checksum</span> <span class="operator">=</span> <span class="keyword">do</span> <span class="operator">{</span>
        <span class="keyword">local</span> <span class="variable">$/</span><span class="operator">;</span>  <span class="comment"># slurp!</span>
        <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"%32W*"</span><span class="operator">,&lt;&gt;)</span> <span class="operator">% </span><span class="number">65535</span><span class="operator">;</span>
    <span class="operator">};</span>
</code></code></pre>

<p>The following efficiently counts the number of set bits in a bit vector:</p>

<pre><code><code>    <span class="variable">$setbits</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"%32b*"</span><span class="operator">,</span> <span class="variable">$selectmask</span><span class="operator">);</span>
</code></code></pre>

<p>The <code><code>p</code></code> and <code><code>P</code></code> formats should be used with care. Since Perl has no way of checking whether the value passed to <code><code>unpack()</code></code> corresponds to a valid memory location, passing a pointer value that&#39;s not known to be valid is likely to have disastrous consequences.</p>

<p>If there are more pack codes or if the repeat count of a field or a group is larger than what the remainder of the input string allows, the result is not well defined: the repeat count may be decreased, or <code><code>unpack()</code></code> may produce empty strings or zeros, or it may raise an exception. If the input string is longer than one described by the TEMPLATE, the remainder of that input string is ignored.</p>

<p>See <a href="#pack">&quot;pack&quot;</a> for more examples and notes.</p>

</dd>
<dt id="unshift-ARRAY-LIST">unshift ARRAY,LIST </dt>
<dd>

</dd>
<dt id="unshift-EXPR-LIST">unshift EXPR,LIST</dt>
<dd>

<p>Does the opposite of a <code><code>shift</code></code>. Or the opposite of a <code><code>push</code></code>, depending on how you look at it. Prepends list to the front of the array and returns the new number of elements in the array.</p>

<pre><code><code>    <span class="keyword">unshift</span><span class="operator">(</span><span class="variable">@ARGV</span><span class="operator">,</span> <span class="string">'-e'</span><span class="operator">)</span> <span class="keyword">unless</span> <span class="variable">$ARGV</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="operator">=~</span> <span class="regex">/^-/</span><span class="operator">;</span>
</code></code></pre>

<p>Note the LIST is prepended whole, not one element at a time, so the prepended elements stay in the same order. Use <code><code>reverse</code></code> to do the reverse.</p>

<p>Starting with Perl 5.14, <code><code>unshift</code></code> can take a scalar EXPR, which must hold a reference to an unblessed array. The argument will be dereferenced automatically. This aspect of <code><code>unshift</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so push/pop/etc work on scalars (experimental)</span>
</code></code></pre>

</dd>
<dt id="untie-VARIABLE">untie VARIABLE </dt>
<dd>

<p>Breaks the binding between a variable and a package. (See <a href="#tie-VARIABLE-CLASSNAME-LIST">tie</a>.) Has no effect if the variable is not tied.</p>

</dd>
<dt id="use-Module-VERSION-LIST">use Module VERSION LIST   </dt>
<dd>

</dd>
<dt id="use-Module-VERSION">use Module VERSION</dt>
<dd>

</dd>
<dt id="use-Module-LIST">use Module LIST</dt>
<dd>

</dd>
<dt id="use-Module">use Module</dt>
<dd>

</dd>
<dt id="use-VERSION">use VERSION</dt>
<dd>

<p>Imports some semantics into the current package from the named module, generally by aliasing certain subroutine or variable names into your package. It is exactly equivalent to</p>

<pre><code><code>    <span class="keyword">BEGIN</span> <span class="operator">{</span> <span class="keyword">require</span> <span class="variable">Module</span><span class="operator">;</span> <span class="variable">Module</span><span class="operator">-&gt;</span><span class="variable">import</span><span class="operator">(</span> <span class="variable">LIST</span> <span class="operator">);</span> <span class="operator">}</span>
</code></code></pre>

<p>except that Module <i>must</i> be a bareword. The importation can be made conditional; see <a href="../../lib/if.html">if</a>.</p>

<p>In the peculiar <code><code>use VERSION</code></code> form, VERSION may be either a positive decimal fraction such as 5.006, which will be compared to <code><code>$]</code></code>, or a v-string of the form v5.6.1, which will be compared to <code><code>$^V</code></code> (aka $PERL_VERSION). An exception is raised if VERSION is greater than the version of the current Perl interpreter; Perl will not attempt to parse the rest of the file. Compare with <a href="#require">&quot;require&quot;</a>, which can do a similar check at run time. Symmetrically, <code><code>no VERSION</code></code> allows you to specify that you want a version of Perl older than the specified one.</p>

<p>Specifying VERSION as a literal of the form v5.6.1 should generally be avoided, because it leads to misleading error messages under earlier versions of Perl (that is, prior to 5.6.0) that do not support this syntax. The equivalent numeric version should be used instead.</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">v5</span><span class="number">.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>     <span class="comment"># compile time version check</span>
    <span class="keyword">use</span> <span class="number">5.6</span><span class="operator">.</span><span class="number">1</span><span class="operator">;</span>      <span class="comment"># ditto</span>
    <span class="keyword">use</span> <span class="number">5.006_001</span><span class="operator">;</span>  <span class="comment"># ditto; preferred for backwards compatibility</span>
</code></code></pre>

<p>This is often useful if you need to check the current Perl version before <code><code>use</code></code>ing library modules that won&#39;t work with older versions of Perl. (We try not to do this more than we have to.)</p>

<p><code><code>use VERSION</code></code> also enables all features available in the requested version as defined by the <code><code>feature</code></code> pragma, disabling any features not in the requested version&#39;s feature bundle. See <a href="../../lib/feature.html">feature</a>. Similarly, if the specified Perl version is greater than or equal to 5.11.0, strictures are enabled lexically as with <code><code>use strict</code></code>. Any explicit use of <code><code>use strict</code></code> or <code><code>no strict</code></code> overrides <code><code>use VERSION</code></code>, even if it comes before it. In both cases, the <i>feature.pm</i> and <i>strict.pm</i> files are not actually loaded.</p>

<p>The <code><code>BEGIN</code></code> forces the <code><code>require</code></code> and <code><code>import</code></code> to happen at compile time. The <code><code>require</code></code> makes sure the module is loaded into memory if it hasn&#39;t been yet. The <code><code>import</code></code> is not a builtin; it&#39;s just an ordinary static method call into the <code><code>Module</code></code> package to tell the module to import the list of features back into the current package. The module can implement its <code><code>import</code></code> method any way it likes, though most modules just choose to derive their <code><code>import</code></code> method via inheritance from the <code><code>Exporter</code></code> class that is defined in the <code><code>Exporter</code></code> module. See <a href="../../lib/Exporter.html">Exporter</a>. If no <code><code>import</code></code> method can be found then the call is skipped, even if there is an AUTOLOAD method.</p>

<p>If you do not want to call the package&#39;s <code><code>import</code></code> method (for instance, to stop your namespace from being altered), explicitly supply the empty list:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">Module</span> <span class="operator">();</span>
</code></code></pre>

<p>That is exactly equivalent to</p>

<pre><code><code>    <span class="keyword">BEGIN</span> <span class="operator">{</span> <span class="keyword">require</span> <span class="variable">Module</span> <span class="operator">}</span>
</code></code></pre>

<p>If the VERSION argument is present between Module and LIST, then the <code><code>use</code></code> will call the VERSION method in class Module with the given version as an argument. The default VERSION method, inherited from the UNIVERSAL class, croaks if the given version is larger than the value of the variable <code><code>$Module::VERSION</code></code>.</p>

<p>Again, there is a distinction between omitting LIST (<code><code>import</code></code> called with no arguments) and an explicit empty LIST <code><code>()</code></code> (<code><code>import</code></code> not called). Note that there is no comma after VERSION!</p>

<p>Because this is a wide-open interface, pragmas (compiler directives) are also implemented this way. Currently implemented pragmas are:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">constant</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">diagnostics</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">integer</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">sigtrap</span>  <span class="string">qw(SEGV BUS)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">strict</span>   <span class="string">qw(subs vars refs)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">subs</span>     <span class="string">qw(afunc blurfl)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="variable">warnings</span> <span class="string">qw(all)</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="keyword">sort</span>     <span class="string">qw(stable _quicksort _mergesort)</span><span class="operator">;</span>
</code></code></pre>

<p>Some of these pseudo-modules import semantics into the current block scope (like <code><code>strict</code></code> or <code><code>integer</code></code>, unlike ordinary modules, which import symbols into the current package (which are effective through the end of the file).</p>

<p>Because <code><code>use</code></code> takes effect at compile time, it doesn&#39;t respect the ordinary flow control of the code being compiled. In particular, putting a <code><code>use</code></code> inside the false branch of a conditional doesn&#39;t prevent it from being processed. If a module or pragma only needs to be loaded conditionally, this can be done using the <a href="../../lib/if.html">if</a> pragma:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="keyword">if</span> <span class="variable">$]</span> <span class="operator">&lt;</span> <span class="number">5.008</span><span class="operator">,</span> <span class="string">"utf8"</span><span class="operator">;</span>
    <span class="keyword">use</span> <span class="keyword">if</span> <span class="variable">WANT_WARNINGS</span><span class="operator">,</span> <span class="string">warnings</span> <span class="operator">=&gt;</span> <span class="string">qw(all)</span><span class="operator">;</span>
</code></code></pre>

<p>There&#39;s a corresponding <code><code>no</code></code> declaration that unimports meanings imported by <code><code>use</code></code>, i.e., it calls <code><code>unimport Module LIST</code></code> instead of <code><code>import</code></code>. It behaves just as <code><code>import</code></code> does with VERSION, an omitted or empty LIST, or no unimport method being found.</p>

<pre><code><code>    <span class="keyword">no</span> <span class="variable">integer</span><span class="operator">;</span>
    <span class="keyword">no</span> <span class="variable">strict</span> <span class="string">'refs'</span><span class="operator">;</span>
    <span class="keyword">no</span> <span class="variable">warnings</span><span class="operator">;</span>
</code></code></pre>

<p>Care should be taken when using the <code><code>no VERSION</code></code> form of <code><code>no</code></code>. It is <i>only</i> meant to be used to assert that the running Perl is of a earlier version than its argument and <i>not</i> to undo the feature-enabling side effects of <code><code>use VERSION</code></code>.</p>

<p>See <a href="../../lib/pods/perlmodlib.html">perlmodlib</a> for a list of standard modules and pragmas. See <a href="../../lib/pods/perlrun.html">perlrun</a> for the <code><code>-M</code></code> and <code><code>-m</code></code> command-line options to Perl that give <code><code>use</code></code> functionality from the command-line.</p>

</dd>
<dt id="utime-LIST">utime LIST </dt>
<dd>

<p>Changes the access and modification times on each file of a list of files. The first two elements of the list must be the NUMERIC access and modification times, in that order. Returns the number of files successfully changed. The inode change time of each file is set to the current time. For example, this code has the same effect as the Unix touch(1) command when the files <i>already exist</i> and belong to the user running the program:</p>

<pre><code><code>    <span class="comment">#!/usr/bin/perl</span>
    <span class="variable">$atime</span> <span class="operator">=</span> <span class="variable">$mtime</span> <span class="operator">=</span> <span class="keyword">time</span><span class="operator">;</span>
    <span class="keyword">utime</span> <span class="variable">$atime</span><span class="operator">,</span> <span class="variable">$mtime</span><span class="operator">,</span> <span class="variable">@ARGV</span><span class="operator">;</span>
</code></code></pre>

<p>Since Perl 5.7.2, if the first two elements of the list are <code><code>undef</code></code>, the utime(2) syscall from your C library is called with a null second argument. On most systems, this will set the file&#39;s access and modification times to the current time (i.e., equivalent to the example above) and will work even on files you don&#39;t own provided you have write permission:</p>

<pre><code><code>    <span class="keyword">for</span> <span class="variable">$file</span> <span class="operator">(</span><span class="variable">@ARGV</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="keyword">utime</span><span class="operator">(</span><span class="keyword">undef</span><span class="operator">,</span> <span class="keyword">undef</span><span class="operator">,</span> <span class="variable">$file</span><span class="operator">)</span> 
            <span class="operator">||</span> <span class="keyword">warn</span> <span class="string">"couldn't touch </span><span class="variable">$file</span><span class="string">: $!"</span><span class="operator">;</span>
    <span class="operator">}</span> 
</code></code></pre>

<p>Under NFS this will use the time of the NFS server, not the time of the local machine. If there is a time synchronization problem, the NFS server and local machine will have different times. The Unix touch(1) command will in fact normally use this form instead of the one shown in the first example.</p>

<p>Passing only one of the first two elements as <code><code>undef</code></code> is equivalent to passing a 0 and will not have the effect described when both are <code><code>undef</code></code>. This also triggers an uninitialized warning.</p>

<p>On systems that support futimes(2), you may pass filehandles among the files. On systems that don&#39;t support futimes(2), passing filehandles raises an exception. Filehandles must be passed as globs or glob references to be recognized; barewords are considered filenames.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#utime">&quot;utime&quot; in perlport</a>.</p>

</dd>
<dt id="values-HASH">values HASH </dt>
<dd>

</dd>
<dt id="values-ARRAY">values ARRAY</dt>
<dd>

</dd>
<dt id="values-EXPR">values EXPR</dt>
<dd>

<p>In list context, returns a list consisting of all the values of the named hash. In Perl 5.12 or later only, will also return a list of the values of an array; prior to that release, attempting to use an array argument will produce a syntax error. In scalar context, returns the number of values.</p>

<p>When called on a hash, the values are returned in an apparently random order. The actual random order is subject to change in future versions of Perl, but it is guaranteed to be the same order as either the <code><code>keys</code></code> or <code><code>each</code></code> function would produce on the same (unmodified) hash. Since Perl 5.8.1 the ordering is different even between different runs of Perl for security reasons (see <a href="../../lib/pods/perlsec.html#Algorithmic-Complexity-Attacks">&quot;Algorithmic Complexity Attacks&quot; in perlsec</a>).</p>

<p>As a side effect, calling values() resets the HASH or ARRAY&#39;s internal iterator, see <a href="#each">&quot;each&quot;</a>. (In particular, calling values() in void context resets the iterator with no other overhead. Apart from resetting the iterator, <code><code>values @array</code></code> in list context is the same as plain <code><code>@array</code></code>. (We recommend that you use void context <code><code>keys @array</code></code> for this, but reasoned that taking <code><code>values @array</code></code> out would require more documentation than leaving it in.)</p>

<p>Note that the values are not copied, which means modifying them will modify the contents of the hash:</p>

<pre><code><code>    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">values</span> <span class="variable">%hash</span><span class="operator">)</span>      <span class="operator">{</span> <span class="regex">s/foo/bar/g</span> <span class="operator">}</span>   <span class="comment"># modifies %hash values</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="variable">@hash</span><span class="operator">{</span><span class="keyword">keys</span> <span class="variable">%hash</span><span class="operator">}</span><span class="operator">)</span> <span class="operator">{</span> <span class="regex">s/foo/bar/g</span> <span class="operator">}</span>   <span class="comment"># same</span>
</code></code></pre>

<p>Starting with Perl 5.14, <code><code>values</code></code> can take a scalar EXPR, which must hold a reference to an unblessed hash or array. The argument will be dereferenced automatically. This aspect of <code><code>values</code></code> is considered highly experimental. The exact behaviour may change in a future version of Perl.</p>

<pre><code><code>    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">values</span> <span class="variable">$hashref</span><span class="operator">)</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
    <span class="keyword">for</span> <span class="operator">(</span><span class="keyword">values</span> <span class="variable">$obj</span><span class="operator">-&gt;</span><span class="variable">get_arrayref</span><span class="operator">)</span> <span class="operator">{</span> <span class="operator">...</span> <span class="operator">}</span>
</code></code></pre>

<p>To avoid confusing would-be users of your code who are running earlier versions of Perl with mysterious syntax errors, put this sort of thing at the top of your file to signal that your code will work <i>only</i> on Perls of a recent vintage:</p>

<pre><code><code>    <span class="keyword">use</span> <span class="number">5.012</span><span class="operator">;</span>  <span class="comment"># so keys/values/each work on arrays</span>
    <span class="keyword">use</span> <span class="number">5.014</span><span class="operator">;</span>  <span class="comment"># so keys/values/each work on scalars (experimental)</span>
</code></code></pre>

<p>See also <code><code>keys</code></code>, <code><code>each</code></code>, and <code><code>sort</code></code>.</p>

</dd>
<dt id="vec-EXPR-OFFSET-BITS">vec EXPR,OFFSET,BITS   </dt>
<dd>

<p>Treats the string in EXPR as a bit vector made up of elements of width BITS and returns the value of the element specified by OFFSET as an unsigned integer. BITS therefore specifies the number of bits that are reserved for each element in the bit vector. This must be a power of two from 1 to 32 (or 64, if your platform supports that).</p>

<p>If BITS is 8, &quot;elements&quot; coincide with bytes of the input string.</p>

<p>If BITS is 16 or more, bytes of the input string are grouped into chunks of size BITS/8, and each group is converted to a number as with pack()/unpack() with big-endian formats <code><code>n</code></code>/<code><code>N</code></code> (and analogously for BITS==64). See <a href="#pack">&quot;pack&quot;</a> for details.</p>

<p>If bits is 4 or less, the string is broken into bytes, then the bits of each byte are broken into 8/BITS groups. Bits of a byte are numbered in a little-endian-ish way, as in <code><code>0x01</code></code>, <code><code>0x02</code></code>, <code><code>0x04</code></code>, <code><code>0x08</code></code>, <code><code>0x10</code></code>, <code><code>0x20</code></code>, <code><code>0x40</code></code>, <code><code>0x80</code></code>. For example, breaking the single input byte <code><code>chr(0x36)</code></code> into two groups gives a list <code><code>(0x6, 0x3)</code></code>; breaking it into 4 groups gives <code><code>(0x2, 0x1, 0x3, 0x0)</code></code>.</p>

<p><code><code>vec</code></code> may also be assigned to, in which case parentheses are needed to give the expression the correct precedence as in</p>

<pre><code><code>    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$image</span><span class="operator">,</span> <span class="variable">$max_x</span> <span class="operator">*</span> <span class="variable">$x</span> <span class="operator">+</span> <span class="variable">$y</span><span class="operator">,</span> <span class="number">8</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">3</span><span class="operator">;</span>
</code></code></pre>

<p>If the selected element is outside the string, the value 0 is returned. If an element off the end of the string is written to, Perl will first extend the string with sufficiently many zero bytes. It is an error to try to write off the beginning of the string (i.e., negative OFFSET).</p>

<p>If the string happens to be encoded as UTF-8 internally (and thus has the UTF8 flag set), this is ignored by <code><code>vec</code></code>, and it operates on the internal byte string, not the conceptual character string, even if you only have characters with values less than 256.</p>

<p>Strings created with <code><code>vec</code></code> can also be manipulated with the logical operators <code><code>|</code></code>, <code><code>&amp;</code></code>, <code><code>^</code></code>, and <code><code>~</code></code>. These operators will assume a bit vector operation is desired when both operands are strings. See <a href="../../lib/pods/perlop.html#Bitwise-String-Operators">&quot;Bitwise String Operators&quot; in perlop</a>.</p>

<p>The following code will build up an ASCII string saying <code><code>&#39;PerlPerlPerl&#39;</code></code>. The comments show the string after each step. Note that this code works in the same way on big-endian or little-endian machines.</p>

<pre><code><code>    <span class="keyword">my</span> <span class="variable">$foo</span> <span class="operator">=</span> <span class="string">''</span><span class="operator">;</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">0</span><span class="operator">,</span> <span class="number">32</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x5065726C</span><span class="operator">;</span> <span class="comment"># 'Perl'</span>
    
    <span class="comment"># $foo eq "Perl" eq "\x50\x65\x72\x6C", 32 bits</span>
    <span class="keyword">print</span> <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">0</span><span class="operator">,</span> <span class="number">8</span><span class="operator">);</span>  <span class="comment"># prints 80 == 0x50 == ord('P')</span>
    
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">2</span><span class="operator">,</span> <span class="number">16</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x5065</span><span class="operator">;</span> <span class="comment"># 'PerlPe'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">3</span><span class="operator">,</span> <span class="number">16</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x726C</span><span class="operator">;</span> <span class="comment"># 'PerlPerl'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">8</span><span class="operator">,</span>  <span class="number">8</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x50</span><span class="operator">;</span>   <span class="comment"># 'PerlPerlP'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span>  <span class="number">9</span><span class="operator">,</span>  <span class="number">8</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">0x65</span><span class="operator">;</span>   <span class="comment"># 'PerlPerlPe'</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">20</span><span class="operator">,</span>  <span class="number">4</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">2</span><span class="operator">;</span>      <span class="comment"># 'PerlPerlPe'   . "\x02"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">21</span><span class="operator">,</span>  <span class="number">4</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">7</span><span class="operator">;</span>      <span class="comment"># 'PerlPerlPer'</span>
                                   <span class="comment"># 'r' is "\x72"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">45</span><span class="operator">,</span>  <span class="number">2</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">3</span><span class="operator">;</span>      <span class="comment"># 'PerlPerlPer'  . "\x0c"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">93</span><span class="operator">,</span>  <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># 'PerlPerlPer'  . "\x2c"</span>
    <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$foo</span><span class="operator">,</span> <span class="number">94</span><span class="operator">,</span>  <span class="number">1</span><span class="operator">)</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>      <span class="comment"># 'PerlPerlPerl'</span>
                                   <span class="comment"># 'l' is "\x6c"</span>
</code></code></pre>

<p>To transform a bit vector into a string or list of 0&#39;s and 1&#39;s, use these:</p>

<pre><code><code>    <span class="variable">$bits</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"b*"</span><span class="operator">,</span> <span class="variable">$vector</span><span class="operator">);</span>
    <span class="variable">@bits</span> <span class="operator">=</span> <span class="keyword">split</span><span class="operator">(</span><span class="regex">//</span><span class="operator">,</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"b*"</span><span class="operator">,</span> <span class="variable">$vector</span><span class="operator">));</span>
</code></code></pre>

<p>If you know the exact length in bits, it can be used in place of the <code><code>*</code></code>.</p>

<p>Here is an example to illustrate how the bits actually fall in place:</p>

<pre><code><code>    <span class="comment">#!/usr/bin/perl -wl</span>
    
    <span class="keyword">print</span> <span class="operator">&lt;&lt;</span><span class="default">'EOT'</span><span class="operator">;</span><span class="string">
                                      0         1         2         3
                       unpack("V",$_) 01234567890123456789012345678901
    ------------------------------------------------------------------
    </span><span class="default">EOT</span>
    
    <span class="keyword">for</span> <span class="variable">$w</span> <span class="operator">(</span><span class="number">0</span><span class="operator">..</span><span class="number">3</span><span class="operator">)</span> <span class="operator">{</span>
        <span class="variable">$width</span> <span class="operator">=</span> <span class="number">2</span><span class="operator">**</span><span class="variable">$w</span><span class="operator">;</span>
        <span class="keyword">for</span> <span class="operator">(</span><span class="variable">$shift</span><span class="operator">=</span><span class="number">0</span><span class="operator">;</span> <span class="variable">$shift</span> <span class="operator">&lt;</span> <span class="variable">$width</span><span class="operator">;</span> <span class="operator">++</span><span class="variable">$shift</span><span class="operator">)</span> <span class="operator">{</span>
            <span class="keyword">for</span> <span class="operator">(</span><span class="variable">$off</span><span class="operator">=</span><span class="number">0</span><span class="operator">;</span> <span class="variable">$off</span> <span class="operator">&lt;</span> <span class="number">32</span><span class="operator">/</span><span class="variable">$width</span><span class="operator">;</span> <span class="operator">++</span><span class="variable">$off</span><span class="operator">)</span> <span class="operator">{</span>
                <span class="variable">$str</span> <span class="operator">=</span> <span class="keyword">pack</span><span class="operator">(</span><span class="string">"B*"</span><span class="operator">,</span> <span class="string">"0"</span><span class="variable">x32</span><span class="operator">);</span>
                <span class="variable">$bits</span> <span class="operator">=</span> <span class="operator">(</span><span class="number">1</span><span class="operator">&lt;&lt;</span><span class="variable">$shift</span><span class="operator">);</span>
                <span class="keyword">vec</span><span class="operator">(</span><span class="variable">$str</span><span class="operator">,</span> <span class="variable">$off</span><span class="operator">,</span> <span class="variable">$width</span><span class="operator">)</span> <span class="operator">=</span> <span class="variable">$bits</span><span class="operator">;</span>
                <span class="variable">$res</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"b*"</span><span class="operator">,</span><span class="variable">$str</span><span class="operator">);</span>
                <span class="variable">$val</span> <span class="operator">=</span> <span class="keyword">unpack</span><span class="operator">(</span><span class="string">"V"</span><span class="operator">,</span> <span class="variable">$str</span><span class="operator">);</span>
                <span class="keyword">write</span><span class="operator">;</span>
            <span class="operator">}</span>
        <span class="operator">}</span>
    <span class="operator">}</span>
    
    <span class="keyword">format</span> <span class="variable">STDOUT</span> <span class="operator">=</span><span class="default">
    vec($_,@#,@#) = @&lt;&lt; == @######### @&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
    $off, $width, $bits, $val, $res
    .</span>
    <span class="comment">__END__
    </span>
</code></code></pre>

<p>Regardless of the machine architecture on which it runs, the example above should print the following table:</p>

<pre><code><code>                                      0         1         2         3
                       unpack(&quot;V&quot;,$_) 01234567890123456789012345678901
    ------------------------------------------------------------------
    vec($_, 0, 1) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 1) = 1   ==          2 01000000000000000000000000000000
    vec($_, 2, 1) = 1   ==          4 00100000000000000000000000000000
    vec($_, 3, 1) = 1   ==          8 00010000000000000000000000000000
    vec($_, 4, 1) = 1   ==         16 00001000000000000000000000000000
    vec($_, 5, 1) = 1   ==         32 00000100000000000000000000000000
    vec($_, 6, 1) = 1   ==         64 00000010000000000000000000000000
    vec($_, 7, 1) = 1   ==        128 00000001000000000000000000000000
    vec($_, 8, 1) = 1   ==        256 00000000100000000000000000000000
    vec($_, 9, 1) = 1   ==        512 00000000010000000000000000000000
    vec($_,10, 1) = 1   ==       1024 00000000001000000000000000000000
    vec($_,11, 1) = 1   ==       2048 00000000000100000000000000000000
    vec($_,12, 1) = 1   ==       4096 00000000000010000000000000000000
    vec($_,13, 1) = 1   ==       8192 00000000000001000000000000000000
    vec($_,14, 1) = 1   ==      16384 00000000000000100000000000000000
    vec($_,15, 1) = 1   ==      32768 00000000000000010000000000000000
    vec($_,16, 1) = 1   ==      65536 00000000000000001000000000000000
    vec($_,17, 1) = 1   ==     131072 00000000000000000100000000000000
    vec($_,18, 1) = 1   ==     262144 00000000000000000010000000000000
    vec($_,19, 1) = 1   ==     524288 00000000000000000001000000000000
    vec($_,20, 1) = 1   ==    1048576 00000000000000000000100000000000
    vec($_,21, 1) = 1   ==    2097152 00000000000000000000010000000000
    vec($_,22, 1) = 1   ==    4194304 00000000000000000000001000000000
    vec($_,23, 1) = 1   ==    8388608 00000000000000000000000100000000
    vec($_,24, 1) = 1   ==   16777216 00000000000000000000000010000000
    vec($_,25, 1) = 1   ==   33554432 00000000000000000000000001000000
    vec($_,26, 1) = 1   ==   67108864 00000000000000000000000000100000
    vec($_,27, 1) = 1   ==  134217728 00000000000000000000000000010000
    vec($_,28, 1) = 1   ==  268435456 00000000000000000000000000001000
    vec($_,29, 1) = 1   ==  536870912 00000000000000000000000000000100
    vec($_,30, 1) = 1   == 1073741824 00000000000000000000000000000010
    vec($_,31, 1) = 1   == 2147483648 00000000000000000000000000000001
    vec($_, 0, 2) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 2) = 1   ==          4 00100000000000000000000000000000
    vec($_, 2, 2) = 1   ==         16 00001000000000000000000000000000
    vec($_, 3, 2) = 1   ==         64 00000010000000000000000000000000
    vec($_, 4, 2) = 1   ==        256 00000000100000000000000000000000
    vec($_, 5, 2) = 1   ==       1024 00000000001000000000000000000000
    vec($_, 6, 2) = 1   ==       4096 00000000000010000000000000000000
    vec($_, 7, 2) = 1   ==      16384 00000000000000100000000000000000
    vec($_, 8, 2) = 1   ==      65536 00000000000000001000000000000000
    vec($_, 9, 2) = 1   ==     262144 00000000000000000010000000000000
    vec($_,10, 2) = 1   ==    1048576 00000000000000000000100000000000
    vec($_,11, 2) = 1   ==    4194304 00000000000000000000001000000000
    vec($_,12, 2) = 1   ==   16777216 00000000000000000000000010000000
    vec($_,13, 2) = 1   ==   67108864 00000000000000000000000000100000
    vec($_,14, 2) = 1   ==  268435456 00000000000000000000000000001000
    vec($_,15, 2) = 1   == 1073741824 00000000000000000000000000000010
    vec($_, 0, 2) = 2   ==          2 01000000000000000000000000000000
    vec($_, 1, 2) = 2   ==          8 00010000000000000000000000000000
    vec($_, 2, 2) = 2   ==         32 00000100000000000000000000000000
    vec($_, 3, 2) = 2   ==        128 00000001000000000000000000000000
    vec($_, 4, 2) = 2   ==        512 00000000010000000000000000000000
    vec($_, 5, 2) = 2   ==       2048 00000000000100000000000000000000
    vec($_, 6, 2) = 2   ==       8192 00000000000001000000000000000000
    vec($_, 7, 2) = 2   ==      32768 00000000000000010000000000000000
    vec($_, 8, 2) = 2   ==     131072 00000000000000000100000000000000
    vec($_, 9, 2) = 2   ==     524288 00000000000000000001000000000000
    vec($_,10, 2) = 2   ==    2097152 00000000000000000000010000000000
    vec($_,11, 2) = 2   ==    8388608 00000000000000000000000100000000
    vec($_,12, 2) = 2   ==   33554432 00000000000000000000000001000000
    vec($_,13, 2) = 2   ==  134217728 00000000000000000000000000010000
    vec($_,14, 2) = 2   ==  536870912 00000000000000000000000000000100
    vec($_,15, 2) = 2   == 2147483648 00000000000000000000000000000001
    vec($_, 0, 4) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 4) = 1   ==         16 00001000000000000000000000000000
    vec($_, 2, 4) = 1   ==        256 00000000100000000000000000000000
    vec($_, 3, 4) = 1   ==       4096 00000000000010000000000000000000
    vec($_, 4, 4) = 1   ==      65536 00000000000000001000000000000000
    vec($_, 5, 4) = 1   ==    1048576 00000000000000000000100000000000
    vec($_, 6, 4) = 1   ==   16777216 00000000000000000000000010000000
    vec($_, 7, 4) = 1   ==  268435456 00000000000000000000000000001000
    vec($_, 0, 4) = 2   ==          2 01000000000000000000000000000000
    vec($_, 1, 4) = 2   ==         32 00000100000000000000000000000000
    vec($_, 2, 4) = 2   ==        512 00000000010000000000000000000000
    vec($_, 3, 4) = 2   ==       8192 00000000000001000000000000000000
    vec($_, 4, 4) = 2   ==     131072 00000000000000000100000000000000
    vec($_, 5, 4) = 2   ==    2097152 00000000000000000000010000000000
    vec($_, 6, 4) = 2   ==   33554432 00000000000000000000000001000000
    vec($_, 7, 4) = 2   ==  536870912 00000000000000000000000000000100
    vec($_, 0, 4) = 4   ==          4 00100000000000000000000000000000
    vec($_, 1, 4) = 4   ==         64 00000010000000000000000000000000
    vec($_, 2, 4) = 4   ==       1024 00000000001000000000000000000000
    vec($_, 3, 4) = 4   ==      16384 00000000000000100000000000000000
    vec($_, 4, 4) = 4   ==     262144 00000000000000000010000000000000
    vec($_, 5, 4) = 4   ==    4194304 00000000000000000000001000000000
    vec($_, 6, 4) = 4   ==   67108864 00000000000000000000000000100000
    vec($_, 7, 4) = 4   == 1073741824 00000000000000000000000000000010
    vec($_, 0, 4) = 8   ==          8 00010000000000000000000000000000
    vec($_, 1, 4) = 8   ==        128 00000001000000000000000000000000
    vec($_, 2, 4) = 8   ==       2048 00000000000100000000000000000000
    vec($_, 3, 4) = 8   ==      32768 00000000000000010000000000000000
    vec($_, 4, 4) = 8   ==     524288 00000000000000000001000000000000
    vec($_, 5, 4) = 8   ==    8388608 00000000000000000000000100000000
    vec($_, 6, 4) = 8   ==  134217728 00000000000000000000000000010000
    vec($_, 7, 4) = 8   == 2147483648 00000000000000000000000000000001
    vec($_, 0, 8) = 1   ==          1 10000000000000000000000000000000
    vec($_, 1, 8) = 1   ==        256 00000000100000000000000000000000
    vec($_, 2, 8) = 1   ==      65536 00000000000000001000000000000000
    vec($_, 3, 8) = 1   ==   16777216 00000000000000000000000010000000
    vec($_, 0, 8) = 2   ==          2 01000000000000000000000000000000
    vec($_, 1, 8) = 2   ==        512 00000000010000000000000000000000
    vec($_, 2, 8) = 2   ==     131072 00000000000000000100000000000000
    vec($_, 3, 8) = 2   ==   33554432 00000000000000000000000001000000
    vec($_, 0, 8) = 4   ==          4 00100000000000000000000000000000
    vec($_, 1, 8) = 4   ==       1024 00000000001000000000000000000000
    vec($_, 2, 8) = 4   ==     262144 00000000000000000010000000000000
    vec($_, 3, 8) = 4   ==   67108864 00000000000000000000000000100000
    vec($_, 0, 8) = 8   ==          8 00010000000000000000000000000000
    vec($_, 1, 8) = 8   ==       2048 00000000000100000000000000000000
    vec($_, 2, 8) = 8   ==     524288 00000000000000000001000000000000
    vec($_, 3, 8) = 8   ==  134217728 00000000000000000000000000010000
    vec($_, 0, 8) = 16  ==         16 00001000000000000000000000000000
    vec($_, 1, 8) = 16  ==       4096 00000000000010000000000000000000
    vec($_, 2, 8) = 16  ==    1048576 00000000000000000000100000000000
    vec($_, 3, 8) = 16  ==  268435456 00000000000000000000000000001000
    vec($_, 0, 8) = 32  ==         32 00000100000000000000000000000000
    vec($_, 1, 8) = 32  ==       8192 00000000000001000000000000000000
    vec($_, 2, 8) = 32  ==    2097152 00000000000000000000010000000000
    vec($_, 3, 8) = 32  ==  536870912 00000000000000000000000000000100
    vec($_, 0, 8) = 64  ==         64 00000010000000000000000000000000
    vec($_, 1, 8) = 64  ==      16384 00000000000000100000000000000000
    vec($_, 2, 8) = 64  ==    4194304 00000000000000000000001000000000
    vec($_, 3, 8) = 64  == 1073741824 00000000000000000000000000000010
    vec($_, 0, 8) = 128 ==        128 00000001000000000000000000000000
    vec($_, 1, 8) = 128 ==      32768 00000000000000010000000000000000
    vec($_, 2, 8) = 128 ==    8388608 00000000000000000000000100000000
    vec($_, 3, 8) = 128 == 2147483648 00000000000000000000000000000001</code></code></pre>

</dd>
<dt id="wait">wait </dt>
<dd>

<p>Behaves like wait(2) on your system: it waits for a child process to terminate and returns the pid of the deceased process, or <code><code>-1</code></code> if there are no child processes. The status is returned in <code><code>$?</code></code> and <code><code><span class="operator">${^</span><span class="variable">CHILD_ERROR_NATIVE</span><span class="operator">}</span>
</code></code>. Note that a return value of <code><code>-1</code></code> could mean that child processes are being automatically reaped, as described in <a href="../../lib/pods/perlipc.html">perlipc</a>.</p>

<p>If you use wait in your handler for $SIG{CHLD} it may accidentally for the child created by qx() or system(). See <a href="../../lib/pods/perlipc.html">perlipc</a> for details.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#wait">&quot;wait&quot; in perlport</a>.</p>

</dd>
<dt id="waitpid-PID-FLAGS">waitpid PID,FLAGS </dt>
<dd>

<p>Waits for a particular child process to terminate and returns the pid of the deceased process, or <code><code>-1</code></code> if there is no such child process. On some systems, a value of 0 indicates that there are processes still running. The status is returned in <code><code>$?</code></code> and <code><code><span class="operator">${^</span><span class="variable">CHILD_ERROR_NATIVE</span><span class="operator">}</span>
</code></code>. If you say</p>

<pre><code><code>    <span class="keyword">use</span> <span class="variable">POSIX</span> <span class="string">":sys_wait_h"</span><span class="operator">;</span>
    <span class="comment">#...</span>
    <span class="keyword">do</span> <span class="operator">{</span>
        <span class="variable">$kid</span> <span class="operator">=</span> <span class="keyword">waitpid</span><span class="operator">(-</span><span class="number">1</span><span class="operator">,</span> <span class="variable">WNOHANG</span><span class="operator">);</span>
    <span class="operator">}</span> <span class="keyword">while</span> <span class="variable">$kid</span> <span class="operator">&gt;</span> <span class="number">0</span><span class="operator">;</span>
</code></code></pre>

<p>then you can do a non-blocking wait for all pending zombie processes. Non-blocking wait is available on machines supporting either the waitpid(2) or wait4(2) syscalls. However, waiting for a particular pid with FLAGS of <code><code>0</code></code> is implemented everywhere. (Perl emulates the system call by remembering the status values of processes that have exited but have not been harvested by the Perl script yet.)</p>

<p>Note that on some systems, a return value of <code><code>-1</code></code> could mean that child processes are being automatically reaped. See <a href="../../lib/pods/perlipc.html">perlipc</a> for details, and for other examples.</p>

<p>Portability issues: <a href="../../lib/pods/perlport.html#waitpid">&quot;waitpid&quot; in perlport</a>.</p>

</dd>
<dt id="wantarray">wantarray  </dt>
<dd>

<p>Returns true if the context of the currently executing subroutine or <code><code>eval</code></code> is looking for a list value. Returns false if the context is looking for a scalar. Returns the undefined value if the context is looking for no value (void context).</p>

<pre><code><code>    <span class="keyword">return</span> <span class="keyword">unless</span> <span class="keyword">defined</span> <span class="keyword">wantarray</span><span class="operator">;</span> <span class="comment"># don't bother doing more</span>
    <span class="keyword">my</span> <span class="variable">@a</span> <span class="operator">=</span> <span class="variable">complex_calculation</span><span class="operator">();</span>
    <span class="keyword">return</span> <span class="keyword">wantarray</span> <span class="operator">?</span> <span class="variable">@a</span> <span class="operator">:</span> <span class="string">"</span><span class="variable">@a</span><span class="string">"</span><span class="operator">;</span>
</code></code></pre>

<p><code><code>wantarray()</code></code>&#39;s result is unspecified in the top level of a file, in a <code><code>BEGIN</code></code>, <code><code>UNITCHECK</code></code>, <code><code>CHECK</code></code>, <code><code>INIT</code></code> or <code><code>END</code></code> block, or in a <code><code>DESTROY</code></code> method.</p>

<p>This function should have been named wantlist() instead.</p>

</dd>
<dt id="warn-LIST">warn LIST   </dt>
<dd>

<p>Prints the value of LIST to STDERR. If the last element of LIST does not end in a newline, it appends the same file/line number text as <code><code>die</code></code> does.</p>

<p>If the output is empty and <code><code>$@</code></code> already contains a value (typically from a previous eval) that value is used after appending <code><code>&quot;\t...caught&quot;</code></code> to <code><code>$@</code></code>. This is useful for staying almost, but not entirely similar to <code><code>die</code></code>.</p>

<p>If <code><code>$@</code></code> is empty then the string <code><code>&quot;Warning: Something&#39;s wrong&quot;</code></code> is used.</p>

<p>No message is printed if there is a <code><code><span class="variable">$SIG</span><span class="operator">{</span><span class="string">__WARN__</span><span class="operator">}</span>
</code></code> handler installed. It is the handler&#39;s responsibility to deal with the message as it sees fit (like, for instance, converting it into a <code><code>die</code></code>). Most handlers must therefore arrange to actually display the warnings that they are not prepared to deal with, by calling <code><code>warn</code></code> again in the handler. Note that this is quite safe and will not produce an endless loop, since <code><code>__WARN__</code></code> hooks are not called from inside one.</p>

<p>You will find this behavior is slightly different from that of <code><code><span class="variable">$SIG</span><span class="operator">{</span><span class="string">__DIE__</span><span class="operator">}</span>
</code></code> handlers (which don&#39;t suppress the error text, but can instead call <code><code>die</code></code> again to change it).</p>

<p>Using a <code><code>__WARN__</code></code> handler provides a powerful way to silence all warnings (even the so-called mandatory ones). An example:</p>

<pre><code><code>    <span class="comment"># wipe out *all* compile-time warnings</span>
    <span class="keyword">BEGIN</span> <span class="operator">{</span> <span class="variable">$SIG</span><span class="operator">{</span><span class="string">'__WARN__'</span><span class="operator">}</span> <span class="operator">=</span> <span class="keyword">sub</span><span class="variable"> </span><span class="operator">{</span> <span class="keyword">warn</span> <span class="variable">$_</span><span class="operator">[</span><span class="number">0</span><span class="operator">]</span> <span class="keyword">if</span> <span class="variable">$DOWARN</span> <span class="operator">}</span> <span class="operator">}</span>
    <span class="keyword">my</span> <span class="variable">$foo</span> <span class="operator">=</span> <span class="number">10</span><span class="operator">;</span>
    <span class="keyword">my</span> <span class="variable">$foo</span> <span class="operator">=</span> <span class="number">20</span><span class="operator">;</span>          <span class="comment"># no warning about duplicate my $foo,</span>
                           <span class="comment"># but hey, you asked for it!</span>
    <span class="comment"># no compile-time or run-time warnings before here</span>
    <span class="variable">$DOWARN</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">;</span>
    
    <span class="comment"># run-time warnings enabled after here</span>
    <span class="keyword">warn</span> <span class="string">"\$foo is alive and </span><span class="variable">$foo</span><span class="string">!"</span><span class="operator">;</span>     <span class="comment"># does show up</span>
</code></code></pre>

<p>See <a href="../../lib/pods/perlvar.html">perlvar</a> for details on setting <code><code>%SIG</code></code> entries and for more examples. See the Carp module for other kinds of warnings using its carp() and cluck() functions.</p>

</dd>
<dt id="write-FILEHANDLE">write FILEHANDLE </dt>
<dd>

</dd>
<dt id="write-EXPR">write EXPR</dt>
<dd>

</dd>
<dt id="write">write</dt>
<dd>

<p>Writes a formatted record (possibly multi-line) to the specified FILEHANDLE, using the format associated with that file. By default the format for a file is the one having the same name as the filehandle, but the format for the current output channel (see the <code><code>select</code></code> function) may be set explicitly by assigning the name of the format to the <code><code>$~</code></code> variable.</p>

<p>Top of form processing is handled automatically: if there is insufficient room on the current page for the formatted record, the page is advanced by writing a form feed, a special top-of-page format is used to format the new page header before the record is written. By default, the top-of-page format is the name of the filehandle with &quot;_TOP&quot; appended. This would be a problem with autovivified filehandles, but it may be dynamically set to the format of your choice by assigning the name to the <code><code>$^</code></code> variable while that filehandle is selected. The number of lines remaining on the current page is in variable <code><code>$-</code></code>, which can be set to <code><code>0</code></code> to force a new page.</p>

<p>If FILEHANDLE is unspecified, output goes to the current default output channel, which starts out as STDOUT but may be changed by the <code><code>select</code></code> operator. If the FILEHANDLE is an EXPR, then the expression is evaluated and the resulting string is used to look up the name of the FILEHANDLE at run time. For more on formats, see <a href="../../lib/pods/perlform.html">perlform</a>.</p>

<p>Note that write is <i>not</i> the opposite of <code><code>read</code></code>. Unfortunately.</p>

</dd>
<dt id="y-">y///</dt>
<dd>

<p>The transliteration operator. Same as <code><code>tr///</code></code>. See <a href="../../lib/pods/perlop.html#Quote-and-Quote-like-Operators">&quot;Quote and Quote-like Operators&quot; in perlop</a>.</p>

</dd>
</dl>

<h2 id="Non-function-Keywords-by-Cross-reference">Non-function Keywords by Cross-reference</h2>

<h3 id="perldata">perldata</h3>

<dl>

<dt id="DATA__">__DATA__</dt>
<dd>

</dd>
<dt id="END__">__END__</dt>
<dd>

<p>These keywords are documented in <a href="../../lib/pods/perldata.html#Special-Literals">&quot;Special Literals&quot; in perldata</a>.</p>

</dd>
</dl>

<h3 id="perlmod">perlmod</h3>

<dl>

<dt id="BEGIN">BEGIN</dt>
<dd>

</dd>
<dt id="CHECK">CHECK</dt>
<dd>

</dd>
<dt id="END">END</dt>
<dd>

</dd>
<dt id="INIT">INIT</dt>
<dd>

</dd>
<dt id="UNITCHECK">UNITCHECK</dt>
<dd>

<p>These compile phase keywords are documented in <a href="../../lib/pods/perlmod.html#BEGIN-UNITCHECK-CHECK-INIT-and-END">&quot;BEGIN, UNITCHECK, CHECK, INIT and END&quot; in perlmod</a>.</p>

</dd>
</dl>

<h3 id="perlobj">perlobj</h3>

<dl>

<dt id="DESTROY">DESTROY</dt>
<dd>

<p>This method keyword is documented in <a href="../../lib/pods/perlobj.html#Destructors">&quot;Destructors&quot; in perlobj</a>.</p>

</dd>
</dl>

<h3 id="perlop">perlop</h3>

<dl>

<dt id="and">and</dt>
<dd>

</dd>
<dt id="cmp">cmp</dt>
<dd>

</dd>
<dt id="eq">eq</dt>
<dd>

</dd>
<dt id="ge">ge</dt>
<dd>

</dd>
<dt id="gt">gt</dt>
<dd>

</dd>
<dt id="if">if</dt>
<dd>

</dd>
<dt id="le">le</dt>
<dd>

</dd>
<dt id="lt">lt</dt>
<dd>

</dd>
<dt id="ne">ne</dt>
<dd>

</dd>
<dt id="not">not</dt>
<dd>

</dd>
<dt id="or">or</dt>
<dd>

</dd>
<dt id="x">x</dt>
<dd>

</dd>
<dt id="xor">xor</dt>
<dd>

<p>These operators are documented in <a href="../../lib/pods/perlop.html">perlop</a>.</p>

</dd>
</dl>

<h3 id="perlsub">perlsub</h3>

<dl>

<dt id="AUTOLOAD">AUTOLOAD</dt>
<dd>

<p>This keyword is documented in <a href="../../lib/pods/perlsub.html#Autoloading">&quot;Autoloading&quot; in perlsub</a>.</p>

</dd>
</dl>

<h3 id="perlsyn">perlsyn</h3>

<dl>

<dt id="else">else</dt>
<dd>

</dd>
<dt id="elseif">elseif</dt>
<dd>

</dd>
<dt id="elsif">elsif</dt>
<dd>

</dd>
<dt id="for">for</dt>
<dd>

</dd>
<dt id="foreach">foreach</dt>
<dd>

</dd>
<dt id="unless">unless</dt>
<dd>

</dd>
<dt id="until">until</dt>
<dd>

</dd>
<dt id="while">while</dt>
<dd>

<p>These flow-control keywords are documented in <a href="../../lib/pods/perlsyn.html#Compound-Statements">&quot;Compound Statements&quot; in perlsyn</a>.</p>

</dd>
</dl>

<dl>

<dt id="default">default</dt>
<dd>

</dd>
<dt id="given">given</dt>
<dd>

</dd>
<dt id="when">when</dt>
<dd>

<p>These flow-control keywords related to the experimental switch feature are documented in <a href="../../lib/pods/perlsyn.html#Switch-Statements">&quot;Switch Statements&quot; in perlsyn</a> .</p>

</dd>
</dl>


</body>

</html>


