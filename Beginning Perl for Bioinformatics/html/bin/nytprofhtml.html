<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../displayToc.js"></script>
<script language="JavaScript" src="../tocParas.js"></script>
<script language="JavaScript" src="../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../scineplex.css">
<title></title>
<link rel="stylesheet" href="../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#COMMAND-LINE-OPTIONS">COMMAND-LINE OPTIONS</a></li>
  <li><a href="#SAMPLE-OUTPUT">SAMPLE OUTPUT</a></li>
  <li><a href="#DIAGNOSTICS">DIAGNOSTICS</a>
    <ul>
      <li><a href="#Unable-to-open-...-autosplit-into-...-">&quot;Unable to open &#39;... (autosplit into ...)&#39;&quot;</a></li>
    </ul>
  </li>
  <li><a href="#HISTORY">HISTORY</a>
    <ul>
      <li><a href="#Background">Background</a></li>
    </ul>
  </li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
  <li><a href="#AUTHOR">AUTHOR</a></li>
  <li><a href="#COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<p>nytprofhtml - Generate reports from Devel::NYTProf data</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<p>Typical usage:</p>

<pre><code><code> $ perl -d:NYTProf some_perl_app.pl
 $ nytprofhtml --open</code></code></pre>

<p>Options synopsis:</p>

<pre><code><code> $ nytprofhtml [-h] [-d] [-o &lt;output directory&gt;] [-f &lt;input file&gt;] [--open]</code></code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Devel::NYTProf is a powerful feature-rich perl source code profiler. See <a href="../lib/Devel/NYTProf.html">Devel::NYTProf</a> for details.</p>

<p><code><code>nytprofhtml</code></code> generates a set of html reports from a single data file generated by <a href="../lib/Devel/NYTProf.html">Devel::NYTProf</a>. (If your process forks you&#39;ll probably have multiple files. See <a href="../lib/Devel/NYTProf.html">Devel::NYTProf</a> and <a href="../bin/nytprofmerge.html">nytprofmerge</a>.)</p>

<p>The reports include dynamic runtime analysis wherein each line and each file is analyzed based on the performance of the other lines and files. As a result, you can quickly find the slowest module and the slowest line in a module. Slowness is measured in three ways: total calls, total time and average time per call.</p>

<p>Coloring is based on absolute deviations from the median. See <a href="http://en.wikipedia.org/wiki/Median_absolute_deviation">http://en.wikipedia.org/wiki/Median_absolute_deviation</a> for more details.</p>

<p>That might sound complicated, but in reality you can just run the command and enjoy your report!</p>

<h1 id="COMMAND-LINE-OPTIONS">COMMAND-LINE OPTIONS</h1>

<dl>

<dt id="f---file-filename">-f, --file &lt;filename&gt;</dt>
<dd>

<p>Specifies the location of the file generated by <a href="../lib/Devel/NYTProf.html">Devel::NYTProf</a>. Default: ./nytprof.out</p>

</dd>
<dt id="o---out-dir">-o, --out &lt;dir&gt;</dt>
<dd>

<p>The directory in which to place the generated report files. Default: ./nytprof/</p>

</dd>
<dt id="d---delete">-d, --delete</dt>
<dd>

<p>Purge any existing contents of the report output directory.</p>

</dd>
<dt id="l---lib-dir">-l, --lib &lt;dir&gt;</dt>
<dd>

<p>Add a path to the beginning of @INC to help nytprofhtml find the source files used by the code. Should not be needed in practice.</p>

</dd>
<dt id="open">--open</dt>
<dd>

<p>Make your web browser visit the report after it has been generated.</p>

<p>If this doesn&#39;t work well for you, try installing the <a>Browser::Open</a> module.</p>

</dd>
<dt id="h---help">-h, --help</dt>
<dd>

<p>Print the help message</p>

</dd>
</dl>

<h1 id="SAMPLE-OUTPUT">SAMPLE OUTPUT</h1>

<p>You can see a complete report for a large application (over 200 files and 2000 subroutines) at <a href="https://www.me.com/ix/tim.bunce/Public/perl/nytprof/nytprof-perlcritic-demo/index.html">https://www.me.com/ix/tim.bunce/Public/perl/nytprof/nytprof-perlcritic-demo/index.html</a></p>

<p>The report was generated by profiling <a href="../bin/perlcritic.html">perlcritic</a> 1.106 checking it&#39;s own source code using perl 5.12.1.</p>

<h1 id="DIAGNOSTICS">DIAGNOSTICS</h1>

<h2 id="Unable-to-open-...-autosplit-into-...-">&quot;Unable to open &#39;... (autosplit into ...)&#39;&quot;</h2>

<p>The profiled application executed code in a module that used <a href="../lib/AutoLoader.html">AutoLoader</a> to load the code from a separate .al file. NYTProf automatically recognises this situation and tries to determine the &#39;parent&#39; module file so it can associate the profile data with it. In order to do that the parent module file must already be &#39;known&#39; to NYTProf, typically by already having some code profiled.</p>

<p>You&#39;re only likely to see this warning if you&#39;re using the <code><code>start</code></code> option to start profiling after compile-time. The effect is that times spent in autoloaded subs won&#39;t be associated with the parent module file and you won&#39;t get annotated reports for them.</p>

<p>You can avoid this by using the default <code><code>start=begin</code></code> option, or by ensuring you execute some non-autoloaded code in the parent module, while the profiler is running, before an autoloaded sub is called.</p>

<h1 id="HISTORY">HISTORY</h1>

<p>A bit of history and a shameless plug...</p>

<p>NYTProf stands for &#39;New York Times Profiler&#39;. Indeed, this module was initially developed from Devel::FastProf by The New York Times Co. to help our developers quickly identify bottlenecks in large Perl applications. The NY Times loves Perl and we hope the community will benefit from our work as much as we have from theirs.</p>

<p>Please visit <a href="http://open.nytimes.com">http://open.nytimes.com</a>, our open source blog to see what we are up to, <a href="http://code.nytimes.com">http://code.nytimes.com</a> to see some of our open projects and then check out <a href="http://nytimes.com">http://nytimes.com</a> for the latest news!</p>

<h2 id="Background">Background</h2>

<p>Subroutine-level profilers:</p>

<pre><code><code>  Devel::DProf        | 1995-10-31 | ILYAZ
  Devel::AutoProfiler | 2002-04-07 | GSLONDON
  Devel::Profiler     | 2002-05-20 | SAMTREGAR
  Devel::Profile      | 2003-04-13 | JAW
  Devel::DProfLB      | 2006-05-11 | JAW
  Devel::WxProf       | 2008-04-14 | MKUTTER</code></code></pre>

<p>Statement-level profilers:</p>

<pre><code><code>  Devel::SmallProf    | 1997-07-30 | ASHTED
  Devel::FastProf     | 2005-09-20 | SALVA
  Devel::NYTProf      | 2008-03-04 | AKAPLAN
  Devel::Profit       | 2008-05-19 | LBROCARD</code></code></pre>

<p>Devel::NYTProf is a (now distant) fork of Devel::FastProf, which was itself an evolution of Devel::SmallProf.</p>

<p>Adam Kaplan took Devel::FastProf and added html report generation (based on Devel::Cover) and a test suite - a tricky thing to do for a profiler. Meanwhile Tim Bunce had been extending Devel::FastProf to add novel per-sub and per-block timing, plus subroutine caller tracking.</p>

<p>When Devel::NYTProf was released Tim switched to working on Devel::NYTProf because the html report would be a good way to show the extra profile data, and the test suite made development much easier and safer.</p>

<p>Then he went a little crazy and added a slew of new features, in addition to per-sub and per-block timing and subroutine caller tracking. These included the &#39;opcode interception&#39; method of profiling, ultra-fast and robust inclusive subroutine timing, doubling performance, plus major changes to html reporting to display all the extra profile call and timing data in richly annotated and cross-linked reports.</p>

<p>Steve Peters came on board along the way with patches for portability and to keep NYTProf working with the latest development perl versions.</p>

<p>Adam&#39;s work is sponsored by The New York Times Co. <a href="http://open.nytimes.com">http://open.nytimes.com</a>. Tim&#39;s work was partly sponsored by Shopzilla. <a href="http://www.shopzilla.com">http://www.shopzilla.com</a>.</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>Mailing list and discussion at <a href="http://groups.google.com/group/develnytprof-dev">http://groups.google.com/group/develnytprof-dev</a></p>

<p>Public SVN Repository and hacking instructions at <a href="http://code.google.com/p/perl-devel-nytprof/">http://code.google.com/p/perl-devel-nytprof/</a></p>

<p><a href="../lib/Devel/NYTProf.html">Devel::NYTProf</a>, <a>Devel::NYTProf::Reader</a>, <a href="../bin/nytprofcsv.html">nytprofcsv</a></p>

<h1 id="AUTHOR">AUTHOR</h1>

<p><b>Adam Kaplan</b>, <code><code>&lt;akaplan at nytimes.com&gt;</code></code>. <b>Tim Bunce</b>, <a href="http://www.tim.bunce.name">http://www.tim.bunce.name</a> and <a href="http://blog.timbunce.org">http://blog.timbunce.org</a>. <b>Steve Peters</b>, <code><code>&lt;steve at fisharerojo.org&gt;</code></code>.</p>

<h1 id="COPYRIGHT-AND-LICENSE">COPYRIGHT AND LICENSE</h1>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.8 or, at your option, any later version of Perl 5 you may have available.</p>


</body>

</html>


